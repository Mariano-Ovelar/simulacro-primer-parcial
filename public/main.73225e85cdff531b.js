"use strict";(self.webpackChunksimulacro_primer_Parcial=self.webpackChunksimulacro_primer_Parcial||[]).push([[179],{3692:(Ht,qe,G)=>{G.d(qe,{Ot:()=>L,ZF:()=>Ut,hX:()=>tt,z6:()=>K});var _=G(259),W=G(8256),ue=G(3530);class L{constructor(He){return He}}class K{constructor(){return(0,_.C6)()}}const ot=new W.OlP("angularfire2._apps"),ke={provide:L,useFactory:function Ve(ze){return ze&&1===ze.length?ze[0]:new L((0,_.Mq)())},deps:[[new W.FiY,ot]]},te={provide:K,deps:[[new W.FiY,ot]]};function ee(ze){return(He,We)=>{const ft=He.runOutsideAngular(()=>ze(We));return new L(ft)}}let Se=(()=>{class ze{constructor(We){(0,_.KN)("angularfire",ue.q4.full,"core"),(0,_.KN)("angularfire",ue.q4.full,"app"),(0,_.KN)("angular",W.q4F.full,We.toString())}}return ze.\u0275fac=function(We){return new(We||ze)(W.LFG(W.Lbi))},ze.\u0275mod=W.oAB({type:ze}),ze.\u0275inj=W.cJS({providers:[ke,te]}),ze})();function tt(ze,...He){return{ngModule:Se,providers:[{provide:ot,useFactory:ee(ze),multi:!0,deps:[W.R0b,W.zs3,ue.HU,...He]}]}}const Ut=(0,ue.u3)(_.ZF,!0)},7187:(Ht,qe,G)=>{G.d(qe,{gg:()=>DE,ET:()=>kA,hJ:()=>FA,BS:()=>OA,PL:()=>LA,ad:()=>VA,Cm:()=>NA});var _=G(3530),W=G(8256),ue=G(3692),L=G(259),K=G(5861),ve=G(2090),Ve=G(6881),ot=G(655),ke=G(1877),te=G(4859);const an=function Ut(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new ve.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new ke.Yd("@firebase/auth");function ft(n,...e){He.logLevel<=ke.in.ERROR&&He.error(`Auth (${Ve.Jn}): ${n}`,...e)}function re(n,...e){throw lt(n,...e)}function Ue(n,...e){return lt(n,...e)}function lt(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return rt.create(n,...e)}function Te(n,e,...t){if(!n)throw lt(e,...t)}function at(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ft(e),new Error(e)}function ge(n,e){n||at(e)}function Le(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class mt{constructor(e,t){this.shortDelay=e,this.longDelay=t,ge(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,ve.uI)()||(0,ve.b$)()}get(){return function et(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Re(){return"http:"===Le()||"https:"===Le()}()||(0,ve.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class _n{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void at("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void at("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void at("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ot={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},zt=new mt(3e4,6e4);function gt(n,e,t,r){return xn.apply(this,arguments)}function xn(){return(xn=(0,K.Z)(function*(n,e,t,r,a={}){return vn(n,a,(0,K.Z)(function*(){let c={},d={};r&&("GET"===e?d=r:c={body:JSON.stringify(r)});const m=(0,ve.xO)(Object.assign({key:n.config.apiKey},d)).slice(1),C=yield n._getAdditionalHeaders();return C["Content-Type"]="application/json",n.languageCode&&(C["X-Firebase-Locale"]=n.languageCode),_n.fetch()(Si(n,n.config.apiHost,t,m),Object.assign({method:e,headers:C,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function vn(n,e,t){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,K.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ot),e);try{const a=new On(n),c=yield Promise.race([t(),a.promise]);a.clearNetworkTimeout();const d=yield c.json();if("needConfirmation"in d)throw Fr(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[C,R]=m.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===C)throw Fr(n,"credential-already-in-use",d);if("EMAIL_EXISTS"===C)throw Fr(n,"email-already-in-use",d);if("USER_DISABLED"===C)throw Fr(n,"user-disabled",d);const k=r[C]||C.toLowerCase().replace(/[_\s]+/g,"-");if(R)throw function ye(n,e,t){const r=Object.assign(Object.assign({},an()),{[e]:t});return new ve.LL("auth","Firebase",r).create(e,{appName:n.name})}(n,k,R);re(n,k)}}catch(a){if(a instanceof ve.ZR)throw a;re(n,"network-request-failed",{message:String(a)})}})).apply(this,arguments)}function Si(n,e,t,r){const a=`${e}${t}?${r}`;return n.config.emulator?function en(n,e){ge(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,a):`${n.config.apiScheme}://${a}`}class On{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ue(this.auth,"network-request-failed")),zt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fr(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Ue(n,e,r);return a.customData._tokenResponse=t,a}function wt(){return(wt=(0,K.Z)(function*(n,e){return gt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Ai(){return(Ai=(0,K.Z)(function*(n,e){return gt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function wr(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function rn(){return(rn=(0,K.Z)(function*(n,e=!1){const t=(0,ve.m9)(n),r=yield t.getIdToken(e),a=Mt(r);Te(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const c="object"==typeof a.firebase?a.firebase:void 0,d=c?.sign_in_provider;return{claims:a,token:r,authTime:wr(Fe(a.auth_time)),issuedAtTime:wr(Fe(a.iat)),expirationTime:wr(Fe(a.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}})).apply(this,arguments)}function Fe(n){return 1e3*Number(n)}function Mt(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const a=(0,ve.tV)(t);return a?JSON.parse(a):(ft("Failed to decode base64 JWT payload"),null)}catch(a){return ft("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Xt(n,e){return qn.apply(this,arguments)}function qn(){return(qn=(0,K.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ve.ZR&&function Mi({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class nn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const a=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,K.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,K.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class qr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wr(this.lastLoginAt),this.creationTime=wr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tn(n){return ps.apply(this,arguments)}function ps(){return ps=(0,K.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),a=yield Xt(n,function gr(n,e){return Ai.apply(this,arguments)}(t,{idToken:r}));Te(a?.users.length,t,"internal-error");const c=a.users[0];n._notifyReloadListener(c);const d=null!==(e=c.providerUserInfo)&&void 0!==e&&e.length?function gi(n){return n.map(e=>{var{providerId:t}=e,r=(0,ot._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(c.providerUserInfo):[],m=function Ur(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}(n.providerData,d),k=!!n.isAnonymous&&!(n.email&&c.passwordHash||m?.length),H={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new qr(c.createdAt,c.lastLoginAt),isAnonymous:k};Object.assign(n,H)}),ps.apply(this,arguments)}function Vr(){return(Vr=(0,K.Z)(function*(n){const e=(0,ve.m9)(n);yield Tn(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Lt(){return(Lt=(0,K.Z)(function*(n,e){const t=yield vn(n,{},(0,K.Z)(function*(){const r=(0,ve.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=n.config,d=Si(n,a,"/v1/token",`key=${c}`),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",_n.fetch()(d,{method:"POST",headers:m,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Er{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Rn(n){const e=Mt(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,K.Z)(function*(){return Te(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,K.Z)(function*(){const{accessToken:a,refreshToken:c,expiresIn:d}=yield function Yn(n,e){return Lt.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(a,c,Number(d))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:c}=t,d=new Er;return r&&(Te("string"==typeof r,"internal-error",{appName:e}),d.refreshToken=r),a&&(Te("string"==typeof a,"internal-error",{appName:e}),d.accessToken=a),c&&(Te("number"==typeof c,"internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Er,this.toJSON())}_performRefresh(){return at("not implemented")}}function Zn(n,e){Te("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class fn{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,c=(0,ot._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new qr(c.createdAt||void 0,c.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,K.Z)(function*(){const r=yield Xt(t,t.stsTokenManager.getToken(t.auth,e));return Te(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Lr(n){return rn.apply(this,arguments)}(this,e)}reload(){return function hn(n){return Vr.apply(this,arguments)}(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,K.Z)(function*(){let a=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),a=!0),t&&(yield Tn(r)),yield r.auth._persistUserIfCurrent(r),a&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,K.Z)(function*(){const t=yield e.getIdToken();return yield Xt(e,function $i(n,e){return wt.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,c,d,m,C,R,k;const H=null!==(r=t.displayName)&&void 0!==r?r:void 0,de=null!==(a=t.email)&&void 0!==a?a:void 0,Ae=null!==(c=t.phoneNumber)&&void 0!==c?c:void 0,Je=null!==(d=t.photoURL)&&void 0!==d?d:void 0,st=null!==(m=t.tenantId)&&void 0!==m?m:void 0,Pt=null!==(C=t._redirectEventId)&&void 0!==C?C:void 0,cn=null!==(R=t.createdAt)&&void 0!==R?R:void 0,Bn=null!==(k=t.lastLoginAt)&&void 0!==k?k:void 0,{uid:ln,emailVerified:Ns,isAnonymous:Xr,providerData:_r,stsTokenManager:Qs}=t;Te(ln&&Qs,e,"internal-error");const pc=Er.fromJSON(this.name,Qs);Te("string"==typeof ln,e,"internal-error"),Zn(H,e.name),Zn(de,e.name),Te("boolean"==typeof Ns,e,"internal-error"),Te("boolean"==typeof Xr,e,"internal-error"),Zn(Ae,e.name),Zn(Je,e.name),Zn(st,e.name),Zn(Pt,e.name),Zn(cn,e.name),Zn(Bn,e.name);const BC=new fn({uid:ln,auth:e,email:de,emailVerified:Ns,displayName:H,isAnonymous:Xr,photoURL:Je,phoneNumber:Ae,tenantId:st,stsTokenManager:pc,createdAt:cn,lastLoginAt:Bn});return _r&&Array.isArray(_r)&&(BC.providerData=_r.map(UA=>Object.assign({},UA))),Pt&&(BC._redirectEventId=Pt),BC}static _fromIdTokenResponse(e,t,r=!1){return(0,K.Z)(function*(){const a=new Er;a.updateFromServerResponse(t);const c=new fn({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return yield Tn(c),c})()}}const Kr=new Map;function Y(n){ge(n instanceof Function,"Expected a class definition");let e=Kr.get(n);return e?(ge(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Kr.set(n,e),e)}const se=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,K.Z)(function*(){return!0})()}_set(t,r){var a=this;return(0,K.Z)(function*(){a.storage[t]=r})()}_get(t){var r=this;return(0,K.Z)(function*(){const a=r.storage[t];return void 0===a?null:a})()}_remove(t){var r=this;return(0,K.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Me(n,e,t){return`firebase:${n}:${e}:${t}`}class he{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:c}=this.auth;this.fullUserKey=Me(this.userKey,a.apiKey,c),this.fullPersistenceKey=Me("persistence",a.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,K.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?fn._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,K.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,K.Z)(function*(){if(!t.length)return new he(Y(se),e,r);const a=(yield Promise.all(t.map(function(){var R=(0,K.Z)(function*(k){if(yield k._isAvailable())return k});return function(k){return R.apply(this,arguments)}}()))).filter(R=>R);let c=a[0]||Y(se);const d=Me(r,e.config.apiKey,e.name);let m=null;for(const R of t)try{const k=yield R._get(d);if(k){const H=fn._fromJSON(e,k);R!==c&&(m=H),c=R;break}}catch{}const C=a.filter(R=>R._shouldAllowMigration);return c._shouldAllowMigration&&C.length?(c=C[0],m&&(yield c._set(d,m.toJSON())),yield Promise.all(t.map(function(){var R=(0,K.Z)(function*(k){if(k!==c)try{yield k._remove(d)}catch{}});return function(k){return R.apply(this,arguments)}}())),new he(c,e,r)):new he(c,e,r)})()}}function pt(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function le(n=(0,ve.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function ie(n=(0,ve.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Be(n=(0,ve.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function St(n=(0,ve.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function J(n=(0,ve.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function q(n=(0,ve.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function be(n=(0,ve.z$)()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Et(n,e=[]){let t;switch(n){case"Browser":t=pt((0,ve.z$)());break;case"Worker":t=`${pt((0,ve.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ve.Jn}/${r}`}function pn(n,e){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,K.Z)(function*(n,e){return gt(n,"GET","/v2/recaptchaConfig",function Dt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function Br(n){return void 0!==n&&void 0!==n.enterprise}class gs{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}const Jn="NO_RECAPTCHA";class ji{constructor(e){this.type="recaptcha-enterprise",this.auth=Dn(e)}verify(e="verify",t=!1){var r=this;return(0,K.Z)(function*(){function c(){return c=(0,K.Z)(function*(m){if(!t){if(null==m.tenantId&&null!=m._agentRecaptchaConfig)return m._agentRecaptchaConfig.siteKey;if(null!=m.tenantId&&void 0!==m._tenantRecaptchaConfigs[m.tenantId])return m._tenantRecaptchaConfigs[m.tenantId].siteKey}return new Promise(function(){var C=(0,K.Z)(function*(R,k){pn(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(H=>{if(void 0!==H.recaptchaKey){const de=new gs(H);return null==m.tenantId?m._agentRecaptchaConfig=de:m._tenantRecaptchaConfigs[m.tenantId]=de,R(de.siteKey)}k(new Error("recaptcha Enterprise site key undefined"))}).catch(H=>{k(H)})});return function(R,k){return C.apply(this,arguments)}}())}),c.apply(this,arguments)}function d(m,C,R){const k=window.grecaptcha;Br(k)?k.enterprise.ready(()=>{k.enterprise.execute(m,{action:e}).then(H=>{C(H)}).catch(()=>{C(Jn)})}):R(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((m,C)=>{(function a(m){return c.apply(this,arguments)})(r.auth).then(R=>{if(!t&&Br(window.grecaptcha))d(R,m,C);else{if(typeof window>"u")return void C(new Error("RecaptchaVerifier is only supported in browser"));(function Xs(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const c=Ue("internal-error");c.customData=a,t(c)},r.type="text/javascript",r.charset="UTF-8",function Js(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+R).then(()=>{d(R,m,C)}).catch(k=>{C(k)})}}).catch(R=>{C(R)})})})()}}class Gi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=c=>new Promise((d,m)=>{try{d(e(c))}catch(C){m(C)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,K.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const a of t.queue)yield a(e),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const c of r)try{c()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}})()}}class to{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yt(this),this.idTokenSubscription=new yt(this),this.beforeStateQueue=new Gi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Y(t)),this._initializationPromise=this.queue((0,K.Z)(function*(){var a,c;if(!r._deleted&&(r.persistenceManager=yield he.create(r,e),!r._deleted)){if(null!==(a=r._popupRedirectResolver)&&void 0!==a&&a._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(c=r.currentUser)||void 0===c?void 0:c.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,K.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,K.Z)(function*(){var r;const a=yield t.assertedPersistence.getCurrentUser();let c=a,d=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const m=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,C=c?._redirectEventId,R=yield t.tryRedirectSignIn(e);(!m||m===C)&&R?.user&&(c=R.user,d=!0)}if(!c)return t.directlySetCurrentUser(null);if(!c._redirectEventId){if(d)try{yield t.beforeStateQueue.runMiddleware(c)}catch(m){c=a,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(m))}return c?t.reloadAndSetCurrentUserOrClear(c):t.directlySetCurrentUser(null)}return Te(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===c._redirectEventId?t.directlySetCurrentUser(c):t.reloadAndSetCurrentUserOrClear(c)})()}tryRedirectSignIn(e){var t=this;return(0,K.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,K.Z)(function*(){try{yield Tn(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,K.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,K.Z)(function*(){const r=e?(0,ve.m9)(e):null;return r&&Te(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,K.Z)(function*(){if(!r._deleted)return e&&Te(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,K.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,K.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,K.Z)(function*(){yield t.assertedPersistence.setPersistence(Y(e))}))}initializeRecaptchaConfig(){var e=this;return(0,K.Z)(function*(){const t=yield pn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new gs(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new ji(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ve.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,K.Z)(function*(){const a=yield r.getOrInitRedirectPersistenceManager(t);return null===e?a.removeCurrentUser():a.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,K.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&Y(e)||t._popupRedirectResolver;Te(r,t,"argument-error"),t.redirectPersistenceManager=yield he.create(t,[Y(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,K.Z)(function*(){var r,a;return t._isInitialized&&(yield t.queue((0,K.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(a=t.redirectUser)||void 0===a?void 0:a._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,K.Z)(function*(){if(e===t.currentUser)return t.queue((0,K.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const c="function"==typeof t?t:t.next.bind(t),d=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(d,this,"internal-error"),d.then(()=>c(this.currentUser)),"function"==typeof t?e.addObserver(t,r,a):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,K.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Et(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,K.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const a=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();a&&(r["X-Firebase-Client"]=a);const c=yield e._getAppCheckToken();return c&&(r["X-Firebase-AppCheck"]=c),r})()}_getAppCheckToken(){var e=this;return(0,K.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function We(n,...e){He.logLevel<=ke.in.WARN&&He.warn(`Auth (${Ve.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Dn(n){return(0,ve.m9)(n)}class yt{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,ve.ne)(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function eo(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new mt(3e4,6e4),new mt(2e3,1e4),new mt(3e4,6e4),new mt(5e3,15e3),encodeURIComponent("fac");var ml="@firebase/auth";class bE{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,K.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,ve.Pz)("authIdTokenMaxAge"),function Xg(n){(0,Ve.Xd)(new te.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=r.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:r.name}),Te(!m?.includes(":"),"argument-error",{appName:r.name});const C={apiKey:d,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Et(n)},R=new to(r,a,c,C);return function kn(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Y);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(R,t),R},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,Ve.Xd)(new te.wA("auth-internal",e=>{const t=Dn(e.getProvider("auth").getImmediate());return new bE(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ve.KN)(ml,"0.23.1",function Jg(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Ve.KN)(ml,"0.23.1","esm2017")}("Browser");class n_{constructor(){return(0,_.vb)("auth")}}const f_=new Map,WE={activated:!1,tokenObservers:[]},ab={initialized:!1,enabled:!1};function ii(n){return f_.get(n)||Object.assign({},WE)}function Od(){return ab}const am="https://content-firebaseappcheck.googleapis.com/v1",YE="exchangeDebugToken",Jf={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class kd{constructor(e,t,r,a,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,K.Z)(function*(){t.stop();try{t.pending=new ve.BH,yield function p_(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ve.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ki=new ve.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function wl(n,e){return v_.apply(this,arguments)}function v_(){return(v_=(0,K.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const H=yield a.getHeartbeatsHeader();H&&(r["X-Firebase-Client"]=H)}const c={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,c)}catch(H){throw ki.create("fetch-network-error",{originalErrorMessage:H?.message})}if(200!==d.status)throw ki.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(H){throw ki.create("fetch-parse-error",{originalErrorMessage:H?.message})}const C=m.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw ki.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const R=1e3*Number(C[1]),k=Date.now();return{token:m.token,expireTimeMillis:k+R,issuedAtTimeMillis:k}})).apply(this,arguments)}const ZE="firebase-app-check-database",QE=1,Fd="firebase-app-check-store";let Ac=null;function I_(n,e){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,K.Z)(function*(n,e){const r=(yield function E_(){return Ac||(Ac=new Promise((n,e)=>{try{const t=indexedDB.open(ZE,QE);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(ki.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Fd,{keyPath:"compositeKey"})}}catch(t){e(ki.create("storage-open",{originalErrorMessage:t?.message}))}}),Ac)}()).transaction(Fd,"readwrite"),c=r.objectStore(Fd).put({compositeKey:n,value:e});return new Promise((d,m)=>{c.onsuccess=C=>{d()},r.onerror=C=>{var R;m(ki.create("storage-set",{originalErrorMessage:null===(R=C.target.error)||void 0===R?void 0:R.message}))}})})).apply(this,arguments)}const Vd=new ke.Yd("@firebase/app-check");function C_(n,e){return(0,ve.hl)()?function JE(n,e){return I_(function D_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Vd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ep(){return tp.apply(this,arguments)}function tp(){return(tp=(0,K.Z)(function*(){const n=Od();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const db={error:"UNKNOWN_ERROR"};function tI(n){return ve.US.encodeString(JSON.stringify(n),!1)}function Bd(n){return np.apply(this,arguments)}function np(){return(np=(0,K.Z)(function*(n,e=!1){const t=n.app;!function m_(n){if(!ii(n).activated)throw ki.create("use-before-activation",{appName:n.name})}(t);const r=ii(t);let c,a=r.token;if(a&&!Wo(a)&&(r.token=void 0,a=void 0),!a){const C=yield r.cachedTokenPromise;C&&(Wo(C)?a=C:yield C_(t,void 0))}if(!e&&a&&Wo(a))return{token:a.token};let m,d=!1;if(function Ud(){return Od().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=wl(function w_(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`${am}/projects/${t}/apps/${r}:${YE}?key=${a}`,body:{debug_token:e}}}(t,yield ep()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const C=yield r.exchangeTokenPromise;return yield C_(t,C),r.token=C,{token:C.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),a=yield ii(t).exchangeTokenPromise}catch(C){"appCheck/throttled"===C.code?Vd.warn(C.message):Vd.error(C),c=C}return a?c?m=Wo(a)?{token:a.token,internalError:c}:A_(c):(m={token:a.token},r.token=a,yield C_(t,a)):m=A_(c),d&&function gm(n,e){const t=ii(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m})).apply(this,arguments)}function pm(n,e){const t=ii(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function rp(n){const{app:e}=n,t=ii(e);let r=t.tokenRefresher;r||(r=function S_(n){const{app:e}=n;return new kd((0,K.Z)(function*(){let r;if(r=ii(e).token?yield Bd(n,!0):yield Bd(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ii(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Jf.RETRIAL_MIN_WAIT,Jf.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Wo(n){return n.expireTimeMillis-Date.now()>0}function A_(n){return{token:tI(db),error:n}}class mm{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ii(this.app);for(const t of e)pm(this.app,t.next);return Promise.resolve()}}const P_="app-check-internal";!function cI(){(0,Ve.Xd)(new te.wA("app-check",n=>function ip(n,e){return new mm(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(P_).initialize()})),(0,Ve.Xd)(new te.wA(P_,n=>function nI(n){return{getToken:e=>Bd(n,e),addTokenListener:e=>function $d(n,e,t,r){const{app:a}=n,c=ii(a);if(c.tokenObservers=[...c.tokenObservers,{next:t,error:r,type:e}],c.token&&Wo(c.token)){const m=c.token;Promise.resolve().then(()=>{t({token:m.token}),rp(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>rp(n))}(n,"INTERNAL",e),removeTokenListener:e=>pm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ve.KN)("@firebase/app-check","0.7.0")}();class up{constructor(){return(0,_.vb)("app-check")}}typeof window<"u"&&window;var It,Eb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ua={},k_=k_||{},sn=Eb||self;function Wd(){}function cp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function El(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Tm="closure_uid_"+(1e9*Math.random()>>>0),da=0;function pI(n,e,t){return n.call.apply(n.bind,arguments)}function F_(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function ds(n,e,t){return(ds=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pI:F_).apply(null,arguments)}function lp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Fi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,a,c){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[a].apply(r,d)}}function Bu(){this.s=this.s,this.o=this.o}Bu.prototype.s=!1,Bu.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function fI(n){Object.prototype.hasOwnProperty.call(n,Tm)&&n[Tm]||(n[Tm]=++da)}(this)},Bu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const V_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Sm(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function U_(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(cp(r)){const a=n.length||0,c=r.length||0;n.length=a+c;for(let d=0;d<c;d++)n[a+d]=r[d]}else n.push(r)}}function jt(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}jt.prototype.h=function(){this.defaultPrevented=!0};var B_=function(){if(!sn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{sn.addEventListener("test",Wd,e),sn.removeEventListener("test",Wd,e)}catch{}return n}();function qd(n){return/^[\s\xa0]*$/.test(n)}var Am=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Mm(n,e){return n<e?-1:n>e?1:0}function dp(){var n=sn.navigator;return n&&(n=n.userAgent)?n:""}function ha(n){return-1!=dp().indexOf(n)}function xm(n){return xm[" "](n),n}function Rm(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}xm[" "]=Wd;var Dl,n,gI=ha("Opera"),Il=ha("Trident")||ha("MSIE"),mI=ha("Edge"),hp=mI||Il,Pm=ha("Gecko")&&!(-1!=dp().toLowerCase().indexOf("webkit")&&!ha("Edge"))&&!(ha("Trident")||ha("MSIE"))&&!ha("Edge"),Nc=-1!=dp().toLowerCase().indexOf("webkit")&&!ha("Edge");function $_(){var n=sn.document;return n?n.documentMode:void 0}e:{var Kd="",Nm=(n=dp(),Pm?/rv:([^\);]+)(\)|;)/.exec(n):mI?/Edge\/([\d\.]+)/.exec(n):Il?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Nc?/WebKit\/(\S+)/.exec(n):gI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Nm&&(Kd=Nm?Nm[1]:""),Il){var j_=$_();if(null!=j_&&j_>parseFloat(Kd)){Dl=String(j_);break e}}Dl=Kd}var Ib={},Cb=sn.document&&Il&&($_()||parseInt(Dl,10))||void 0;function Yd(n,e){if(jt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Pm){e:{try{xm(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Cl[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yd.$.h.call(this)}}Fi(Yd,jt);var Cl={2:"touch",3:"pen",4:"mouse"};Yd.prototype.h=function(){Yd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Zd="closure_listenable_"+(1e6*Math.random()|0),G_=0;function fp(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=a,this.key=++G_,this.fa=this.ia=!1}function pp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function gp(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function H_(n){const e={};for(const t in n)e[t]=n[t];return e}const z_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W_(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let c=0;c<z_.length;c++)t=z_[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function mp(n){this.src=n,this.g={},this.h=0}function Fm(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],a=V_(r,e);(c=0<=a)&&Array.prototype.splice.call(r,a,1),c&&(pp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function yp(n,e,t,r){for(var a=0;a<n.length;++a){var c=n[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==r)return a}return-1}mp.prototype.add=function(n,e,t,r,a){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var d=yp(n,e,r,a);return-1<d?(e=n[d],t||(e.ia=!1)):((e=new fp(e,this.src,c,!!r,a)).ia=t,n.push(e)),e};var Lm="closure_lm_"+(1e6*Math.random()|0),vp={};function Vm(n,e,t,r,a){if(r&&r.once)return wp(n,e,t,r,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Vm(n,e[c],t,r,a);return null}return t=Bm(t),n&&n[Zd]?n.O(e,t,El(r)?!!r.capture:!!r,a):_p(n,e,t,!1,r,a)}function _p(n,e,t,r,a,c){if(!e)throw Error("Invalid event type");var d=El(a)?!!a.capture:!!a,m=Um(n);if(m||(n[Lm]=m=new mp(n)),(t=m.add(e,t,r,d,c)).proxy)return t;if(r=function bb(){const e=Y_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)B_||(a=d),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(Oc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function wp(n,e,t,r,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)wp(n,e[c],t,r,a);return null}return t=Bm(t),n&&n[Zd]?n.P(e,t,El(r)?!!r.capture:!!r,a):_p(n,e,t,!0,r,a)}function q_(n,e,t,r,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)q_(n,e[c],t,r,a);else r=El(r)?!!r.capture:!!r,t=Bm(t),n&&n[Zd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=yp(c=n.g[e],t,r,a))&&(pp(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Um(n))&&(e=n.g[e.toString()],n=-1,e&&(n=yp(e,t,r,a)),(t=-1<n?e[n]:null)&&K_(t))}function K_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Zd])Fm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Oc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Um(e))?(Fm(t,n),0==t.h&&(t.src=null,e[Lm]=null)):pp(n)}}}function Oc(n){return n in vp?vp[n]:vp[n]="on"+n}function Y_(n,e){if(n.fa)n=!0;else{e=new Yd(e,this);var t=n.listener,r=n.la||n.src;n.ia&&K_(n),n=t.call(r,e)}return n}function Um(n){return(n=n[Lm])instanceof mp?n:null}var Ep="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bm(n){return"function"==typeof n?n:(n[Ep]||(n[Ep]=function(e){return n.handleEvent(e)}),n[Ep])}function Li(){Bu.call(this),this.i=new mp(this),this.S=this,this.J=null}function di(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new jt(e,n);else if(e instanceof jt)e.target=e.target||n;else{var a=e;W_(e=new jt(r,n),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var d=e.g=t[c];a=pu(d,r,!0,e)&&a}if(a=pu(d=e.g=n,r,!0,e)&&a,a=pu(d,r,!1,e)&&a,t)for(c=0;c<t.length;c++)a=pu(d=e.g=t[c],r,!1,e)&&a}function pu(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var d=e[c];if(d&&!d.fa&&d.capture==t){var m=d.listener,C=d.la||d.src;d.ia&&Fm(n.i,d),a=!1!==m.call(C,r)&&a}}return a&&!r.defaultPrevented}Fi(Li,Bu),Li.prototype[Zd]=!0,Li.prototype.removeEventListener=function(n,e,t,r){q_(this,n,e,t,r)},Li.prototype.N=function(){if(Li.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)pp(t[r]);delete n.g[e],n.h--}}this.J=null},Li.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Li.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Qd=sn.JSON.stringify;function Jd(){var n=J_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var eh,Xd=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Z_,n=>n.reset());class Z_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jm(n){sn.setTimeout(()=>{throw n},0)}function Ip(n,e){eh||function Q_(){var n=sn.Promise.resolve(void 0);eh=function(){n.then(yI)}}(),th||(eh(),th=!0),J_.add(n,e)}var th=!1,J_=new class $m{constructor(){this.h=this.g=null}add(e,t){const r=Xd.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function yI(){for(var n;n=Jd();){try{n.h.call(n.g)}catch(t){jm(t)}var e=Xd;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}th=!1}function nh(n,e){Li.call(this),this.h=n||1,this.g=e||sn,this.j=ds(this.qb,this),this.l=Date.now()}function Gm(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Dp(n,e,t){if("function"==typeof n)t&&(n=ds(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ds(n.handleEvent,n)}return 2147483647<Number(e)?-1:sn.setTimeout(n,e||0)}function Hm(n){n.g=Dp(()=>{n.g=null,n.i&&(n.i=!1,Hm(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Fi(nh,Li),(It=nh.prototype).ga=!1,It.T=null,It.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),di(this,"tick"),this.ga&&(Gm(this),this.start()))}},It.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.N=function(){nh.$.N.call(this),Gm(this),delete this.g};class vI extends Bu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hm(this)}N(){super.N(),this.g&&(sn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rh(n){Bu.call(this),this.h=n,this.g={}}Fi(rh,Bu);var qs=[];function X_(n,e,t,r){Array.isArray(t)||(t&&(qs[0]=t.toString()),t=qs);for(var a=0;a<t.length;a++){var c=Vm(e,t[a],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function e0(n){gp(n.g,function(e,t){this.g.hasOwnProperty(t)&&K_(e)},n),n.g={}}function zm(){this.g=!0}function bl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function wI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var d=1;d<a.length;d++)a[d]=""}}}return Qd(t)}catch{return e}}(n,t)+(r?" "+r:"")})}rh.prototype.N=function(){rh.$.N.call(this),e0(this)},rh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zm.prototype.Ea=function(){this.g=!1},zm.prototype.info=function(){};var $u={},n0=null;function Cp(){return n0=n0||new Li}function bp(n){jt.call(this,$u.Ta,n)}function ih(n){const e=Cp();di(e,new bp(e))}function r0(n,e){jt.call(this,$u.STAT_EVENT,n),this.stat=e}function As(n){const e=Cp();di(e,new r0(e,n))}function s0(n,e){jt.call(this,$u.Ua,n),this.size=e}function sh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return sn.setTimeout(function(){n()},e)}$u.Ta="serverreachability",Fi(bp,jt),$u.STAT_EVENT="statevent",Fi(r0,jt),$u.Ua="timingevent",Fi(s0,jt);var wo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Tp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qm(){}function Km(){}qm.prototype.h=null;var ah,oh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ym(){jt.call(this,"d")}function Zm(){jt.call(this,"c")}function Sp(){}function uh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new rh(this),this.P=Ap,this.V=new nh(n=hp?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new ch}function ch(){this.i=null,this.g="",this.h=!1}Fi(Ym,jt),Fi(Zm,jt),Fi(Sp,qm),Sp.prototype.g=function(){return new XMLHttpRequest},Sp.prototype.i=function(){return{}},ah=new Sp;var Ap=45e3,Tl={},Qm={};function lh(n,e,t){n.L=1,n.v=Rp(gu(e)),n.s=t,n.S=!0,EI(n,null)}function EI(n,e){n.G=Date.now(),Sl(n),n.A=gu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),f0(t.i,"t",r),n.C=0,t=n.l.I,n.h=new ch,n.g=vy(n.l,t?e:null,!n.s),0<n.O&&(n.M=new vI(ds(n.Pa,n,n.g),n.O)),X_(n.U,n.g,"readystatechange",n.nb),e=n.I?H_(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),ih(),function Wm(n,e,t,r,a,c){n.info(function(){if(n.g)if(c)for(var d="",m=c.split("&"),C=0;C<m.length;C++){var R=m[C].split("=");if(1<R.length){var k=R[0];R=R[1];var H=k.split("_");d=2<=H.length&&"type"==H[1]?d+(k+"=")+R+"&":d+(k+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Jm(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Xm(n,e,t){let a,r=!0;for(;!n.J&&n.C<t.length;){if(a=a0(n,t),a==Qm){4==e&&(n.o=4,As(14),r=!1),bl(n.j,n.m,null,"[Incomplete Response]");break}if(a==Tl){n.o=4,As(15),bl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}bl(n.j,n.m,a,null),kc(n,a)}Jm(n)&&a!=Qm&&a!=Tl&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,As(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),_h(e),e.L=!0,As(11))):(bl(n.j,n.m,t,"[Invalid Chunked Response]"),Ba(n),ju(n))}function a0(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Qm:(t=Number(e.substring(t,r)),isNaN(t)?Tl:(r+=1)+t>e.length?Qm:(e=e.substr(r,t),n.C=r+t,e))}function Sl(n){n.Y=Date.now()+n.P,Mp(n,n.P)}function Mp(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=sh(ds(n.lb,n),e)}function qo(n){n.B&&(sn.clearTimeout(n.B),n.B=null)}function ju(n){0==n.l.H||n.J||my(n.l,n)}function Ba(n){qo(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Gm(n.V),e0(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function kc(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Ml(t.h,n)))if(!n.K&&Ml(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;wh(t),kp(t)}gy(t),As(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=sh(ds(t.ib,t),6e3));if(1>=SI(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Wu(t,11)}else if((n.K||t.g==n)&&wh(t),!qd(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let R=a[e];if(t.V=R[0],R=R[1],2==t.H)if("c"==R[0]){t.J=R[1],t.oa=R[2];const k=R[3];null!=k&&(t.qa=k,t.j.info("VER="+t.qa));const H=R[4];null!=H&&(t.Ga=H,t.j.info("SVER="+t.Ga));const de=R[5];null!=de&&"number"==typeof de&&0<de&&(t.K=r=1.5*de,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Ae=n.g;if(Ae){const Je=Ae.g?Ae.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Je){var c=r.h;c.g||-1==Je.indexOf("spdy")&&-1==Je.indexOf("quic")&&-1==Je.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(oy(c,c.h),c.h=null))}if(r.F){const st=Ae.g?Ae.g.getResponseHeader("X-HTTP-Session-Id"):null;st&&(r.Da=st,Or(r.G,r.F,st))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var d=n;if((r=t).wa=Up(r,r.I?r.oa:null,r.Y),d.K){y0(r.h,d);var m=d,C=r.K;C&&m.setTimeout(C),m.B&&(qo(m),Sl(m)),r.g=d}else Fp(r);0<t.i.length&&Ol(t)}else"stop"!=R[0]&&"close"!=R[0]||Wu(t,7);else 3==t.H&&("stop"==R[0]||"close"==R[0]?"stop"==R[0]?Wu(t,7):Op(t):"noop"!=R[0]&&t.l&&t.l.Aa(R),t.A=0)}ih()}catch{}}function ey(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(cp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function u0(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(cp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function II(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(cp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),a=r.length,c=0;c<a;c++)e.call(void 0,r[c],t&&t[c],n)}(It=uh.prototype).setTimeout=function(n){this.P=n},It.nb=function(n){n=n.target;const e=this.M;e&&3==za(n)?e.l():this.Pa(n)},It.Pa=function(n){try{if(n==this.g)e:{const k=za(this.g);var e=this.g.Ia();if(this.g.da(),!(3>k)&&(3!=k||hp||this.g&&(this.h.h||this.g.ja()||hy(this.g)))){this.J||4!=k||7==e||ih(),qo(this);var t=this.g.da();this.aa=t;t:if(Jm(this)){var r=hy(this.g);n="";var a=r.length,c=4==za(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ba(this),ju(this);var d="";break t}this.h.i=new sn.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function t0(n,e,t,r,a,c,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+d})}(this.j,this.u,this.A,this.m,this.W,k,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var m,C=this.g;if((m=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qd(m)){var R=m;break t}}R=null}if(!(t=R)){this.i=!1,this.o=3,As(12),Ba(this),ju(this);break e}bl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kc(this,t)}this.S?(Xm(this,k,d),hp&&this.i&&3==k&&(X_(this.U,this.V,"tick",this.mb),this.V.start())):(bl(this.j,this.m,d,null),kc(this,d)),4==k&&Ba(this),this.i&&!this.J&&(4==k?my(this.l,this):(this.i=!1,Sl(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,As(12)):(this.o=0,As(13)),Ba(this),ju(this)}}}catch{}},It.mb=function(){if(this.g){var n=za(this.g),e=this.g.ja();this.C<e.length&&(qo(this),Xm(this,n,e),this.i&&4!=n&&Sl(this))}},It.cancel=function(){this.J=!0,Ba(this)},It.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function _I(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ih(),As(17)),Ba(this),this.o=2,ju(this)):Mp(this,this.Y-n)};var c0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof fa){this.h=void 0!==e?e:n.h,ty(this,n.j),this.s=n.s,this.g=n.g,xp(this,n.m),this.l=n.l,e=n.i;var t=new fh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),l0(this,t),this.o=n.o}else n&&(t=String(n).match(c0))?(this.h=!!e,ty(this,t[1]||"",!0),this.s=dh(t[2]||""),this.g=dh(t[3]||"",!0),xp(this,t[4]),this.l=dh(t[5]||"",!0),l0(this,t[6]||"",!0),this.o=dh(t[7]||"")):(this.h=!!e,this.i=new fh(null,this.h))}function gu(n){return new fa(n)}function ty(n,e,t){n.j=t?dh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function l0(n,e,t){e instanceof fh?(n.i=e,function p0(n,e){e&&!n.j&&(Gu(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(d0(this,r),f0(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=hh(e,iy)),n.i=new fh(e,n.h))}function Or(n,e,t){n.i.set(e,t)}function Rp(n){return Or(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function dh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function hh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,CI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function CI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}fa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(hh(e,ny,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(hh(e,ny,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(hh(t,"/"==t.charAt(0)?bI:ry,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",hh(t,TI)),n.join("")};var ny=/[#\/\?@]/g,ry=/[#\?:]/g,bI=/[#\?]/g,iy=/[#\?@]/g,TI=/#/g;function fh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Gu(n){n.g||(n.g=new Map,n.h=0,n.i&&function DI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var c=n[t].substring(0,r);a=n[t].substring(r+1)}else c=n[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function d0(n,e){Gu(n),e=Al(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function h0(n,e){return Gu(n),e=Al(n,e),n.g.has(e)}function f0(n,e,t){d0(n,e),0<t.length&&(n.i=null,n.g.set(Al(n,e),Sm(t)),n.h+=t.length)}function Al(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function m0(n){this.l=n||Tb,n=sn.PerformanceNavigationTiming?0<(n=sn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(sn.g&&sn.g.Ka&&sn.g.Ka()&&sn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=fh.prototype).add=function(n,e){Gu(this),this.i=null,n=Al(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},It.forEach=function(n,e){Gu(this),this.g.forEach(function(t,r){t.forEach(function(a){n.call(e,a,r,this)},this)},this)},It.sa=function(){Gu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const a=n[r];for(let c=0;c<a.length;c++)t.push(e[r])}return t},It.Z=function(n){Gu(this);let e=[];if("string"==typeof n)h0(this,n)&&(e=e.concat(this.g.get(Al(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},It.set=function(n,e){return Gu(this),this.i=null,h0(this,n=Al(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},It.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),d=this.Z(r);for(r=0;r<d.length;r++){var a=c;""!==d[r]&&(a+="="+encodeURIComponent(String(d[r]))),n.push(a)}}return this.i=n.join("&")};var Tb=10;function sy(n){return!!n.h||!!n.g&&n.g.size>=n.j}function SI(n){return n.h?1:n.g?n.g.size:0}function Ml(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function oy(n,e){n.g?n.g.add(e):n.h=e}function y0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Pp(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Sm(n.i)}function ay(){}function $a(){this.g=new ay}function ph(n,e,t){const r=t||"";try{ey(n,function(a,c){let d=a;El(a)&&(d=Qd(a)),e.push(r+c+"="+encodeURIComponent(d))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function ja(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch{}}function Hu(n){this.l=n.fc||null,this.j=n.ob||!1}function Ms(n,e){Li.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=gh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}m0.prototype.cancel=function(){if(this.i=Pp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ay.prototype.stringify=function(n){return sn.JSON.stringify(n,void 0)},ay.prototype.parse=function(n){return sn.JSON.parse(n,void 0)},Fi(Hu,qm),Hu.prototype.g=function(){return new Ms(this.l,this.j)},Hu.prototype.i=function(n){return function(){return n}}({}),Fi(Ms,Li);var gh=0;function Fc(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Ga(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ha(n)}function Ha(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(It=Ms.prototype).open=function(n,e){if(this.readyState!=gh)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ha(this)},It.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||sn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ga(this)),this.readyState=gh},It.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ha(this)),this.g&&(this.readyState=3,Ha(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof sn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fc(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},It.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ga(this):Ha(this),3==this.readyState&&Fc(this)}},It.Za=function(n){this.g&&(this.response=this.responseText=n,Ga(this))},It.Ya=function(n){this.g&&(this.response=n,Ga(this))},It.ka=function(){this.g&&Ga(this)},It.setRequestHeader=function(n,e){this.v.append(n,e)},It.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var xl=sn.JSON.parse;function hr(n){Li.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Lc,this.L=this.M=!1}Fi(hr,Li);var Lc="",Rl=/^https?$/i,Pl=["POST","PUT"];function uy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,cy(n),mh(n)}function cy(n){n.F||(n.F=!0,di(n,"complete"),di(n,"error"))}function ly(n){if(n.h&&typeof k_<"u"&&(!n.C[1]||4!=za(n)||2!=n.da()))if(n.v&&4==za(n))Dp(n.La,0,n);else if(di(n,"readystatechange"),4==za(n)){n.h=!1;try{const m=n.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var a=String(n.I).match(c0)[1]||null;if(!a&&sn.self&&sn.self.location){var c=sn.self.location.protocol;a=c.substr(0,c.length-1)}r=!Rl.test(a?a.toLowerCase():"")}t=r}if(t)di(n,"complete"),di(n,"success");else{n.m=6;try{var d=2<za(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.da()+"]",cy(n)}}finally{mh(n)}}}function mh(n,e){if(n.g){dy(n);const t=n.g,r=n.C[0]?Wd:null;n.g=null,n.C=null,e||di(n,"ready");try{t.onreadystatechange=r}catch{}}}function dy(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(sn.clearTimeout(n.A),n.A=null)}function za(n){return n.g?n.g.readyState:0}function hy(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Lc:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function fy(n){let e="";return gp(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Np(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=fy(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Or(n,e,t))}function yh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function v0(n){this.Ga=0,this.i=[],this.j=new zm,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yh("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yh("baseRetryDelayMs",5e3,n),this.hb=yh("retryDelaySeedMs",1e4,n),this.eb=yh("forwardChannelMaxRetries",2,n),this.xa=yh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new m0(n&&n.concurrentRequestLimit),this.Ja=new $a,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Op(n){if(_0(n),3==n.H){var e=n.W++,t=gu(n.G);Or(t,"SID",n.J),Or(t,"RID",e),Or(t,"TYPE","terminate"),zu(n,t),(e=new uh(n,n.j,e,void 0)).L=2,e.v=Rp(gu(t)),t=!1,sn.navigator&&sn.navigator.sendBeacon&&(t=sn.navigator.sendBeacon(e.v.toString(),"")),!t&&sn.Image&&((new Image).src=e.v,t=!0),t||(e.g=vy(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Sl(e)}yy(n)}function kp(n){n.g&&(_h(n),n.g.cancel(),n.g=null)}function _0(n){kp(n),n.u&&(sn.clearTimeout(n.u),n.u=null),wh(n),n.h.cancel(),n.m&&("number"==typeof n.m&&sn.clearTimeout(n.m),n.m=null)}function Ol(n){sy(n.h)||n.m||(n.m=!0,Ip(n.Na,n),n.C=0)}function w0(n,e){var t;t=e?e.m:n.W++;const r=gu(n.G);Or(r,"SID",n.J),Or(r,"RID",t),Or(r,"AID",n.V),zu(n,r),n.o&&n.s&&Np(r,n.o,n.s),t=new uh(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=vh(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),oy(n.h,t),lh(t,r,e)}function zu(n,e){n.ma&&gp(n.ma,function(t,r){Or(e,r,t)}),n.l&&ey({},function(t,r){Or(e,r,t)})}function vh(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ds(n.l.Va,n.l,n):null;e:{var a=n.i;let c=-1;for(;;){const d=["count="+t];-1==c?0<t?(c=a[0].h,d.push("ofs="+c)):c=0:d.push("ofs="+c);let m=!0;for(let C=0;C<t;C++){let R=a[C].h;const k=a[C].g;if(R-=c,0>R)c=Math.max(0,a[C].h-100),m=!1;else try{ph(k,d,"req"+R+"_")}catch{r&&r(k)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function Fp(n){n.g||n.u||(n.ba=1,Ip(n.Ma,n),n.A=0)}function gy(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=sh(ds(n.Ma,n),Vp(n,n.A)),n.A++,0))}function _h(n){null!=n.B&&(sn.clearTimeout(n.B),n.B=null)}function Lp(n){n.g=new uh(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=gu(n.wa);Or(e,"RID","rpc"),Or(e,"SID",n.J),Or(e,"CI",n.M?"0":"1"),Or(e,"AID",n.V),Or(e,"TYPE","xmlhttp"),zu(n,e),n.o&&n.s&&Np(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=Rp(gu(e)),t.s=null,t.S=!0,EI(t,n)}function wh(n){null!=n.v&&(sn.clearTimeout(n.v),n.v=null)}function my(n,e){var t=null;if(n.g==e){wh(n),_h(n),n.g=null;var r=2}else{if(!Ml(n.h,e))return;t=e.F,y0(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=n.C;di(r=Cp(),new s0(r,t)),Ol(n)}else Fp(n);else if(3==(a=e.o)||0==a&&0<n.ta||!(1==r&&function py(n,e){return!(SI(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=sh(ds(n.Na,n,e),Vp(n,n.C)),n.C++,0)))}(n,e)||2==r&&gy(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),a){case 1:Wu(n,5);break;case 4:Wu(n,10);break;case 3:Wu(n,6);break;default:Wu(n,2)}}function Vp(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Wu(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ds(n.pb,n);t||(t=new fa("//www.google.com/images/cleardot.gif"),sn.location&&"http"==sn.location.protocol||ty(t,"https"),Rp(t)),function hs(n,e){const t=new zm;if(sn.Image){const r=new Image;r.onload=lp(ja,t,r,"TestLoadImage: loaded",!0,e),r.onerror=lp(ja,t,r,"TestLoadImage: error",!1,e),r.onabort=lp(ja,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=lp(ja,t,r,"TestLoadImage: timeout",!1,e),sn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else As(2);n.H=0,n.l&&n.l.za(e),yy(n),_0(n)}function yy(n){if(n.H=0,n.pa=[],n.l){const e=Pp(n.h);(0!=e.length||0!=n.i.length)&&(U_(n.pa,e),U_(n.pa,n.i),n.h.i.length=0,Sm(n.i),n.i.length=0),n.l.ya()}}function Up(n,e,t){var r=t instanceof fa?gu(t):new fa(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),xp(r,r.m);else{var a=sn.location;r=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new fa(null,void 0);r&&ty(c,r),e&&(c.g=e),a&&xp(c,a),t&&(c.l=t),r=c}return e=n.Da,(t=n.F)&&e&&Or(r,t,e),Or(r,"VER",n.qa),zu(n,r),r}function vy(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hr(t&&n.Ha&&!n.va?new Hu({ob:!0}):n.va)).Oa(n.I),e}function E0(){}function Eh(){if(Il&&!(10<=Number(Cb)))throw Error("Environmental error: no available transport.")}function Ks(n,e){Li.call(this),this.g=new v0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!qd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kl(this)}function _y(n){Ym.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wy(){Zm.call(this),this.status=1}function kl(n){this.g=n}function pa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ih(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)r[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)r[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=n.g[3],d=(e=n.g[0])+(c^(t=n.g[1])&((a=n.g[2])^c))+r[0]+3614090360&4294967295;d=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(d<<7&4294967295|d>>>25))+((d=c+(a^e&(t^a))+r[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^c&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(c^e))+r[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^t&(a^c))+r[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=c+(a^e&(t^a))+r[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^c&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(c^e))+r[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^t&(a^c))+r[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=c+(a^e&(t^a))+r[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^c&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(c^e))+r[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^t&(a^c))+r[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=c+(a^e&(t^a))+r[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^c&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(c^e))+r[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(a^c&(t^a))+r[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^a&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(c^e))+r[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(a^c))+r[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(a^c&(t^a))+r[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^a&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(c^e))+r[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(a^c))+r[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(a^c&(t^a))+r[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^a&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(c^e))+r[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(a^c))+r[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(a^c&(t^a))+r[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^a&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(c^e))+r[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(a^c))+r[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^a^c)+r[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^a)+r[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=a+(c^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^c^e)+r[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^a^c)+r[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^a)+r[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=a+(c^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^c^e)+r[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^a^c)+r[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^a)+r[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=a+(c^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^c^e)+r[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^a^c)+r[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^a)+r[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=a+(c^e^t)+r[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^c^e)+r[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(a^(t|~c))+r[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~a))+r[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=a+(e^(c|~t))+r[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(c^(a|~e))+r[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(a^(t|~c))+r[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~a))+r[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=a+(e^(c|~t))+r[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(c^(a|~e))+r[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(a^(t|~c))+r[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~a))+r[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=a+(e^(c|~t))+r[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(c^(a|~e))+r[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((c=(e=t+((d=e+(a^(t|~c))+r[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~a))+r[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((a=c+((d=a+(e^(c|~t))+r[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(a+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+a&4294967295,n.g[3]=n.g[3]+c&4294967295}function zn(n,e){this.h=e;for(var t=[],r=!0,a=n.length-1;0<=a;a--){var c=0|n[a];r&&c==e||(t[a]=c,r=!1)}this.g=t}(It=hr.prototype).Oa=function(n){this.M=n},It.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ah.g(),this.C=function o0(n){return n.h||(n.h=n.i())}(this.u?this.u:ah),this.g.onreadystatechange=ds(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(c){return void uy(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)t.set(a,r[a]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=sn.FormData&&n instanceof sn.FormData,!(0<=V_(Pl,e))||r||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,d]of t)this.g.setRequestHeader(c,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dy(this),0<this.B&&((this.L=function Nl(n){return Il&&function Db(){return Rm(Ib,9,function(){let n=0;const e=Am(String(Dl)).split("."),t=Am("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var a=e[d]||"",c=t[d]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;n=Mm(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||Mm(0==a[2].length,0==c[2].length)||Mm(a[2],c[2]),a=a[3],c=c[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ds(this.ua,this)):this.A=Dp(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){uy(this,c)}},It.ua=function(){typeof k_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,di(this,"timeout"),this.abort(8))},It.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,di(this,"complete"),di(this,"abort"),mh(this))},It.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mh(this,!0)),hr.$.N.call(this)},It.La=function(){this.s||(this.G||this.v||this.l?ly(this):this.kb())},It.kb=function(){ly(this)},It.da=function(){try{return 2<za(this)?this.g.status:-1}catch{return-1}},It.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},It.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),xl(e)}},It.Ia=function(){return this.m},It.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=v0.prototype).qa=8,It.H=1,It.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const a=new uh(this,this.j,n,void 0);let c=this.s;if(this.U&&(c?(c=H_(c),W_(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=vh(this,a,e),Or(t=gu(this.G),"RID",n),Or(t,"CVER",22),this.F&&Or(t,"X-HTTP-Session-Id",this.F),zu(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(fy(c)))+"&"+e:this.o&&Np(t,this.o,c)),oy(this.h,a),this.bb&&Or(t,"TYPE","init"),this.P?(Or(t,"$req",e),Or(t,"SID","null"),a.ba=!0,lh(a,t,null)):lh(a,t,e),this.H=2}}else 3==this.H&&(n?w0(this,n):0==this.i.length||sy(this.h)||w0(this))},It.Ma=function(){if(this.u=null,Lp(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=sh(ds(this.jb,this),n)}},It.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,As(10),kp(this),Lp(this))},It.ib=function(){null!=this.v&&(this.v=null,kp(this),gy(this),As(19))},It.pb=function(n){n?(this.j.info("Successfully pinged google.com"),As(2)):(this.j.info("Failed to ping google.com"),As(1))},(It=E0.prototype).Ba=function(){},It.Aa=function(){},It.za=function(){},It.ya=function(){},It.Va=function(){},Eh.prototype.g=function(n,e){return new Ks(n,e)},Fi(Ks,Li),Ks.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;As(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=Up(n,null,n.Y),Ol(n)},Ks.prototype.close=function(){Op(this.g)},Ks.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Qd(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&Ol(e)},Ks.prototype.N=function(){this.g.l=null,delete this.j,Op(this.g),delete this.g,Ks.$.N.call(this)},Fi(_y,Ym),Fi(wy,Zm),Fi(kl,E0),kl.prototype.Ba=function(){di(this.g,"a")},kl.prototype.Aa=function(n){di(this.g,new _y(n))},kl.prototype.za=function(n){di(this.g,new wy)},kl.prototype.ya=function(){di(this.g,"b")},Fi(pa,function AI(){this.blockSize=-1}),pa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},pa.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Ih(this,n,c),c+=this.blockSize;if("string"==typeof n){for(;c<e;)if(r[a++]=n.charCodeAt(c++),a==this.blockSize){Ih(this,r),a=0;break}}else for(;c<e;)if(r[a++]=n[c++],a==this.blockSize){Ih(this,r),a=0;break}}this.h=a,this.i+=e},pa.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var I0={};function Bp(n){return-128<=n&&128>n?Rm(I0,n,function(e){return new zn([0|e],0>e?-1:0)}):new zn([0|n],0>n?-1:0)}function ga(n){if(isNaN(n)||!isFinite(n))return Vc;if(0>n)return Xi(ga(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=$p;return new zn(e,0)}var $p=4294967296,Vc=Bp(0),jp=Bp(1),Iy=Bp(16777216);function Ko(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Di(n){return-1==n.h}function Xi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new zn(t,~n.h).add(jp)}function Gp(n,e){return n.add(Xi(e))}function Fl(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ma(n,e){this.g=n,this.h=e}function Ll(n,e){if(Ko(e))throw Error("division by zero");if(Ko(n))return new ma(Vc,Vc);if(Di(n))return e=Ll(Xi(n),e),new ma(Xi(e.g),Xi(e.h));if(Di(e))return e=Ll(n,Xi(e)),new ma(Xi(e.g),e.h);if(30<n.g.length){if(Di(n)||Di(e))throw Error("slowDivide_ only works with positive integers.");for(var t=jp,r=e;0>=r.X(n);)t=D0(t),r=D0(r);var a=qu(t,1),c=qu(r,1);for(r=qu(r,2),t=qu(t,2);!Ko(r);){var d=c.add(r);0>=d.X(n)&&(a=a.add(t),c=d),r=qu(r,1),t=qu(t,1)}return e=Gp(n,a.R(e)),new ma(a,e)}for(a=Vc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),d=(c=ga(t)).R(e);Di(d)||0<d.X(n);)d=(c=ga(t-=r)).R(e);Ko(c)&&(c=jp),a=a.add(c),n=Gp(n,d)}return new ma(a,n)}function D0(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new zn(t,n.h)}function qu(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,a=[],c=0;c<r;c++)a[c]=0<e?n.D(c+t)>>>e|n.D(c+t+1)<<32-e:n.D(c+t);return new zn(a,n.h)}(It=zn.prototype).ea=function(){if(Di(this))return-Xi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:$p+r)*e,e*=$p}return n},It.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ko(this))return"0";if(Di(this))return"-"+Xi(this).toString(n);for(var e=ga(Math.pow(n,6)),t=this,r="";;){var a=Ll(t,e).g,c=((0<(t=Gp(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ko(t=a))return c+r;for(;6>c.length;)c="0"+c;r=c+r}},It.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},It.X=function(n){return Di(n=Gp(this,n))?-1:Ko(n)?0:1},It.abs=function(){return Di(this)?Xi(this):this},It.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,a=0;a<=e;a++){var c=r+(65535&this.D(a))+(65535&n.D(a)),d=(c>>>16)+(this.D(a)>>>16)+(n.D(a)>>>16);r=d>>>16,t[a]=(d&=65535)<<16|(c&=65535)}return new zn(t,-2147483648&t[t.length-1]?-1:0)},It.R=function(n){if(Ko(this)||Ko(n))return Vc;if(Di(this))return Di(n)?Xi(this).R(Xi(n)):Xi(Xi(this).R(n));if(Di(n))return Xi(this.R(Xi(n)));if(0>this.X(Iy)&&0>n.X(Iy))return ga(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var a=0;a<n.g.length;a++){var c=this.D(r)>>>16,d=65535&this.D(r),m=n.D(a)>>>16,C=65535&n.D(a);t[2*r+2*a]+=d*C,Fl(t,2*r+2*a),t[2*r+2*a+1]+=c*C,Fl(t,2*r+2*a+1),t[2*r+2*a+1]+=d*m,Fl(t,2*r+2*a+1),t[2*r+2*a+2]+=c*m,Fl(t,2*r+2*a+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new zn(t,0)},It.gb=function(n){return Ll(this,n).h},It.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new zn(t,this.h&n.h)},It.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new zn(t,this.h|n.h)},It.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new zn(t,this.h^n.h)},Eh.prototype.createWebChannel=Eh.prototype.g,Ks.prototype.send=Ks.prototype.u,Ks.prototype.open=Ks.prototype.m,Ks.prototype.close=Ks.prototype.close,wo.NO_ERROR=0,wo.TIMEOUT=8,wo.HTTP_ERROR=6,Tp.COMPLETE="complete",Km.EventType=oh,oh.OPEN="a",oh.CLOSE="b",oh.ERROR="c",oh.MESSAGE="d",Li.prototype.listen=Li.prototype.O,hr.prototype.listenOnce=hr.prototype.P,hr.prototype.getLastError=hr.prototype.Sa,hr.prototype.getLastErrorCode=hr.prototype.Ia,hr.prototype.getStatus=hr.prototype.da,hr.prototype.getResponseJson=hr.prototype.Wa,hr.prototype.getResponseText=hr.prototype.ja,hr.prototype.send=hr.prototype.ha,hr.prototype.setWithCredentials=hr.prototype.Oa,pa.prototype.digest=pa.prototype.l,pa.prototype.reset=pa.prototype.reset,pa.prototype.update=pa.prototype.j,zn.prototype.add=zn.prototype.add,zn.prototype.multiply=zn.prototype.R,zn.prototype.modulo=zn.prototype.gb,zn.prototype.compare=zn.prototype.X,zn.prototype.toNumber=zn.prototype.ea,zn.prototype.toString=zn.prototype.toString,zn.prototype.getBits=zn.prototype.D,zn.fromNumber=ga,zn.fromString=function Ey(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Xi(Ey(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ga(Math.pow(e,8)),r=Vc,a=0;a<n.length;a+=8){var c=Math.min(8,n.length-a),d=parseInt(n.substring(a,a+c),e);8>c?(c=ga(Math.pow(e,c)),r=r.R(c).add(ga(d))):r=(r=r.R(t)).add(ga(d))}return r};var Sb=Ua.createWebChannelTransport=function(){return new Eh},Ab=Ua.getStatEventTarget=function(){return Cp()},Dy=Ua.ErrorCode=wo,MI=Ua.EventType=Tp,C0=Ua.Event=$u,b0=Ua.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ci=Ua.FetchXmlHttpFactory=Hu,Dh=Ua.WebChannel=Km,xI=Ua.XhrIo=hr,RI=Ua.Md5=pa,Uc=Ua.Integer=zn;const T0="@firebase/firestore";class bi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bi.UNAUTHENTICATED=new bi(null),bi.GOOGLE_CREDENTIALS=new bi("google-credentials-uid"),bi.FIRST_PARTY=new bi("first-party-uid"),bi.MOCK_USER=new bi("mock-user");let Bc="9.21.0";const Eo=new ke.Yd("@firebase/firestore");function Cy(){return Eo.logLevel}function Ze(n,...e){if(Eo.logLevel<=ke.in.DEBUG){const t=e.map(S0);Eo.debug(`Firestore (${Bc}): ${n}`,...t)}}function si(n,...e){if(Eo.logLevel<=ke.in.ERROR){const t=e.map(S0);Eo.error(`Firestore (${Bc}): ${n}`,...t)}}function Yo(n,...e){if(Eo.logLevel<=ke.in.WARN){const t=e.map(S0);Eo.warn(`Firestore (${Bc}): ${n}`,...t)}}function S0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function xt(n="Unexpected state"){const e=`FIRESTORE (${Bc}) INTERNAL ASSERTION FAILED: `+n;throw si(e),new Error(e)}function kt(n,e){n||xt()}function vt(n,e){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends ve.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Zo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bi.UNAUTHENTICATED))}shutdown(){}}class M0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class PI{constructor(e){this.t=e,this.currentUser=bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const c=R=>this.i!==a?(a=this.i,t(R)):Promise.resolve();let d=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new rr,e.enqueueRetryable(()=>c(this.currentUser))};const m=()=>{const R=d;e.enqueueRetryable((0,K.Z)(function*(){yield R.promise,yield c(r.currentUser)}))},C=R=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=R,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(R=>C(R)),setTimeout(()=>{if(!this.auth){const R=this.t.getImmediate({optional:!0});R?C(R):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new rr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt("string"==typeof r.accessToken),new Zo(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(null===e||"string"==typeof e),new bi(e)}}class NI{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=bi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class OI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new NI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class by{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=c=>{null!=c.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.T;return this.T=c.token,Ze("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const a=c=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kt("string"==typeof t.token),this.T=t.token,new x0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ty{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=kI(40);for(let c=0;c<a.length;++c)r.length<20&&a[c]<t&&(r+=e.charAt(a[c]%e.length))}return r}}function on(n,e){return n<e?-1:n>e?1:0}function Vl(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}class kr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kr.fromMillis(Date.now())}static fromDate(e){return kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new kr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?on(this.nanoseconds,e.nanoseconds):on(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ft(e)}static min(){return new Ft(new kr(0,0))}static max(){return new Ft(new kr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ch{constructor(e,t,r){void 0===t?t=0:t>e.length&&xt(),void 0===r?r=e.length-t:r>e.length-t&&xt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ch.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ch?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const c=e.get(a),d=t.get(a);if(c<d)return-1;if(c>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mn extends Ch{construct(e,t,r){return new Mn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Mn(t)}static emptyPath(){return new Mn([])}}const R0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gr extends Ch{construct(e,t,r){return new Gr(e,t,r)}static isValidIdentifier(e){return R0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gr(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const c=()=>{if(0===r.length)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;a<e.length;){const m=e[a];if("\\"===m){if(a+1===e.length)throw new Ge(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const C=e[a+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new Ge(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=C,a+=2}else"`"===m?(d=!d,a++):"."!==m||d?(r+=m,a++):(c(),a++)}if(c(),d)throw new Ge(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gr(t)}static emptyPath(){return new Gr([])}}class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Mn.fromString(e))}static fromName(e){return new dt(Mn.fromString(e).popFirst(5))}static empty(){return new dt(Mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Mn(e.slice()))}}function O0(n){return new Io(n.readTime,n.key,-1)}class Io{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Io(Ft.min(),dt.empty(),-1)}static max(){return new Io(Ft.max(),dt.empty(),-1)}}function My(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=dt.comparator(n.documentKey,e.documentKey),0!==t?t:on(n.largestBatchId,e.largestBatchId))}const k0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Yu(n){return xy.apply(this,arguments)}function xy(){return xy=(0,K.Z)(function*(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==k0)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}),xy.apply(this,arguments)}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let a=0,c=0,d=!1;e.forEach(m=>{++a,m.next(()=>{++c,d&&c===a&&t()},C=>r(C))}),d=!0,c===a&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(a=>a?me.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,c)=>{r.push(t.call(this,a,c))}),this.waitFor(r)}static mapArray(e,t){return new me((r,a)=>{const c=e.length,d=new Array(c);let m=0;for(let C=0;C<c;C++){const R=C;t(e[R]).next(k=>{d[R]=k,++m,m===c&&r(d)},k=>a(k))}})}static doWhile(e,t){return new me((r,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):r()};c()})}}function Zu(n){return"IndexedDbTransactionError"===n.name}let Ys=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>r.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function $l(n){return null==n}function jl(n){return 0===n&&1/n==-1/0}function Fy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ly(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class fr{constructor(e,t){this.comparator=e,this.root=t||ts.EMPTY}insert(e,t){return new fr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ts.BLACK,null,null))}remove(e){return new fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ts.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yp(this.root,e,this.comparator,!0)}}class Yp{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ts{constructor(e,t,r,a,c){this.key=e,this.value=t,this.color=r??ts.RED,this.left=a??ts.EMPTY,this.right=c??ts.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,c){return new ts(e??this.key,t??this.value,r??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const c=r(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ts.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ts.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ts.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ts.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}ts.EMPTY=null,ts.RED=!0,ts.BLACK=!1,ts.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(n,e,t,r,a){return this}insert(n,e,t){return new ts(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class br{constructor(e){this.comparator=e,this.data=new fr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zl(this.data.getIterator())}getIteratorFrom(e){return new zl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new br(this.comparator);return t.data=e,t}}class zl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zs{constructor(e){this.fields=e,e.sort(Gr.comparator)}static empty(){return new Zs([])}unionWith(e){let t=new br(Gr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class j0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new j0("Invalid base64 string: "+a):a}}(e);return new hi(t)}static fromUint8Array(e){const t=function(r){let a="";for(let c=0;c<r.length;++c)a+=String.fromCharCode(r[c]);return a}(e);return new hi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return on(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hi.EMPTY_BYTE_STRING=new hi("");const G0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vu(n){if(kt(!!n),"string"==typeof n){let e=0;const t=G0.exec(n);if(kt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qr(n.seconds),nanos:Qr(n.nanos)}}function Qr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Do(n){return"string"==typeof n?hi.fromBase64String(n):hi.fromUint8Array(n)}function Ju(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Zp(n){const e=n.mapValue.fields.__previous_value__;return Ju(e)?Zp(e):e}function Mh(n){const e=vu(n.mapValue.fields.__local_write_time__.timestampValue);return new kr(e.seconds,e.nanos)}class qI{constructor(e,t,r,a,c,d,m,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=C}}class Xu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xu&&e.projectId===this.projectId&&e.database===this.database}}const _u={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ec(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ju(n)?4:W0(n)?9007199254740991:10:xt()}function _a(n,e){if(n===e)return!0;const t=ec(n);if(t!==ec(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mh(n).isEqual(Mh(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const c=vu(r.timestampValue),d=vu(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Do(n.bytesValue).isEqual(Do(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return Qr(r.geoPointValue.latitude)===Qr(a.geoPointValue.latitude)&&Qr(r.geoPointValue.longitude)===Qr(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Qr(r.integerValue)===Qr(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const c=Qr(r.doubleValue),d=Qr(a.doubleValue);return c===d?jl(c)===jl(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Vl(n.arrayValue.values||[],e.arrayValue.values||[],_a);case 10:return function(r,a){const c=r.mapValue.fields||{},d=a.mapValue.fields||{};if(Fy(c)!==Fy(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(void 0===d[m]||!_a(c[m],d[m])))return!1;return!0}(n,e);default:return xt()}var a}function Rh(n,e){return void 0!==(n.values||[]).find(t=>_a(t,e))}function tc(n,e){if(n===e)return 0;const t=ec(n),r=ec(e);if(t!==r)return on(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return on(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=Qr(a.integerValue||a.doubleValue),m=Qr(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return KI(n.timestampValue,e.timestampValue);case 4:return KI(Mh(n),Mh(e));case 5:return on(n.stringValue,e.stringValue);case 6:return function(a,c){const d=Do(a),m=Do(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),m=c.split("/");for(let C=0;C<d.length&&C<m.length;C++){const R=on(d[C],m[C]);if(0!==R)return R}return on(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=on(Qr(a.latitude),Qr(c.latitude));return 0!==d?d:on(Qr(a.longitude),Qr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const d=a.values||[],m=c.values||[];for(let C=0;C<d.length&&C<m.length;++C){const R=tc(d[C],m[C]);if(R)return R}return on(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===_u.mapValue&&c===_u.mapValue)return 0;if(a===_u.mapValue)return 1;if(c===_u.mapValue)return-1;const d=a.fields||{},m=Object.keys(d),C=c.fields||{},R=Object.keys(C);m.sort(),R.sort();for(let k=0;k<m.length&&k<R.length;++k){const H=on(m[k],R[k]);if(0!==H)return H;const de=tc(d[m[k]],C[R[k]]);if(0!==de)return de}return on(m.length,R.length)}(n.mapValue,e.mapValue);default:throw xt()}}function KI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return on(n,e);const t=vu(n),r=vu(e),a=on(t.seconds,r.seconds);return 0!==a?a:on(t.nanos,r.nanos)}function Ph(n){return H0(n)}function H0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=vu(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Do(n.bytesValue).toBase64():"referenceValue"in n?dt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",c=!0;for(const d of r.values||[])c?c=!1:a+=",",a+=H0(d);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const m of a)d?d=!1:c+=",",c+=`${m}:${H0(r.fields[m])}`;return c+"}"}(n.mapValue):xt();var e}function ql(n){return!!n&&"integerValue"in n}function Nh(n){return!!n&&"arrayValue"in n}function z0(n){return!!n&&"nullValue"in n}function By(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rc(n){return!!n&&"mapValue"in n}function Oh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return yu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Oh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Oh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function W0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ui{constructor(e){this.value=e}static empty(){return new Ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(t)}setAll(e){let t=Gr.emptyPath(),r={},a=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const C=this.getFieldsMap(t);this.applyChanges(C,r,a),r={},a=[],t=m.popLast()}d?r[m.lastSegment()]=Oh(d):a.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,a)}delete(e){const t=this.field(e.popLast());rc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _a(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];rc(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){yu(t,(a,c)=>e[a]=c);for(const a of r)delete e[a]}clone(){return new Ui(Oh(this.value))}}function K0(n){const e=[];return yu(n.fields,(t,r)=>{const a=new Gr([t]);if(rc(r)){const c=K0(r.mapValue).fields;if(0===c.length)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)}),new Zs(e)}class Tr{constructor(e,t,r,a,c,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Tr(e,0,Ft.min(),Ft.min(),Ft.min(),Ui.empty(),0)}static newFoundDocument(e,t,r,a){return new Tr(e,1,t,Ft.min(),r,a,0)}static newNoDocument(e,t){return new Tr(e,2,t,Ft.min(),Ft.min(),Ui.empty(),0)}static newUnknownDocument(e,t){return new Tr(e,3,t,Ft.min(),Ft.min(),Ui.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ft.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qo{constructor(e,t){this.position=e,this.inclusive=t}}function Y0(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const c=e[a],d=n.position[a];if(r=c.field.isKeyField()?dt.comparator(dt.fromName(d.referenceValue),t.key):tc(d,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function $y(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_a(n.position[t],e.position[t]))return!1;return!0}class Kl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Z0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Q0{}class En extends Q0{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new JI(e,t,r):"array-contains"===t?new eD(e,r):"in"===t?new nw(e,r):"not-in"===t?new tD(e,r):"array-contains-any"===t?new nD(e,r):new En(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ew(e,r):new XI(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(tc(t,this.value)):null!==t&&ec(this.value)===ec(t)&&this.matchesComparison(tc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ir extends Q0{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new ir(e,t)}matches(e){return ic(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ic(n){return"and"===n.op}function Qp(n){return function Gy(n){for(const e of n.filters)if(e instanceof ir)return!1;return!0}(n)&&ic(n)}function Hy(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+Ph(n.value);if(Qp(n))return n.filters.map(e=>Hy(e)).join(",");{const e=n.filters.map(t=>Hy(t)).join(",");return`${n.op}(${e})`}}function J0(n,e){return n instanceof En?(t=n,(r=e)instanceof En&&t.op===r.op&&t.field.isEqual(r.field)&&_a(t.value,r.value)):n instanceof ir?function(t,r){return r instanceof ir&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((a,c,d)=>a&&J0(c,r.filters[d]),!0)}(n,e):void xt();var t,r}function Jp(n){return n instanceof En?`${(e=n).field.canonicalString()} ${e.op} ${Ph(e.value)}`:n instanceof ir?function(e){return e.op.toString()+" {"+e.getFilters().map(Jp).join(" ,")+"}"}(n):"Filter";var e}class JI extends En{constructor(e,t,r){super(e,t,r),this.key=dt.fromName(r.referenceValue)}matches(e){const t=dt.comparator(e.key,this.key);return this.matchesComparison(t)}}class ew extends En{constructor(e,t){super(e,"in",t),this.keys=tw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XI extends En{constructor(e,t){super(e,"not-in",t),this.keys=tw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>dt.fromName(r.referenceValue))}class eD extends En{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nh(t)&&Rh(t.arrayValue,this.value)}}class nw extends En{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rh(this.value.arrayValue,t)}}class tD extends En{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Rh(this.value.arrayValue,t)}}class nD extends En{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Rh(this.value.arrayValue,r))}}class rD{constructor(e,t=null,r=[],a=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=c,this.startAt=d,this.endAt=m,this.ft=null}}function zy(n,e=null,t=[],r=[],a=null,c=null,d=null){return new rD(n,e,t,r,a,c,d)}function sc(n){const e=vt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Hy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),$l(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ph(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ph(r)).join(",")),e.ft=t}return e.ft}function Yl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Z0(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!J0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$y(n.startAt,e.startAt)&&$y(n.endAt,e.endAt)}function Xp(n){return dt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class wu{constructor(e,t=null,r=[],a=[],c=null,d="F",m=null,C=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=C,this.dt=null,this._t=null}}function oc(n){return new wu(n)}function tg(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function jc(n){const e=vt(n);if(null===e.dt){e.dt=[];const t=function Zl(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function ng(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Kl(t)),e.dt.push(new Kl(Gr.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Kl(Gr.keyField(),c))}}}return e.dt}function ns(n){const e=vt(n);if(!e._t)if("F"===e.limitType)e._t=zy(e.path,e.collectionGroup,jc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of jc(e))t.push(new Kl(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new Qo(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Qo(e.startAt.position,e.startAt.inclusive):null;e._t=zy(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e._t}function kh(n,e,t){return new wu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wa(n,e){return Yl(ns(n),ns(e))&&n.limitType===e.limitType}function Yy(n){return`${sc(ns(n))}|lt:${n.limitType}`}function Zy(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Jp(r)).join(", ")}]`),$l(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ph(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ph(r)).join(",")),`Target(${t})`}(ns(n))}; limitType=${n.limitType})`}function rg(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):dt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of jc(t))if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(a,c,d){const m=Y0(a,c,d);return a.inclusive?m<=0:m<0}(t.startAt,jc(t),r)||t.endAt&&!function(a,c,d){const m=Y0(a,c,d);return a.inclusive?m>=0:m>0}(t.endAt,jc(t),r)));var t,r}function ig(n){return(e,t)=>{let r=!1;for(const a of jc(n)){const c=iD(a,e,t);if(0!==c)return c;r=r||a.field.isKeyField()}return 0}}function iD(n,e,t){const r=n.field.isKeyField()?dt.comparator(e.key,t.key):function(a,c,d){const m=c.data.field(a),C=d.data.field(a);return null!==m&&null!==C?tc(m,C):xt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return xt()}}class wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,c]of r)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){yu(this.inner,(t,r)=>{for(const[a,c]of r)e(a,c)})}isEmpty(){return Ly(this.inner)}size(){return this.innerSize}}const sD=new fr(dt.comparator);function xs(){return sD}const sg=new fr(dt.comparator);function Ql(...n){let e=sg;for(const t of n)e=e.insert(t.key,t);return e}function Jy(n){let e=sg;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ea(){return Fh()}function Xy(){return Fh()}function Fh(){return new wa(n=>n.toString(),(n,e)=>n.isEqual(e))}const oD=new fr(dt.comparator),aD=new br(dt.comparator);function mn(...n){let e=aD;for(const t of n)e=e.add(t);return e}const sw=new br(on);function ev(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jl(e)?"-0":e}}function aw(n){return{integerValue:""+n}}function uw(n,e){return function Py(n){return"number"==typeof n&&Number.isInteger(n)&&!jl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?aw(e):ev(n,e)}class tv{constructor(){this._=void 0}}function uD(n,e,t){return n instanceof Gc?function(r,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Ju(a)&&(a=Zp(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof Hc?lw(n,e):n instanceof zc?dw(n,e):function(r,a){const c=cw(r,a),d=hw(c)+hw(r.wt);return ql(c)&&ql(r.wt)?aw(d):ev(r.serializer,d)}(n,e)}function cD(n,e,t){return n instanceof Hc?lw(n,e):n instanceof zc?dw(n,e):t}function cw(n,e){return n instanceof Jl?ql(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Gc extends tv{}class Hc extends tv{constructor(e){super(),this.elements=e}}function lw(n,e){const t=fw(e);for(const r of n.elements)t.some(a=>_a(a,r))||t.push(r);return{arrayValue:{values:t}}}class zc extends tv{constructor(e){super(),this.elements=e}}function dw(n,e){let t=fw(e);for(const r of n.elements)t=t.filter(a=>!_a(a,r));return{arrayValue:{values:t}}}class Jl extends tv{constructor(e,t){super(),this.serializer=e,this.wt=t}}function hw(n){return Qr(n.integerValue||n.doubleValue)}function fw(n){return Nh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class pw{constructor(e,t){this.version=e,this.transformResults=t}}class Sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Bh{}function nv(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new td(n.key,Sr.none()):new Xl(n.key,n.data,Sr.none());{const t=n.data,r=Ui.empty();let a=new br(Gr.comparator);for(let c of e.fields)if(!a.has(c)){let d=t.field(c);null===d&&c.length>1&&(c=c.popLast(),d=t.field(c)),null===d?r.delete(c):r.set(c,d),a=a.add(c)}return new Eu(n.key,r,new Zs(a.toArray()),Sr.none())}}function lD(n,e,t){n instanceof Xl?function(r,a,c){const d=r.value.clone(),m=yw(r.fieldTransforms,a,c.transformResults);d.setAll(m),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Eu?function(r,a,c){if(!Uh(r.precondition,a))return void a.convertToUnknownDocument(c.version);const d=yw(r.fieldTransforms,a,c.transformResults),m=a.data;m.setAll(mw(r)),m.setAll(d),a.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $h(n,e,t,r){return n instanceof Xl?function(a,c,d,m){if(!Uh(a.precondition,c))return d;const C=a.value.clone(),R=ed(a.fieldTransforms,m,c);return C.setAll(R),c.convertToFoundDocument(c.version,C).setHasLocalMutations(),null}(n,e,t,r):n instanceof Eu?function(a,c,d,m){if(!Uh(a.precondition,c))return d;const C=ed(a.fieldTransforms,m,c),R=c.data;return R.setAll(mw(a)),R.setAll(C),c.convertToFoundDocument(c.version,R).setHasLocalMutations(),null===d?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(k=>k.field))}(n,e,t,r):(d=t,Uh(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d);var c,d}function Nb(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),c=cw(r.transform,a||null);null!=c&&(null===t&&(t=Ui.empty()),t.set(r.field,c))}return t||null}function gw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Vl(t,r,(a,c)=>function Vh(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Hc&&r instanceof Hc||t instanceof zc&&r instanceof zc?Vl(t.elements,r.elements,_a):t instanceof Jl&&r instanceof Jl?_a(t.wt,r.wt):t instanceof Gc&&r instanceof Gc);var t,r}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Xl extends Bh{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Eu extends Bh{constructor(e,t,r,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function yw(n,e,t){const r=new Map;kt(n.length===t.length);for(let a=0;a<t.length;a++){const c=n[a],d=c.transform,m=e.data.field(c.field);r.set(c.field,cD(d,m,t[a]))}return r}function ed(n,e,t){const r=new Map;for(const a of n){const c=a.transform,d=t.data.field(a.field);r.set(a.field,uD(c,d,e))}return r}class td extends Bh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jh extends Bh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jo{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&lD(c,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=$h(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=$h(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Xy();return this.mutations.forEach(a=>{const c=e.get(a.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=t.has(a.key)?null:m;const C=nv(d,m);null!==C&&r.set(a.key,C),d.isValidDocument()||d.convertToNoDocument(Ft.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mn())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(t,r)=>gw(t,r))&&Vl(this.baseMutations,e.baseMutations,(t,r)=>gw(t,r))}}class rv{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){kt(e.mutations.length===r.length);let a=oD;const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,r[d].version);return new rv(e,t,r,a)}}class Gh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dD{constructor(e,t){this.count=e,this.unchangedNames=t}}var fi,Nn;function Wh(n){if(void 0===n)return si("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case fi.OK:return Ce.OK;case fi.CANCELLED:return Ce.CANCELLED;case fi.UNKNOWN:return Ce.UNKNOWN;case fi.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case fi.INTERNAL:return Ce.INTERNAL;case fi.UNAVAILABLE:return Ce.UNAVAILABLE;case fi.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case fi.NOT_FOUND:return Ce.NOT_FOUND;case fi.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case fi.ABORTED:return Ce.ABORTED;case fi.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case fi.DATA_LOSS:return Ce.DATA_LOSS;default:return xt()}}(Nn=fi||(fi={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";class iv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return og}static getOrCreateInstance(){return null===og&&(og=new iv),og}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let og=null;const vw=new Uc([4294967295,4294967295],0);function ag(n){const e=function sv(){return new TextEncoder}().encode(n),t=new RI;return t.update(e),new Uint8Array(t.digest())}function ov(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Uc([t,r],0),new Uc([a,c],0)]}class qh{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wc(`Invalid padding: ${t}`);if(r<0)throw new Wc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Wc(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Wc(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=Uc.fromNumber(this.yt)}Tt(e,t,r){let a=e.add(t.multiply(Uc.fromNumber(r)));return 1===a.compare(vw)&&(a=new Uc([a.getBits(0),a.getBits(1)],0)),a.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=ag(e),[r,a]=ov(t);for(let c=0;c<this.hashCount;c++){const d=this.Tt(r,a,c);if(!this.Et(d))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new qh(c,a,t);return r.forEach(m=>d.insert(m)),d}insert(e){if(0===this.yt)return;const t=ag(e),[r,a]=ov(t);for(let c=0;c<this.hashCount;c++){const d=this.Tt(r,a,c);this.Rt(d)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nd{constructor(e,t,r,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new nd(Ft.min(),a,new fr(on),xs(),mn())}}class qc{constructor(e,t,r,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new qc(r,t,mn(),mn(),mn())}}class rd{constructor(e,t,r,a){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=a}}class _w{constructor(e,t){this.targetId=e,this.bt=t}}class ww{constructor(e,t,r=hi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Ew{constructor(){this.Vt=0,this.St=ug(),this.Dt=hi.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=mn(),t=mn(),r=mn();return this.St.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:xt()}}),new qc(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=ug()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class hD{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=xs(),this.jt=av(),this.zt=new fr(on)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:xt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,a)=>{this.Zt(a)&&t(a)})}ee(e){var t;const r=e.targetId,a=e.bt.count,c=this.ne(r);if(c){const d=c.target;if(Xp(d))if(0===a){const m=new dt(d.path);this.Jt(r,m,Tr.newNoDocument(m,Ft.min()))}else kt(1===a);else{const m=this.se(r);if(m!==a){const C=this.ie(e,m);0!==C&&(this.te(r),this.zt=this.zt.insert(r,2===C?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=iv.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(R,k,H){var de,Ae,Je,st,Pt,cn;const Bn={localCacheCount:k,existenceFilterCount:H.count},ln=H.unchangedNames;return ln&&(Bn.bloomFilter={applied:0===R,hashCount:null!==(de=ln?.hashCount)&&void 0!==de?de:0,bitmapLength:null!==(st=null===(Je=null===(Ae=ln?.bits)||void 0===Ae?void 0:Ae.bitmap)||void 0===Je?void 0:Je.length)&&void 0!==st?st:0,padding:null!==(cn=null===(Pt=ln?.bits)||void 0===Pt?void 0:Pt.padding)&&void 0!==cn?cn:0}),Bn}(C,m,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:a}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:c="",padding:d=0},hashCount:m=0}=r;let C,R;try{C=Do(c).toUint8Array()}catch(k){if(k instanceof j0)return Yo("Decoding the base64 bloom filter in existence filter failed ("+k.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw k}try{R=new qh(C,d,m)}catch(k){return Yo(k instanceof Wc?"BloomFilter error: ":"Applying bloom filter failed: ",k),1}return 0===R.yt?1:a!==t-this.re(e.targetId,R)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let a=0;return r.forEach(c=>{const d=this.Kt.oe(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.At(m)||(this.Jt(e,c,null),a++)}),a}ue(e){const t=new Map;this.Gt.forEach((c,d)=>{const m=this.ne(d);if(m){if(c.current&&Xp(m.target)){const C=new dt(m.target.path);null!==this.Qt.get(C)||this.ce(d,C)||this.Jt(d,C,Tr.newNoDocument(C,e))}c.kt&&(t.set(d,c.Ot()),c.$t())}});let r=mn();this.jt.forEach((c,d)=>{let m=!0;d.forEachWhile(C=>{const R=this.ne(C);return!R||"TargetPurposeLimboResolution"===R.purpose||(m=!1,!1)}),m&&(r=r.add(c))}),this.Qt.forEach((c,d)=>d.setReadTime(e));const a=new nd(e,t,this.zt,this.Qt,r);return this.Qt=xs(),this.jt=av(),this.zt=new fr(on),a}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const a=this.Xt(e);this.ce(e,t)?a.Ft(t,1):a.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new Ew,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new br(on),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new Ew),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function av(){return new fr(dt.comparator)}function ug(){return new fr(dt.comparator)}const Iw={asc:"ASCENDING",desc:"DESCENDING"},fD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dw={and:"AND",or:"OR"};class Cw{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uv(n,e){return n.useProto3Json||$l(e)?e:{value:e}}function Kc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cv(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pD(n,e){return Kc(n,e.toTimestamp())}function Jr(n){return kt(!!n),Ft.fromTimestamp(function(e){const t=vu(e);return new kr(t.seconds,t.nanos)}(n))}function lv(n,e){return(t=n,new Mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function fs(n){const e=Mn.fromString(n);return kt(Sw(e)),e}function qa(n,e){return lv(n.databaseId,e.path)}function Ka(n,e){const t=fs(e);if(t.get(1)!==n.databaseId.projectId)throw new Ge(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ge(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new dt(hv(t))}function dv(n,e){return lv(n.databaseId,e)}function cg(n){return new Mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hv(n){return kt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function lg(n,e,t){return{name:qa(n,e),fields:t.value.mapValue.fields}}function bw(n,e){return{documents:[dv(n,e.path)]}}function pv(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=dv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=dv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(C){if(0!==C.length)return yv(ir.create(C,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(C){if(0!==C.length)return C.map(R=>{return{field:Iu((k=R).field),direction:fg(k.dir)};var k})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=uv(n,e.limit);var m,C;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(C=e.endAt).inclusive,values:C.position}),t}function hg(n){let e=function gD(n){const e=fs(n);return 4===e.length?Mn.emptyPath():hv(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){kt(1===r);const k=t.from[0];k.allDescendants?a=k.collectionId:e=e.child(k.collectionId)}let c=[];t.where&&(c=function(k){const H=gv(k);return H instanceof ir&&Qp(H)?H.getFilters():[H]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(k=>{return new Kl(sd((H=k).field),function(de){switch(de){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction));var H}));let m=null;t.limit&&(m=function(k){let H;return H="object"==typeof k?k.value:k,$l(H)?null:H}(t.limit));let C=null;var k;t.startAt&&(C=new Qo((k=t.startAt).values||[],!!k.before));let R=null;return t.endAt&&(R=function(k){return new Qo(k.values||[],!k.before)}(t.endAt)),function iw(n,e,t,r,a,c,d,m){return new wu(n,e,t,r,a,c,d,m)}(e,a,d,c,m,"F",C,R)}function gv(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=sd(e.unaryFilter.field);return En.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=sd(e.unaryFilter.field);return En.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=sd(e.unaryFilter.field);return En.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=sd(e.unaryFilter.field);return En.create(c,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(n):void 0!==n.fieldFilter?En.create(sd((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ir.create(e.compositeFilter.filters.map(t=>gv(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return xt()}}(e.compositeFilter.op))}(n):xt();var e}function fg(n){return Iw[n]}function mv(n){return fD[n]}function Ob(n){return Dw[n]}function Iu(n){return{fieldPath:n.canonicalString()}}function sd(n){return Gr.fromServerFormat(n.fieldPath)}function yv(n){return n instanceof En?function(e){if("=="===e.op){if(By(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NAN"}};if(z0(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(By(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NOT_NAN"}};if(z0(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(e.field),op:mv(e.op),value:e.value}}}(n):n instanceof ir?function(e){const t=e.getFilters().map(r=>yv(r));return 1===t.length?t[0]:{compositeFilter:{op:Ob(e.op),filters:t}}}(n):xt()}function od(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Sw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ya{constructor(e,t,r,a,c=Ft.min(),d=Ft.min(),m=hi.EMPTY_BYTE_STRING,C=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=C}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pg{constructor(e){this.le=e}}function wv(n){const e=hg({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?kh(e,e.limit,"L"):e}class ac{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Qr(e.integerValue));else if("doubleValue"in e){const r=Qr(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),jl(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Do(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?W0(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):xt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const a of Object.keys(r))this.Ie(a,t),this.we(r[a],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const a of r)this.we(a,t)}Ae(e,t){this.ge(t,37),dt.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}ac.be=new ac;class Ub{constructor(){this.sn=new Qh}addToCollectionParentIndex(e,t){return this.sn.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(Io.min())}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class Qh{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new br(Mn.comparator),c=!a.has(r);return this.index[t]=a.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new br(Mn.comparator)).toArray()}}new Uint8Array(0);class Rs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Rs(e,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Rs.DEFAULT_COLLECTION_PERCENTILE=10,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rs.DEFAULT=new Rs(41943040,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rs.DISABLED=new Rs(-1,0,0);class cc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new cc(0)}static kn(){return new cc(-1)}}class AD{constructor(){this.changes=new wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Dg{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==r&&$h(r.mutation,a,Zs.empty(),kr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,mn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=mn()){const a=Ea();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(c=>{let d=Ql();return c.forEach((m,C)=>{d=d.insert(m,C.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Ea();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,mn()))}populateOverlays(e,t,r){const a=[];return r.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,a){let c=xs();const d=Fh(),m=Fh();return t.forEach((C,R)=>{const k=r.get(R.key);a.has(R.key)&&(void 0===k||k.mutation instanceof Eu)?c=c.insert(R.key,R):void 0!==k?(d.set(R.key,k.mutation.getFieldMask()),$h(k.mutation,R,k.mutation.getFieldMask(),kr.now())):d.set(R.key,Zs.empty())}),this.recalculateAndSaveOverlays(e,c).next(C=>(C.forEach((R,k)=>d.set(R,k)),t.forEach((R,k)=>{var H;return m.set(R,new MD(k,null!==(H=d.get(R))&&void 0!==H?H:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Fh();let a=new fr((d,m)=>d-m),c=mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(C=>{const R=t.get(C);if(null===R)return;let k=r.get(C)||Zs.empty();k=m.applyToLocalView(R,k),r.set(C,k);const H=(a.get(m.batchId)||mn()).add(C);a=a.insert(m.batchId,H)})}).next(()=>{const d=[],m=a.getReverseIterator();for(;m.hasNext();){const C=m.getNext(),R=C.key,k=C.value,H=Xy();k.forEach(de=>{if(!c.has(de)){const Ae=nv(t.get(de),r.get(de));null!==Ae&&H.set(de,Ae),c=c.add(de)}}),d.push(this.documentOverlayCache.saveOverlays(e,R,H))}return me.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return dt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function qy(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var a}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-c.size):me.resolve(Ea());let m=-1,C=c;return d.next(R=>me.forEach(R,(k,H)=>(m<H.largestBatchId&&(m=H.largestBatchId),c.get(k)?me.resolve():this.remoteDocumentCache.getEntry(e,k).next(de=>{C=C.insert(k,de)}))).next(()=>this.populateOverlays(e,R,c)).next(()=>this.computeViews(e,C,R,mn())).next(k=>({batchId:m,changes:Jy(k)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dt(t)).next(r=>{let a=Ql();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const a=t.collectionGroup;let c=Ql();return this.indexManager.getCollectionParents(e,a).next(d=>me.forEach(d,m=>{const C=(R=t,k=m.child(a),new wu(k,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt));var R,k;return this.getDocumentsMatchingCollectionQuery(e,C,r).next(R=>{R.forEach((k,H)=>{c=c.insert(k,H)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a))).next(c=>{a.forEach((m,C)=>{const R=C.getKey();null===c.get(R)&&(c=c.insert(R,Tr.newInvalidDocument(R)))});let d=Ql();return c.forEach((m,C)=>{const R=a.get(m);void 0!==R&&$h(R.mutation,C,Zs.empty(),kr.now()),rg(t,C)&&(d=d.insert(m,C))}),d})}}class Du{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return me.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:Jr(r.createTime)}),me.resolve()}getNamedQuery(e,t){return me.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:wv(r.bundledQuery),readTime:Jr(r.readTime)}),me.resolve();var r}}class hc{constructor(){this.overlays=new fr(dt.comparator),this.hs=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ea();return me.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&r.set(a,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,c)=>{this.de(e,t,c)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.hs.get(r);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.hs.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const a=Ea(),c=t.length+1,d=new dt(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const C=m.getNext().value,R=C.getKey();if(!t.isPrefixOf(R.path))break;R.path.length===c&&C.largestBatchId>r&&a.set(C.getKey(),C)}return me.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let c=new fr((R,k)=>R-k);const d=this.overlays.getIterator();for(;d.hasNext();){const R=d.getNext().value;if(R.getKey().getCollectionGroup()===t&&R.largestBatchId>r){let k=c.get(R.largestBatchId);null===k&&(k=Ea(),c=c.insert(R.largestBatchId,k)),k.set(R.getKey(),R)}}const m=Ea(),C=c.getIterator();for(;C.hasNext()&&(C.getNext().value.forEach((R,k)=>m.set(R,k)),!(m.size()>=a)););return me.resolve(m)}de(e,t,r){const a=this.overlays.get(r.key);if(null!==a){const d=this.hs.get(a.largestBatchId).delete(r.key);this.hs.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Gh(t,r));let c=this.hs.get(t);void 0===c&&(c=mn(),this.hs.set(t,c)),this.hs.set(t,c.add(r.key))}}class Cg{constructor(){this.ls=new br(pi.fs),this.ds=new br(pi._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new pi(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new pi(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new dt(new Mn([])),r=new pi(t,e),a=new pi(t,e+1),c=[];return this.ds.forEachInRange([r,a],d=>{this.gs(d),c.push(d.key)}),c}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new dt(new Mn([])),r=new pi(t,e),a=new pi(t,e+1);let c=mn();return this.ds.forEachInRange([r,a],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new pi(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class pi{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return dt.comparator(e.key,t.key)||on(e.Es,t.Es)}static _s(e,t){return on(e.Es,t.Es)||dt.comparator(e.key,t.key)}}class Gw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new br(pi.fs)}checkEmpty(e){return me.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,a){const c=this.As;this.As++;const d=new Jo(c,t,r,a);this.mutationQueue.push(d);for(const m of a)this.Rs=this.Rs.add(new pi(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return me.resolve(d)}lookupMutationBatch(e,t){return me.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ps(t+1),c=a<0?0:a;return me.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new pi(t,0),a=new pi(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([r,a],d=>{const m=this.vs(d.Es);c.push(m)}),me.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new br(on);return t.forEach(a=>{const c=new pi(a,0),d=new pi(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,d],m=>{r=r.add(m.Es)})}),me.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let c=r;dt.isDocumentKey(c)||(c=c.child(""));const d=new pi(new dt(c),0);let m=new br(on);return this.Rs.forEachWhile(C=>{const R=C.key.path;return!!r.isPrefixOf(R)&&(R.length===a&&(m=m.add(C.Es)),!0)},d),me.resolve(this.bs(m))}bs(e){const t=[];return e.forEach(r=>{const a=this.vs(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){kt(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return me.forEach(t.mutations,a=>{const c=new pi(a.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new pi(t,0),a=this.Rs.firstAfterOrEqual(r);return me.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return me.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xD{constructor(e){this.Ss=e,this.docs=new fr(dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),c=a?a.size:0,d=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():Tr.newInvalidDocument(t))}getEntries(e,t){let r=xs();return t.forEach(a=>{const c=this.docs.get(a);r=r.insert(a,c?c.document.mutableCopy():Tr.newInvalidDocument(a))}),me.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let c=xs();const d=t.path,m=new dt(d.child("")),C=this.docs.getIteratorFrom(m);for(;C.hasNext();){const{key:R,value:{document:k}}=C.getNext();if(!d.isPrefixOf(R.path))break;R.path.length>d.length+1||My(O0(k),r)<=0||(a.has(k.key)||rg(t,k))&&(c=c.insert(k.key,k.mutableCopy()))}return me.resolve(c)}getAllFromCollectionGroup(e,t,r,a){xt()}Ds(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Bb(this)}getSize(e){return me.resolve(this.size)}}class Bb extends AD{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.rs.addEntry(e,a)):this.rs.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class RD{constructor(e){this.persistence=e,this.Cs=new wa(t=>sc(t),Yl),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Cg,this.targetCount=0,this.ks=cc.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,a)=>t(a)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),me.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new cc(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.$n(t),me.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let a=0;const c=[];return this.Cs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Cs.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),me.waitFor(c).next(()=>a)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(d=>{c.push(a.markPotentiallyOrphaned(e,d))}),me.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.Ns.containsKey(t))}}class Mv{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Ys(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new RD(this),this.indexManager=new Ub,this.remoteDocumentCache=new xD(r=>this.referenceDelegate.Bs(r)),this.serializer=new pg(t),this.Ls=new Du(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new Gw(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){Ze("MemoryPersistence","Starting transaction:",e);const a=new PD(this.Os.next());return this.referenceDelegate.qs(),r(a).next(c=>this.referenceDelegate.Us(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ks(e,t){return me.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class PD extends FI{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Gs=new Cg,this.Qs=null}static js(e){return new bg(e)}get zs(){if(this.Qs)return this.Qs;throw xt()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),me.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(a=>this.zs.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.zs.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.zs,r=>{const a=dt.fromPath(r);return this.Ws(e,a).next(c=>{c||t.removeEntry(a,Ft.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return me.or([()=>me.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class Mg{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=a}static Bi(e,t){let r=mn(),a=mn();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Mg(e,t.fromCache,r,a)}}class Pv{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,a){return this.Ui(e,t).next(c=>c||this.Ki(e,t,a,r)).next(c=>c||this.Gi(e,t))}Ui(e,t){if(tg(t))return me.resolve(null);let r=ns(t);return this.indexManager.getIndexType(e,r).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=kh(t,null,"F"),r=ns(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const d=mn(...c);return this.qi.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(C=>{const R=this.Qi(t,m);return this.ji(t,R,d,C.readTime)?this.Ui(e,kh(t,null,"F")):this.zi(e,R,t,C)}))})))}Ki(e,t,r,a){return tg(t)||a.isEqual(Ft.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(c=>{const d=this.Qi(t,c);return this.ji(t,d,r,a)?this.Gi(e,t):(Cy()<=ke.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Zy(t)),this.zi(e,d,t,function Ay(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ft.fromTimestamp(1e9===r?new kr(t+1,0):new kr(t,r));return new Io(a,dt.empty(),e)}(a,-1)))})}Qi(e,t){let r=new br(ig(e));return t.forEach((a,c)=>{rg(e,c)&&(r=r.add(c))}),r}ji(e,t,r,a){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Gi(e,t){return Cy()<=ke.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",Zy(t)),this.qi.getDocumentsMatchingQuery(e,t,Io.min())}zi(e,t,r,a){return this.qi.getDocumentsMatchingQuery(e,r,a).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}class Hw{constructor(e,t,r,a){this.persistence=e,this.Wi=t,this.serializer=a,this.Hi=new fr(on),this.Ji=new wa(c=>sc(c),Yl),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dg(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function sf(n,e){return pd.apply(this,arguments)}function pd(){return pd=(0,K.Z)(function*(n,e){const t=vt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(c=>(a=c,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],m=[];let C=mn();for(const R of a){d.push(R.batchId);for(const k of R.mutations)C=C.add(k.key)}for(const R of c){m.push(R.batchId);for(const k of R.mutations)C=C.add(k.key)}return t.localDocuments.getDocuments(r,C).next(R=>({tr:R,removedBatchIds:d,addedBatchIds:m}))})})}),pd.apply(this,arguments)}function Ww(n){const e=vt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function Gb(n,e){const t=vt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xc(n,e,t){return Ov.apply(this,arguments)}function Ov(){return Ov=(0,K.Z)(function*(n,e,t){const r=vt(n),a=r.Hi.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,a)))}catch(d){if(!Zu(d))throw d;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(a.target)}),Ov.apply(this,arguments)}function xg(n,e,t){const r=vt(n);let a=Ft.min(),c=mn();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,C,R){const k=vt(m),H=k.Ji.get(R);return void 0!==H?me.resolve(k.Hi.get(H)):k.Fs.getTargetData(C,R)}(r,d,ns(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(d,m.targetId).next(C=>{c=C})}).next(()=>r.Wi.getDocumentsMatchingQuery(d,e,t?a:Ft.min(),t?c:mn())).next(m=>(function kD(n,e,t){let r=n.Yi.get(e)||Ft.min();t.forEach((a,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.Yi.set(e,r)}(r,function Qy(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),m),{documents:m,sr:c})))}class hf{constructor(){this.activeTargetIds=function ow(){return sw}()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rg{constructor(){this.Wr=new hf,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new hf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vv{Jr(e){}shutdown(){}}class ff{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Uv=null;function Zw(){return null===Uv?Uv=268435456+Math.round(2147483648*Math.random()):Uv++,"0x"+Uv.toString(16)}const Wb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qb{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const rs="WebChannelConnection";class FD extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,a,c){const d=Zw(),m=this.Io(e,t);Ze("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const C={};return this.To(C,a,c),this.Eo(e,m,C,r).then(R=>(Ze("RestConnection",`Received RPC '${e}' ${d}: `,R),R),R=>{throw Yo("RestConnection",`RPC '${e}' ${d} failed with error: `,R,"url: ",m,"request:",r),R})}Ao(e,t,r,a,c,d){return this.po(e,t,r,a,c)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),r&&r.headers.forEach((a,c)=>e[c]=a)}Io(e,t){return`${this.wo}/v1/${t}:${Wb[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,a){const c=Zw();return new Promise((d,m)=>{const C=new xI;C.setWithCredentials(!0),C.listenOnce(MI.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case Dy.NO_ERROR:const k=C.getResponseJson();Ze(rs,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(k)),d(k);break;case Dy.TIMEOUT:Ze(rs,`RPC '${e}' ${c} timed out`),m(new Ge(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Dy.HTTP_ERROR:const H=C.getStatus();if(Ze(rs,`RPC '${e}' ${c} failed with status:`,H,"response text:",C.getResponseText()),H>0){let de=C.getResponseJson();Array.isArray(de)&&(de=de[0]);const Ae=de?.error;if(Ae&&Ae.status&&Ae.message){const Je=function(st){const Pt=st.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(Pt)>=0?Pt:Ce.UNKNOWN}(Ae.status);m(new Ge(Je,Ae.message))}else m(new Ge(Ce.UNKNOWN,"Server responded with status "+C.getStatus()))}else m(new Ge(Ce.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{Ze(rs,`RPC '${e}' ${c} completed.`)}});const R=JSON.stringify(a);Ze(rs,`RPC '${e}' ${c} sending request:`,a),C.send(t,"POST",R,r,15)})}Ro(e,t,r){const a=Zw(),c=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Sb(),m=Ab(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new Ci({})),this.To(C.initMessageHeaders,t,r),C.encodeInitMessageHeaders=!0;const R=c.join("");Ze(rs,`Creating RPC '${e}' stream ${a}: ${R}`,C);const k=d.createWebChannel(R,C);let H=!1,de=!1;const Ae=new qb({io:st=>{de?Ze(rs,`Not sending because RPC '${e}' stream ${a} is closed:`,st):(H||(Ze(rs,`Opening RPC '${e}' stream ${a} transport.`),k.open(),H=!0),Ze(rs,`RPC '${e}' stream ${a} sending:`,st),k.send(st))},ro:()=>k.close()}),Je=(st,Pt,cn)=>{st.listen(Pt,Bn=>{try{cn(Bn)}catch(ln){setTimeout(()=>{throw ln},0)}})};return Je(k,Dh.EventType.OPEN,()=>{de||Ze(rs,`RPC '${e}' stream ${a} transport opened.`)}),Je(k,Dh.EventType.CLOSE,()=>{de||(de=!0,Ze(rs,`RPC '${e}' stream ${a} transport closed`),Ae.fo())}),Je(k,Dh.EventType.ERROR,st=>{de||(de=!0,Yo(rs,`RPC '${e}' stream ${a} transport errored:`,st),Ae.fo(new Ge(Ce.UNAVAILABLE,"The operation could not be completed")))}),Je(k,Dh.EventType.MESSAGE,st=>{var Pt;if(!de){const cn=st.data[0];kt(!!cn);const ln=cn.error||(null===(Pt=cn[0])||void 0===Pt?void 0:Pt.error);if(ln){Ze(rs,`RPC '${e}' stream ${a} received error:`,ln);const Ns=ln.status;let Xr=function(Qs){const pc=fi[Qs];if(void 0!==pc)return Wh(pc)}(Ns),_r=ln.message;void 0===Xr&&(Xr=Ce.INTERNAL,_r="Unknown error status: "+Ns+" with message "+ln.message),de=!0,Ae.fo(new Ge(Xr,_r)),k.close()}else Ze(rs,`RPC '${e}' stream ${a} received:`,cn),Ae._o(cn)}}),Je(m,C0.STAT_EVENT,st=>{st.stat===b0.PROXY?Ze(rs,`RPC '${e}' stream ${a} detected buffering proxy`):st.stat===b0.NOPROXY&&Ze(rs,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Ae.lo()},0),Ae}}function Pg(){return typeof document<"u"?document:null}function pf(n){return new Cw(n,!0)}class Ng{constructor(e,t,r=1e3,a=1.5,c=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=a,this.bo=c,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),a=Math.max(0,t-r);a>0&&Ze("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,a,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class Bv{constructor(e,t,r,a,c,d,m,C){this.si=e,this.Mo=r,this.Oo=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=C,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new Ng(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,K.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,K.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return(0,K.Z)(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(si(t.toString()),si("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===Ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.$o===t&&this.Xo(r,a)},r=>{e(()=>{const a=new Ge(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(a)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(a=>{r(()=>this.Zo(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,K.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jw extends Bv{constructor(e,t,r,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,d),this.serializer=c}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function fv(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(C=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:xt(),a=e.targetChange.targetIds||[],c=function(C,R){return C.useProto3Json?(kt(void 0===R||"string"==typeof R),hi.fromBase64String(R||"")):(kt(void 0===R||R instanceof Uint8Array),hi.fromUint8Array(R||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(C){const R=void 0===C.code?Ce.UNKNOWN:Wh(C.code);return new Ge(R,C.message||"")}(d);t=new ww(r,a,c,m||null)}else if("documentChange"in e){const r=e.documentChange,a=Ka(n,r.document.name),c=Jr(r.document.updateTime),d=r.document.createTime?Jr(r.document.createTime):Ft.min(),m=new Ui({mapValue:{fields:r.document.fields}}),C=Tr.newFoundDocument(a,c,d,m);t=new rd(r.targetIds||[],r.removedTargetIds||[],C.key,C)}else if("documentDelete"in e){const r=e.documentDelete,a=Ka(n,r.document),c=r.readTime?Jr(r.readTime):Ft.min(),d=Tr.newNoDocument(a,c);t=new rd([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,a=Ka(n,r.document);t=new rd([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return xt();{const r=e.filter,{count:a=0,unchangedNames:c}=r,d=new dD(a,c);t=new _w(r.targetId,d)}}var C;return t}(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ft.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ft.min():c.readTime?Jr(c.readTime):Ft.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=cg(this.serializer),t.addTarget=function(a,c){let d;const m=c.target;if(d=Xp(m)?{documents:bw(a,m)}:{query:pv(a,m)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=cv(a,c.resumeToken);const C=uv(a,c.expectedCount);null!==C&&(d.expectedCount=C)}else if(c.snapshotVersion.compareTo(Ft.min())>0){d.readTime=Kc(a,c.snapshotVersion.toTimestamp());const C=uv(a,c.expectedCount);null!==C&&(d.expectedCount=C)}return d}(this.serializer,e);const r=function Tw(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=cg(this.serializer),t.removeTarget=e,this.zo(t)}}class LD extends Bv{constructor(e,t,r,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,d),this.serializer=c,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function yD(n,e){return n&&n.length>0?(kt(void 0!==e),n.map(t=>function(r,a){let c=Jr(r.updateTime?r.updateTime:a);return c.isEqual(Ft.min())&&(c=Jr(a)),new pw(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Jr(e.commitTime);return this.listener.uu(r,t)}return kt(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=cg(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Kh(n,e){let t;if(e instanceof Xl)t={update:lg(n,e.key,e.value)};else if(e instanceof td)t={delete:qa(n,e.key)};else if(e instanceof Eu)t={update:lg(n,e.key,e.data),updateMask:od(e.fieldMask)};else{if(!(e instanceof jh))return xt();t={verify:qa(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,c){const d=c.transform;if(d instanceof Gc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Hc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof zc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Jl)return{fieldPath:c.field.canonicalString(),increment:d.wt};throw xt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:pD(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:xt()),t;var a}(this.serializer,r))};this.zo(t)}}class VD extends class{}{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.hu=!1}lu(){if(this.hu)throw new Ge(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.po(e,t,r,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ge(Ce.UNKNOWN,a.toString())})}Ao(e,t,r,a){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Ao(e,t,r,c,d,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ge(Ce.UNKNOWN,c.toString())})}terminate(){this.hu=!0}}class Kb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(si(t),this.wu=!1):Ze("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class eE{constructor(e,t,r,a,c){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=c,this.vu.Jr(m=>{r.enqueueAndForget((0,K.Z)(function*(){var C;tl(d)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,K.Z)(function*(R){const k=vt(R);k.Au.add(4),yield gd(k),k.Pu.set("Unknown"),k.Au.delete(4),yield el(k)}),function(R){return C.apply(this,arguments)})(d))}))}),this.Pu=new Kb(r,a)}}function el(n){return $v.apply(this,arguments)}function $v(){return $v=(0,K.Z)(function*(n){if(tl(n))for(const e of n.Ru)yield e(!0)}),$v.apply(this,arguments)}function gd(n){return tE.apply(this,arguments)}function tE(){return tE=(0,K.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),tE.apply(this,arguments)}function jv(n,e){const t=vt(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),iE(t)?rE(t):Jt(t).Uo()&&Gv(t,e))}function mf(n,e){const t=vt(n),r=Jt(t);t.Eu.delete(e),r.Uo()&&nE(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():tl(t)&&t.Pu.set("Unknown"))}function Gv(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ft.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jt(n).nu(e)}function nE(n,e){n.bu.Lt(e),Jt(n).su(e)}function rE(n){n.bu=new hD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),Jt(n).start(),n.Pu.mu()}function iE(n){return tl(n)&&!Jt(n).qo()&&n.Eu.size>0}function tl(n){return 0===vt(n).Au.size}function UD(n){n.bu=void 0}function BD(n){return sE.apply(this,arguments)}function sE(){return sE=(0,K.Z)(function*(n){n.Eu.forEach((e,t)=>{Gv(n,e)})}),sE.apply(this,arguments)}function Yb(n,e){return oE.apply(this,arguments)}function oE(){return oE=(0,K.Z)(function*(n,e){UD(n),iE(n)?(n.Pu.pu(e),rE(n)):n.Pu.set("Unknown")}),oE.apply(this,arguments)}function Zb(n,e,t){return aE.apply(this,arguments)}function aE(){return aE=(0,K.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof ww&&2===e.state&&e.cause)try{yield(r=(0,K.Z)(function*(a,c){const d=c.cause;for(const m of c.targetIds)a.Eu.has(m)&&(yield a.remoteSyncer.rejectListen(m,d),a.Eu.delete(m),a.bu.removeTarget(m))}),function(a,c){return r.apply(this,arguments)})(n,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hv(n,r)}else if(e instanceof rd?n.bu.Wt(e):e instanceof _w?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(Ft.min()))try{const r=yield Ww(n.localStore);t.compareTo(r)>=0&&(yield function(a,c){const d=a.bu.ue(c);return d.targetChanges.forEach((m,C)=>{if(m.resumeToken.approximateByteSize()>0){const R=a.Eu.get(C);R&&a.Eu.set(C,R.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,C)=>{const R=a.Eu.get(m);if(!R)return;a.Eu.set(m,R.withResumeToken(hi.EMPTY_BYTE_STRING,R.snapshotVersion)),nE(a,m);const k=new Ya(R.target,m,C,R.sequenceNumber);Gv(a,k)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),yield Hv(n,r)}var r}),aE.apply(this,arguments)}function Hv(n,e,t){return i.apply(this,arguments)}function i(){return i=(0,K.Z)(function*(n,e,t){if(!Zu(e))throw e;n.Au.add(1),yield gd(n),n.Pu.set("Offline"),t||(t=()=>Ww(n.localStore)),n.asyncQueue.enqueueRetryable((0,K.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield el(n)}))}),i.apply(this,arguments)}function s(n,e){return e().catch(t=>Hv(n,t,e))}function o(n){return u.apply(this,arguments)}function u(){return u=(0,K.Z)(function*(n){const e=vt(n),t=Wn(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;l(e);)try{const a=yield Gb(e.localStore,r);if(null===a){0===e.Tu.length&&t.Qo();break}r=a.batchId,h(e,a)}catch(a){yield Hv(e,a)}p(e)&&w(e)}),u.apply(this,arguments)}function l(n){return tl(n)&&n.Tu.length<10}function h(n,e){n.Tu.push(e);const t=Wn(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function p(n){return tl(n)&&!Wn(n).qo()&&n.Tu.length>0}function w(n){Wn(n).start()}function b(n){return N.apply(this,arguments)}function N(){return N=(0,K.Z)(function*(n){Wn(n).au()}),N.apply(this,arguments)}function V(n){return z.apply(this,arguments)}function z(){return z=(0,K.Z)(function*(n){const e=Wn(n);for(const t of n.Tu)e.ou(t.mutations)}),z.apply(this,arguments)}function ne(n,e,t){return fe.apply(this,arguments)}function fe(){return fe=(0,K.Z)(function*(n,e,t){const r=n.Tu.shift(),a=rv.from(r,e,t);yield s(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield o(n)}),fe.apply(this,arguments)}function Ne(n,e){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,K.Z)(function*(n,e){var t;e&&Wn(n).ru&&(yield(t=(0,K.Z)(function*(r,a){if(function zh(n){switch(n){default:return xt();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}(c=a.code)&&c!==Ce.ABORTED){const d=r.Tu.shift();Wn(r).Go(),yield s(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,a)),yield o(r)}var c}),function(r,a){return t.apply(this,arguments)})(n,e)),p(n)&&w(n)}),Qe.apply(this,arguments)}function ht(n,e){return Ct.apply(this,arguments)}function Ct(){return Ct=(0,K.Z)(function*(n,e){const t=vt(n);t.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=tl(t);t.Au.add(3),yield gd(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield el(t)}),Ct.apply(this,arguments)}function Ye(){return Ye=(0,K.Z)(function*(n,e){const t=vt(n);e?(t.Au.delete(2),yield el(t)):e||(t.Au.add(2),yield gd(t),t.Pu.set("Unknown"))}),Ye.apply(this,arguments)}function Jt(n){return n.Vu||(n.Vu=function(e,t,r){const a=vt(e);return a.lu(),new Jw(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{oo:BD.bind(null,n),co:Yb.bind(null,n),eu:Zb.bind(null,n)}),n.Ru.push(function(){var e=(0,K.Z)(function*(t){t?(n.Vu.Go(),iE(n)?rE(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),UD(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function Wn(n){return n.Su||(n.Su=function(e,t,r){const a=vt(e);return a.lu(),new LD(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{oo:b.bind(null,n),co:Ne.bind(null,n),cu:V.bind(null,n),uu:ne.bind(null,n)}),n.Ru.push(function(){var e=(0,K.Z)(function*(t){t?(n.Su.Go(),yield o(n)):(yield n.Su.stop(),n.Tu.length>0&&(Ze("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class zr{constructor(e,t,r,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=c,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,a,c){const d=Date.now()+r,m=new zr(e,t,d,a,c);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ge(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yf(n,e){if(si("AsyncQueue",`${e}: ${n}`),Zu(n))return new Ge(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Og{constructor(e){this.comparator=e?(t,r)=>e(t,r)||dt.comparator(t.key,r.key):(t,r)=>dt.comparator(t.key,r.key),this.keyedMap=Ql(),this.sortedSet=new fr(this.comparator)}static emptySet(e){return new Og(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Og)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Og;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Qb{constructor(){this.Du=new fr(dt.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):xt():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class kg{constructor(e,t,r,a,c,d,m,C,R){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=C,this.hasCachedResults=R}static fromInitialDocuments(e,t,r,a,c){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new kg(e,t,Og.emptySet(t),d,r,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class JT{constructor(){this.xu=void 0,this.listeners=[]}}class XT{constructor(){this.queries=new wa(e=>Yy(e),Wa),this.onlineState="Unknown",this.Nu=new Set}}function $D(n,e){return jD.apply(this,arguments)}function jD(){return jD=(0,K.Z)(function*(n,e){const t=vt(n),r=e.query;let a=!1,c=t.queries.get(r);if(c||(a=!0,c=new JT),a)try{c.xu=yield t.onListen(r)}catch(d){const m=yf(d,`Initialization of query '${Zy(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,c),c.listeners.push(e),e.ku(t.onlineState),c.xu&&e.Mu(c.xu)&&zD(t)}),jD.apply(this,arguments)}function GD(n,e){return HD.apply(this,arguments)}function HD(){return HD=(0,K.Z)(function*(n,e){const t=vt(n),r=e.query;let a=!1;const c=t.queries.get(r);if(c){const d=c.listeners.indexOf(e);d>=0&&(c.listeners.splice(d,1),a=0===c.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)}),HD.apply(this,arguments)}function eS(n,e){const t=vt(n);let r=!1;for(const a of e){const d=t.queries.get(a.query);if(d){for(const m of d.listeners)m.Mu(a)&&(r=!0);d.xu=a}}r&&zD(t)}function tS(n,e,t){const r=vt(n),a=r.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);r.queries.delete(e)}function zD(n){n.Nu.forEach(e=>{e.next()})}class WD{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new kg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=kg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class eT{constructor(e){this.key=e}}class tT{constructor(e){this.key=e}}class nT{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=mn(),this.mutatedKeys=mn(),this.Zu=ig(e),this.tc=new Og(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new Qb,a=t?t.tc:this.tc;let c=t?t.mutatedKeys:this.mutatedKeys,d=a,m=!1;const C="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,R="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((k,H)=>{const de=a.get(k),Ae=rg(this.query,H)?H:null,Je=!!de&&this.mutatedKeys.has(de.key),st=!!Ae&&(Ae.hasLocalMutations||this.mutatedKeys.has(Ae.key)&&Ae.hasCommittedMutations);let Pt=!1;de&&Ae?de.data.isEqual(Ae.data)?Je!==st&&(r.track({type:3,doc:Ae}),Pt=!0):this.ic(de,Ae)||(r.track({type:2,doc:Ae}),Pt=!0,(C&&this.Zu(Ae,C)>0||R&&this.Zu(Ae,R)<0)&&(m=!0)):!de&&Ae?(r.track({type:0,doc:Ae}),Pt=!0):de&&!Ae&&(r.track({type:1,doc:de}),Pt=!0,(C||R)&&(m=!0)),Pt&&(Ae?(d=d.add(Ae),c=st?c.add(k):c.delete(k)):(d=d.delete(k),c=c.delete(k)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const k="F"===this.query.limitType?d.last():d.first();d=d.delete(k.key),c=c.delete(k.key),r.track({type:1,doc:k})}return{tc:d,sc:r,ji:m,mutatedKeys:c}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const c=e.sc.Cu();c.sort((R,k)=>function(H,de){const Ae=Je=>{switch(Je){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return Ae(H)-Ae(de)}(R.type,k.type)||this.Zu(R.doc,k.doc)),this.rc(r);const d=t?this.oc():[],m=0===this.Xu.size&&this.current?1:0,C=m!==this.Yu;return this.Yu=m,0!==c.length||C?{snapshot:new kg(this.query,e.tc,a,c,e.mutatedKeys,0===m,C,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:d}:{uc:d}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new Qb,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=mn(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new tT(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new eT(r))}),t}ac(e){this.Ju=e.sr,this.Xu=mn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return kg.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class iS{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class sS{constructor(e){this.key=e,this.lc=!1}}class oS{constructor(e,t,r,a,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.fc={},this.dc=new wa(m=>Yy(m),Wa),this._c=new Map,this.wc=new Set,this.mc=new fr(dt.comparator),this.gc=new Map,this.yc=new Cg,this.Ic={},this.Tc=new Map,this.Ec=cc.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function aS(n,e){return qD.apply(this,arguments)}function qD(){return qD=(0,K.Z)(function*(n,e){const t=function mC(n){const e=vt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=rT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lS.bind(null,e),e.fc.eu=eS.bind(null,e.eventManager),e.fc.vc=tS.bind(null,e.eventManager),e}(n);let r,a;const c=t.dc.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),a=c.view.hc();else{const d=yield function af(n,e){const t=vt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Fs.getTargetData(r,e).next(c=>c?(a=c,me.resolve(a)):t.Fs.allocateTargetId(r).next(d=>(a=new Ya(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Hi.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}(t.localStore,ns(e)),m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,a=yield function KD(n,e,t,r,a){return YD.apply(this,arguments)}(t,e,r,"current"===m,d.resumeToken),t.isPrimaryClient&&jv(t.remoteStore,d)}return a}),qD.apply(this,arguments)}function YD(){return YD=(0,K.Z)(function*(n,e,t,r,a){n.Rc=(H,de,Ae)=>{return(Je=(0,K.Z)(function*(st,Pt,cn,Bn){let ln=Pt.view.nc(cn);ln.ji&&(ln=yield xg(st.localStore,Pt.query,!1).then(({documents:_r})=>Pt.view.nc(_r,ln)));const Ns=Bn&&Bn.targetChanges.get(Pt.targetId),Xr=Pt.view.applyChanges(ln,st.isPrimaryClient,Ns);return sC(st,Pt.targetId,Xr.uc),Xr.snapshot}),function(st,Pt,cn,Bn){return Je.apply(this,arguments)})(n,H,de,Ae);var Je};const c=yield xg(n.localStore,e,!0),d=new nT(e,c.sr),m=d.nc(c.documents),C=qc.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,a),R=d.applyChanges(m,n.isPrimaryClient,C);sC(n,t,R.uc);const k=new iS(e,t,d);return n.dc.set(e,k),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),R.snapshot}),YD.apply(this,arguments)}function uS(n,e){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,K.Z)(function*(n,e){const t=vt(n),r=t.dc.get(e),a=t._c.get(r.targetId);if(a.length>1)return t._c.set(r.targetId,a.filter(c=>!Wa(c,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),mf(t.remoteStore,r.targetId),Fg(t,r.targetId)}).catch(Yu))):(Fg(t,r.targetId),yield Xc(t.localStore,r.targetId,!0))}),ZD.apply(this,arguments)}function QD(){return QD=(0,K.Z)(function*(n,e,t){const r=function yC(n){const e=vt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hS.bind(null,e),e}(n);try{const a=yield function(c,d){const m=vt(c),C=kr.now(),R=d.reduce((de,Ae)=>de.add(Ae.key),mn());let k,H;return m.persistence.runTransaction("Locally write mutations","readwrite",de=>{let Ae=xs(),Je=mn();return m.Xi.getEntries(de,R).next(st=>{Ae=st,Ae.forEach((Pt,cn)=>{cn.isValidDocument()||(Je=Je.add(Pt))})}).next(()=>m.localDocuments.getOverlayedDocuments(de,Ae)).next(st=>{k=st;const Pt=[];for(const cn of d){const Bn=Nb(cn,k.get(cn.key).overlayedDocument);null!=Bn&&Pt.push(new Eu(cn.key,Bn,K0(Bn.value.mapValue),Sr.exists(!0)))}return m.mutationQueue.addMutationBatch(de,C,Pt,d)}).next(st=>{H=st;const Pt=st.applyToLocalDocumentSet(k,Je);return m.documentOverlayCache.saveOverlays(de,st.batchId,Pt)})}).then(()=>({batchId:H.batchId,changes:Jy(k)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let C=c.Ic[c.currentUser.toKey()];C||(C=new fr(on)),C=C.insert(d,m),c.Ic[c.currentUser.toKey()]=C}(r,a.batchId,t),yield nl(r,a.changes),yield o(r.remoteStore)}catch(a){const c=yf(a,"Failed to persist write");t.reject(c)}}),QD.apply(this,arguments)}function rT(n,e){return JD.apply(this,arguments)}function JD(){return JD=(0,K.Z)(function*(n,e){const t=vt(n);try{const r=yield function jb(n,e){const t=vt(n),r=e.snapshotVersion;let a=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.Xi.newChangeBuffer({trackRemovals:!0});a=t.Hi;const m=[];e.targetChanges.forEach((k,H)=>{const de=a.get(H);if(!de)return;m.push(t.Fs.removeMatchingKeys(c,k.removedDocuments,H).next(()=>t.Fs.addMatchingKeys(c,k.addedDocuments,H)));let Ae=de.withSequenceNumber(c.currentSequenceNumber);var Je,st,Pt;null!==e.targetMismatches.get(H)?Ae=Ae.withResumeToken(hi.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):k.resumeToken.approximateByteSize()>0&&(Ae=Ae.withResumeToken(k.resumeToken,r)),a=a.insert(H,Ae),st=Ae,Pt=k,(0===(Je=de).resumeToken.approximateByteSize()||st.snapshotVersion.toMicroseconds()-Je.snapshotVersion.toMicroseconds()>=3e8||Pt.addedDocuments.size+Pt.modifiedDocuments.size+Pt.removedDocuments.size>0)&&m.push(t.Fs.updateTargetData(c,Ae))});let C=xs(),R=mn();if(e.documentUpdates.forEach(k=>{e.resolvedLimboDocuments.has(k)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,k))}),m.push(function ND(n,e,t){let r=mn(),a=mn();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let d=xs();return t.forEach((m,C)=>{const R=c.get(m);C.isFoundDocument()!==R.isFoundDocument()&&(a=a.add(m)),C.isNoDocument()&&C.version.isEqual(Ft.min())?(e.removeEntry(m,C.readTime),d=d.insert(m,C)):!R.isValidDocument()||C.version.compareTo(R.version)>0||0===C.version.compareTo(R.version)&&R.hasPendingWrites?(e.addEntry(C),d=d.insert(m,C)):Ze("LocalStore","Ignoring outdated watch update for ",m,". Current version:",R.version," Watch version:",C.version)}),{er:d,nr:a}})}(c,d,e.documentUpdates).next(k=>{C=k.er,R=k.nr})),!r.isEqual(Ft.min())){const k=t.Fs.getLastRemoteSnapshotVersion(c).next(H=>t.Fs.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(k)}return me.waitFor(m).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,C,R)).next(()=>C)}).then(c=>(t.Hi=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const d=t.gc.get(c);d&&(kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?d.lc=!0:a.modifiedDocuments.size>0?kt(d.lc):a.removedDocuments.size>0&&(kt(d.lc),d.lc=!1))}),yield nl(t,r,e)}catch(r){yield Yu(r)}}),JD.apply(this,arguments)}function iT(n,e,t){const r=vt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.dc.forEach((c,d)=>{const m=d.view.ku(e);m.snapshot&&a.push(m.snapshot)}),function(c,d){const m=vt(c);m.onlineState=d;let C=!1;m.queries.forEach((R,k)=>{for(const H of k.listeners)H.ku(d)&&(C=!0)}),C&&zD(m)}(r.eventManager,e),a.length&&r.fc.eu(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lS(n,e,t){return XD.apply(this,arguments)}function XD(){return XD=(0,K.Z)(function*(n,e,t){const r=vt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.gc.get(e),c=a&&a.key;if(c){let d=new fr(dt.comparator);d=d.insert(c,Tr.newNoDocument(c,Ft.min()));const m=mn().add(c),C=new nd(Ft.min(),new Map,new fr(on),d,m);yield rT(r,C),r.mc=r.mc.remove(c),r.gc.delete(e),oC(r)}else yield Xc(r.localStore,e,!1).then(()=>Fg(r,e,t)).catch(Yu)}),XD.apply(this,arguments)}function dS(n,e){return eC.apply(this,arguments)}function eC(){return eC=(0,K.Z)(function*(n,e){const t=vt(n),r=e.batch.batchId;try{const a=yield function zw(n,e){const t=vt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),c=t.Xi.newChangeBuffer({trackRemovals:!0});return function(d,m,C,R){const k=C.batch,H=k.keys();let de=me.resolve();return H.forEach(Ae=>{de=de.next(()=>R.getEntry(m,Ae)).next(Je=>{const st=C.docVersions.get(Ae);kt(null!==st),Je.version.compareTo(st)<0&&(k.applyToRemoteDocument(Je,C),Je.isValidDocument()&&(Je.setReadTime(C.commitVersion),R.addEntry(Je)))})}),de.next(()=>d.mutationQueue.removeMutationBatch(m,k))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=mn();for(let C=0;C<d.mutationResults.length;++C)d.mutationResults[C].transformResults.length>0&&(m=m.add(d.batch.mutations[C].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}(t.localStore,e);iC(t,r,null),rC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield nl(t,a)}catch(a){yield Yu(a)}}),eC.apply(this,arguments)}function hS(n,e,t){return tC.apply(this,arguments)}function tC(){return tC=(0,K.Z)(function*(n,e,t){const r=vt(n);try{const a=yield function(c,d){const m=vt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let R;return m.mutationQueue.lookupMutationBatch(C,d).next(k=>(kt(null!==k),R=k.keys(),m.mutationQueue.removeMutationBatch(C,k))).next(()=>m.mutationQueue.performConsistencyCheck(C)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(C,R,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(C,R)).next(()=>m.localDocuments.getDocuments(C,R))})}(r.localStore,e);iC(r,e,t),rC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield nl(r,a)}catch(a){yield Yu(a)}}),tC.apply(this,arguments)}function rC(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function iC(n,e,t){const r=vt(n);let a=r.Ic[r.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),r.Ic[r.currentUser.toKey()]=a}}function Fg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||sT(n,r)})}function sT(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(mf(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),oC(n))}function sC(n,e,t){for(const r of t)r instanceof eT?(n.yc.addReference(r.key,e),pS(n,r)):r instanceof tT?(Ze("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||sT(n,r.key)):xt()}function pS(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(Ze("SyncEngine","New document in limbo: "+t),n.wc.add(r),oC(n))}function oC(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new dt(Mn.fromString(e)),r=n.Ec.next();n.gc.set(r,new sS(t)),n.mc=n.mc.insert(t,r),jv(n.remoteStore,new Ya(ns(oc(t.path)),r,"TargetPurposeLimboResolution",Ys.ct))}}function nl(n,e,t){return aC.apply(this,arguments)}function aC(){return aC=(0,K.Z)(function*(n,e,t){const r=vt(n),a=[],c=[],d=[];var m;r.dc.isEmpty()||(r.dc.forEach((m,C)=>{d.push(r.Rc(C,e,t).then(R=>{if((R||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(C.targetId,R?.fromCache?"not-current":"current"),R){a.push(R);const k=Mg.Bi(C.targetId,R);c.push(k)}}))}),yield Promise.all(d),r.fc.eu(a),yield(m=(0,K.Z)(function*(C,R){const k=vt(C);try{yield k.persistence.runTransaction("notifyLocalViewChanges","readwrite",H=>me.forEach(R,de=>me.forEach(de.$i,Ae=>k.persistence.referenceDelegate.addReference(H,de.targetId,Ae)).next(()=>me.forEach(de.Fi,Ae=>k.persistence.referenceDelegate.removeReference(H,de.targetId,Ae)))))}catch(H){if(!Zu(H))throw H;Ze("LocalStore","Failed to update sequence numbers: "+H)}for(const H of R){const de=H.targetId;if(!H.fromCache){const Ae=k.Hi.get(de),st=Ae.withLastLimboFreeSnapshotVersion(Ae.snapshotVersion);k.Hi=k.Hi.insert(de,st)}}}),function(C,R){return m.apply(this,arguments)})(r.localStore,c))}),aC.apply(this,arguments)}function gS(n,e){return uC.apply(this,arguments)}function uC(){return uC=(0,K.Z)(function*(n,e){const t=vt(n);if(!t.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=yield sf(t.localStore,e);t.currentUser=e,(a=t).Tc.forEach(d=>{d.forEach(m=>{m.reject(new Ge(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield nl(t,r.tr)}var a}),uC.apply(this,arguments)}function mS(n,e){const t=vt(n),r=t.gc.get(e);if(r&&r.lc)return mn().add(r.key);{let a=mn();const c=t._c.get(e);if(!c)return a;for(const d of c){const m=t.dc.get(d);a=a.unionWith(m.view.ec)}return a}}class uE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,K.Z)(function*(){t.serializer=pf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Nv(n,e,t,r){return new Hw(n,e,t,r)}(this.persistence,new Pv,e.initialUser,this.serializer)}createPersistence(e){return new Mv(bg.js,this.serializer)}createSharedClientState(e){return new Rg}terminate(){var e=this;return(0,K.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Lg{initialize(e,t){var r=this;return(0,K.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>iT(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,r.syncEngine),yield function Gt(n,e){return Ye.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new XT}createDatastore(e){const t=pf(e.databaseInfo.databaseId),r=new FD(e.databaseInfo);return new VD(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,c=m=>iT(this.syncEngine,m,0),d=ff.D()?new ff:new Vv,new eE(t,r,a,c,d);var t,r,a,c,d}createSyncEngine(e,t){return function(r,a,c,d,m,C,R){const k=new oS(r,a,c,d,m,C);return R&&(k.Ac=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,K.Z)(function*(t){const r=vt(t);Ze("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield gd(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class cE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class MS{constructor(e,t,r,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=bi.UNAUTHENTICATED,this.clientId=Ty.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,K.Z)(function*(m){Ze("FirestoreClient","Received user=",m.uid),yield c.authCredentialListener(m),c.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ze("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,K.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ge(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=yf(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function lE(n,e){return vC.apply(this,arguments)}function vC(){return vC=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,K.Z)(function*(c){r.isEqual(c)||(yield sf(e.localStore,c),r=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),vC.apply(this,arguments)}function _C(n,e){return wC.apply(this,arguments)}function wC(){return wC=(0,K.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function EC(n){return IC.apply(this,arguments)}(n);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>ht(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,c)=>ht(e.remoteStore,c)),n._onlineComponents=e}),wC.apply(this,arguments)}function IC(){return IC=(0,K.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function dT(n){return"FirebaseError"===n.name?n.code===Ce.FAILED_PRECONDITION||n.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Yo("Error using user provided cache. Falling back to memory cache: "+t),yield lE(n,new uE)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),yield lE(n,new uE);return n._offlineComponents}),IC.apply(this,arguments)}function dE(n){return DC.apply(this,arguments)}function DC(){return DC=(0,K.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield _C(n,n._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield _C(n,new Lg))),n._onlineComponents}),DC.apply(this,arguments)}function Vg(n){return bC.apply(this,arguments)}function bC(){return bC=(0,K.Z)(function*(n){const e=yield dE(n),t=e.eventManager;return t.onListen=aS.bind(null,e.syncEngine),t.onUnlisten=uS.bind(null,e.syncEngine),t}),bC.apply(this,arguments)}const yT=new Map;function TC(n,e,t){if(!t)throw new Ge(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vT(n){if(!dt.isDocumentKey(n))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _T(n){if(dt.isDocumentKey(n))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":xt()}function Un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ge(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fE(n);throw new Ge(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class ET{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ge(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ge(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function VS(n,e,t,r){if(!0===e&&!0===r)throw new Ge(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zv{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new A0;switch(t.type){case"firstParty":return new OI(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ge(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=yT.get(e);t&&(Ze("ComponentProvider","Removing Datastore"),yT.delete(e),t.terminate())}(this),Promise.resolve()}}class Ti{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ti(this.firestore,e,this._key)}}class Ps{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class fc extends Ps{constructor(e,t,r){super(e,t,oc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ti(this.firestore,null,new dt(e))}withConverter(e){return new fc(this.firestore,e,this._path)}}function BS(n,e,...t){if(n=(0,ve.m9)(n),TC("collection","path",e),n instanceof zv){const r=Mn.fromString(e,...t);return _T(r),new fc(n,null,r)}{if(!(n instanceof Ti||n instanceof fc))throw new Ge(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mn.fromString(e,...t));return _T(r),new fc(n.firestore,null,r)}}class jS{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new Ng(this,"async_queue_retry"),this.Yc=()=>{const t=Pg();t&&Ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=Pg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=Pg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new rr;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,K.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Zu(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,si("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const a=zr.createAndSchedule(this,e,t,r,c=>this.ea(c));return this.jc.push(a),a}Xc(){this.zc&&xt()}verifyOperationInProgress(){}na(){var e=this;return(0,K.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function SC(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class Wr extends zv{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new jS,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||DT(this),this._firestoreClient.terminate()}}function HS(n,e){const t="object"==typeof n?n:(0,Ve.Mq)(),r="string"==typeof n?n:e||"(default)",a=(0,Ve.qX)(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const c=(0,ve.P0)("firestore");c&&function US(n,e,t,r={}){var a;const c=(n=Un(n,zv))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Yo("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=bi.MOCK_USER;else{d=(0,ve.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new Ge(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new bi(C)}n._authCredentials=new M0(new Zo(d,m))}}(a,...c)}return a}function Bi(n){return n._firestoreClient||DT(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function DT(n){var e,t,r;const a=n._freezeSettings(),c=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new qI(n._databaseId,m,n._persistenceKey,(R=a).host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,R.useFetchStreams));var m,R;n._firestoreClient=new MS(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=a.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class vf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vf(hi.fromBase64String(e))}catch(t){throw new Ge(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vf(hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ug{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class TT{constructor(e){this._methodName=e}}class AC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ge(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ge(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return on(this._lat,e._lat)||on(this._long,e._long)}}const WS=/^__.*__$/;class qS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Eu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xl(e,this.data,t,this.fieldTransforms)}}function AT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class pE{constructor(e,t,r,a,c,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,void 0===c&&this.oa(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new pE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:r,ha:!1});return a.la(e),a}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:r,ha:!1});return a.oa(),a}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return mE(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(AT(this.ua)&&WS.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class KS{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||pf(e)}ga(e,t,r,a=!1){return new pE({ua:e,methodName:t,ma:r,path:Gr.emptyPath(),ha:!1,wa:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bg(n){const e=n._freezeSettings(),t=pf(n._databaseId);return new KS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MC(n,e,t,r,a,c={}){const d=n.ga(c.merge||c.mergeFields?2:0,e,t,a);RC("Data must be an object, but it was:",d,r);const m=NT(r,d);let C,R;if(c.merge)C=new Zs(d.fieldMask),R=d.fieldTransforms;else if(c.mergeFields){const k=[];for(const H of c.mergeFields){const de=Kv(e,H,t);if(!d.contains(de))throw new Ge(Ce.INVALID_ARGUMENT,`Field '${de}' is specified in your field mask but missing from your input data.`);kT(k,de)||k.push(de)}C=new Zs(k),R=d.fieldTransforms.filter(H=>C.covers(H.field))}else C=null,R=d.fieldTransforms;return new qS(new Ui(m),C,R)}function _f(n,e){if(OT(n=(0,ve.m9)(n)))return RC("Unsupported field value:",e,n),NT(n,e);if(n instanceof TT)return function(t,r){if(!AT(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const a=[];let c=0;for(const d of t){let m=_f(d,r.da(c));null==m&&(m={nullValue:"NULL_VALUE"}),a.push(m),c++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,ve.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uw(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=kr.fromDate(t);return{timestampValue:Kc(r.serializer,a)}}if(t instanceof kr){const a=new kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Kc(r.serializer,a)}}if(t instanceof AC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vf)return{bytesValue:cv(r.serializer,t._byteString)};if(t instanceof Ti){const a=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw r._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:lv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${fE(t)}`)}(n,e)}function NT(n,e){const t={};return Ly(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yu(n,(r,a)=>{const c=_f(a,e.aa(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function OT(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof kr||n instanceof AC||n instanceof vf||n instanceof Ti||n instanceof TT)}function RC(n,e,t){if(!OT(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=fE(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Kv(n,e,t){if((e=(0,ve.m9)(e))instanceof Ug)return e._internalPath;if("string"==typeof e)return gE(n,e);throw mE("Field path arguments must be of type string or ",n,!1,void 0,t)}const JS=new RegExp("[~\\*/\\[\\]]");function gE(n,e,t){if(e.search(JS)>=0)throw mE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ug(...e.split("."))._internalPath}catch{throw mE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mE(n,e,t,r,a){const c=r&&!r.isEmpty(),d=void 0!==a;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let C="";return(c||d)&&(C+=" (found",c&&(C+=` in field ${r}`),d&&(C+=` in document ${a}`),C+=")"),new Ge(Ce.INVALID_ARGUMENT,m+n+C)}function kT(n,e){return n.some(t=>t.isEqual(e))}class PC{constructor(e,t,r,a,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ti(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new XS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class XS extends PC{data(){return super.data()}}function yE(n,e){return"string"==typeof e?gE(n,e):e instanceof Ug?e._internalPath:e._delegate._internalPath}function FT(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ge(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tA{convertValue(e,t="none"){switch(ec(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Do(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return yu(e,(a,c)=>{r[a]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new AC(Qr(e.latitude),Qr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Zp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mh(e));default:return null}}convertTimestamp(e){const t=vu(e);return new kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Mn.fromString(e);kt(Sw(r));const a=new Xu(r.get(1),r.get(3)),c=new dt(r.popFirst(5));return a.isEqual(t)||si(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class wf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jg extends PC{constructor(e,t,r,a,c,d){super(e,t,r,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new EE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(yE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class EE extends jg{data(e={}){return super.data(e)}}class Gg{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new wf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new EE(this._firestore,this._userDataWriter,r.key,r,new wf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ge(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new EE(r._firestore,r._userDataWriter,d.doc.key,d.doc,new wf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>a||3!==d.type).map(d=>{const m=new EE(r._firestore,r._userDataWriter,d.doc.key,d.doc,new wf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let C=-1,R=-1;return 0!==d.type&&(C=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),1!==d.type&&(c=c.add(d.doc),R=c.indexOf(d.doc.key)),{type:rA(d.type),doc:m,oldIndex:C,newIndex:R}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}class md extends tA{constructor(e){super(),this.firestore=e}convertBytes(e){return new vf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,t)}}function iA(n){n=Un(n,Ps);const e=Un(n.firestore,Wr),t=Bi(e),r=new md(e);return FT(n._query),function mT(n,e,t={}){const r=new rr;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(a,c,d,m,C){const R=new cE({next:H=>{c.enqueueAndForget(()=>GD(a,k)),H.fromCache&&"server"===m.source?C.reject(new Ge(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(H)},error:H=>C.reject(H)}),k=new WD(d,R,{includeMetadataChanges:!0,Uu:!0});return $D(a,k)}(yield Vg(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(a=>new Gg(e,r,n,a))}function sA(n,e){const t=Un(n.firestore,Wr),r=function $S(n,e,...t){if(n=(0,ve.m9)(n),1===arguments.length&&(e=Ty.A()),TC("doc","path",e),n instanceof zv){const r=Mn.fromString(e,...t);return vT(r),new Ti(n,null,new dt(r))}{if(!(n instanceof Ti||n instanceof fc))throw new Ge(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mn.fromString(e,...t));return vT(r),new Ti(n.firestore,n instanceof fc?n.converter:null,new dt(r))}}(n),a=function OC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return function Zv(n,e){return function(t,r){const a=new rr;return t.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function cS(n,e,t){return QD.apply(this,arguments)}(yield function CC(n){return dE(n).then(e=>e.syncEngine)}(t),r,a)})),a.promise}(Bi(n),e)}(t,[MC(Bg(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,Sr.exists(!1))]).then(()=>r)}!function(n,e=!0){Bc=Ve.Jn,(0,Ve.Xd)(new te.wA("firestore",(t,{instanceIdentifier:r,options:a})=>{const c=t.getProvider("app").getImmediate(),d=new Wr(new PI(t.getProvider("auth-internal")),new by(t.getProvider("app-check-internal")),function(m,C){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ge(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(m.options.projectId,C)}(c,r),c);return a=Object.assign({useFetchStreams:e},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),(0,Ve.KN)(T0,"3.11.0",n),(0,Ve.KN)(T0,"3.11.0","esm2017")}();var vA=G(9751),HT=G(4004),_A={includeMetadataChanges:!1};function FC(n,e){return void 0===e&&(e=_A),new vA.y(function(t){var r=function oA(n,...e){var t,r,a;n=(0,ve.m9)(n);let c={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||SC(e[d])||(c=e[d],d++);const m={includeMetadataChanges:c.includeMetadataChanges};if(SC(e[d])){const H=e[d];e[d]=null===(t=H.next)||void 0===t?void 0:t.bind(H),e[d+1]=null===(r=H.error)||void 0===r?void 0:r.bind(H),e[d+2]=null===(a=H.complete)||void 0===a?void 0:a.bind(H)}let C,R,k;if(n instanceof Ti)R=Un(n.firestore,Wr),k=oc(n._key.path),C={next:H=>{e[d]&&e[d](function kC(n,e,t){const r=t.docs.get(e._key),a=new md(n);return new jg(n,a,e._key,r,new wf(t.hasPendingWrites,t.fromCache),e.converter)}(R,n,H))},error:e[d+1],complete:e[d+2]};else{const H=Un(n,Ps);R=Un(H.firestore,Wr),k=H._query;const de=new md(R);C={next:Ae=>{e[d]&&e[d](new Gg(R,de,H,Ae))},error:e[d+1],complete:e[d+2]},FT(n._query)}return function(H,de,Ae,Je){const st=new cE(Je),Pt=new WD(de,st,Ae);return H.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return $D(yield Vg(H),Pt)})),()=>{st.Sc(),H.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return GD(yield Vg(H),Pt)}))}}(Bi(R),k,m,C)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function TA(n,e){return void 0===e&&(e={}),function bA(n){return FC(n,{includeMetadataChanges:!0}).pipe((0,HT.U)(function(e){return e.docs}))}(n).pipe((0,HT.U)(function(t){return t.map(function(r){return function zT(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class DE{constructor(e){return e}}const YT="firestore",UC=new W.OlP("angularfire2.firestore-instances");function MA(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new DE(r)}}const xA={provide:class SA{constructor(){return(0,_.vb)(YT)}},deps:[[new W.FiY,UC]]},RA={provide:DE,useFactory:function AA(n,e){const t=(0,_.JM)(YT,n,e);return t&&new DE(t)},deps:[[new W.FiY,UC],ue.Ot]};let PA=(()=>{class n{constructor(){(0,L.KN)("angularfire",_.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W.oAB({type:n}),n.\u0275inj=W.cJS({providers:[RA,xA]}),n})();function NA(n,...e){return{ngModule:PA,providers:[{provide:UC,useFactory:MA(n),multi:!0,deps:[W.R0b,W.zs3,_.HU,ue.z6,[new W.FiY,n_],[new W.FiY,up],...e]}]}}const OA=(0,_.u3)(TA,!0),kA=(0,_.u3)(sA,!0),FA=(0,_.u3)(BS,!0),LA=(0,_.u3)(iA,!0),VA=(0,_.u3)(HS,!0)},3530:(Ht,qe,G)=>{G.d(qe,{q4:()=>Vf,HU:()=>Ho,vb:()=>Md,JM:()=>Ad,u3:()=>Wf});var _=G(8256),W=G(259),ue=G(5861),L=G(6881),K=G(2090),ve=G(4859),Ve=G(1877);const ot=(v,I)=>I.some(P=>v instanceof P);let ke,te;const tt=new WeakMap,Ee=new WeakMap,Xe=new WeakMap,_t=new WeakMap,Ut=new WeakMap;let rt={get(v,I,P){if(v instanceof IDBTransaction){if("done"===I)return Ee.get(v);if("objectStoreNames"===I)return v.objectStoreNames||Xe.get(v);if("store"===I)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return ft(v[I])},set:(v,I,P)=>(v[I]=P,!0),has:(v,I)=>v instanceof IDBTransaction&&("done"===I||"store"===I)||I in v};function We(v){return"function"==typeof v?function He(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...I){return v.apply(re(this),I),ft(tt.get(this))}:function(...I){return ft(v.apply(re(this),I))}:function(I,...P){const j=v.call(re(this),I,...P);return Xe.set(j,I.sort?I.sort():[I]),ft(j)}}(v):(v instanceof IDBTransaction&&function an(v){if(Ee.has(v))return;const I=new Promise((P,j)=>{const X=()=>{v.removeEventListener("complete",ae),v.removeEventListener("error",we),v.removeEventListener("abort",we)},ae=()=>{P(),X()},we=()=>{j(v.error||new DOMException("AbortError","AbortError")),X()};v.addEventListener("complete",ae),v.addEventListener("error",we),v.addEventListener("abort",we)});Ee.set(v,I)}(v),ot(v,function ee(){return ke||(ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,rt):v)}function ft(v){if(v instanceof IDBRequest)return function Nt(v){const I=new Promise((P,j)=>{const X=()=>{v.removeEventListener("success",ae),v.removeEventListener("error",we)},ae=()=>{P(ft(v.result)),X()},we=()=>{j(v.error),X()};v.addEventListener("success",ae),v.addEventListener("error",we)});return I.then(P=>{P instanceof IDBCursor&&tt.set(P,v)}).catch(()=>{}),Ut.set(I,v),I}(v);if(_t.has(v))return _t.get(v);const I=We(v);return I!==v&&(_t.set(v,I),Ut.set(I,v)),I}const re=v=>Ut.get(v),Ke=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],Te=new Map;function at(v,I){if(!(v instanceof IDBDatabase)||I in v||"string"!=typeof I)return;if(Te.get(I))return Te.get(I);const P=I.replace(/FromIndex$/,""),j=I!==P,X=lt.includes(P);if(!(P in(j?IDBIndex:IDBObjectStore).prototype)||!X&&!Ke.includes(P))return;const ae=function(){var we=(0,ue.Z)(function*(it,...nt){const Rt=this.transaction(it,X?"readwrite":"readonly");let tn=Rt.store;return j&&(tn=tn.index(nt.shift())),(yield Promise.all([tn[P](...nt),X&&Rt.done]))[0]});return function(nt){return we.apply(this,arguments)}}();return Te.set(I,ae),ae}!function ze(v){rt=v(rt)}(v=>({...v,get:(I,P,j)=>at(I,P)||v.get(I,P,j),has:(I,P)=>!!at(I,P)||v.has(I,P)}));const ge="@firebase/installations",ce="0.6.4",Re=1e4,Le=`w:${ce}`,et="FIS_v2",je="https://firebaseinstallations.googleapis.com/v1",mt=36e5,zt=new K.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Dt(v){return v instanceof K.ZR&&v.code.includes("request-failed")}function gt({projectId:v}){return`${je}/projects/${v}/installations`}function xn(v){return{token:v.token,requestStatus:2,expiresIn:Fr(v.expiresIn),creationTime:Date.now()}}function vn(v,I){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,ue.Z)(function*(v,I){const j=(yield I.json()).error;return zt.create("request-failed",{requestName:v,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function $n({apiKey:v}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v})}function Si(v){return On.apply(this,arguments)}function On(){return(On=(0,ue.Z)(function*(v){const I=yield v();return I.status>=500&&I.status<600?v():I})).apply(this,arguments)}function Fr(v){return Number(v.replace("s","000"))}function pr(){return(pr=(0,ue.Z)(function*({appConfig:v,heartbeatServiceProvider:I},{fid:P}){const j=gt(v),X=$n(v),ae=I.getImmediate({optional:!0});if(ae){const Rt=yield ae.getHeartbeatsHeader();Rt&&X.append("x-firebase-client",Rt)}const it={method:"POST",headers:X,body:JSON.stringify({fid:P,authVersion:et,appId:v.appId,sdkVersion:Le})},nt=yield Si(()=>fetch(j,it));if(nt.ok){const Rt=yield nt.json();return{fid:Rt.fid||P,registrationStatus:2,refreshToken:Rt.refreshToken,authToken:xn(Rt.authToken)}}throw yield vn("Create Installation",nt)})).apply(this,arguments)}function bn(v){return new Promise(I=>{setTimeout(I,v)})}const Ai=/^[cdef][\w-]{21}$/,wr="";function mr(){try{const v=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(v),v[0]=112+v[0]%16;const P=function Lr(v){return function gr(v){return btoa(String.fromCharCode(...v)).replace(/\+/g,"-").replace(/\//g,"_")}(v).substr(0,22)}(v);return Ai.test(P)?P:wr}catch{return wr}}function rn(v){return`${v.appName}!${v.appId}`}const Fe=new Map;function Mt(v,I){const P=rn(v);qn(P,I),function Mi(v,I){const P=function qr(){return!nn&&"BroadcastChannel"in self&&(nn=new BroadcastChannel("[Firebase] FID Change"),nn.onmessage=v=>{qn(v.data.key,v.data.fid)}),nn}();P&&P.postMessage({key:v,fid:I}),function Tn(){0===Fe.size&&nn&&(nn.close(),nn=null)}()}(P,I)}function qn(v,I){const P=Fe.get(v);if(P)for(const j of P)j(I)}let nn=null;const ps="firebase-installations-database",hn=1,Vr="firebase-installations-store";let Ur=null;function gi(){return Ur||(Ur=function Ue(v,I,{blocked:P,upgrade:j,blocking:X,terminated:ae}={}){const we=indexedDB.open(v,I),it=ft(we);return j&&we.addEventListener("upgradeneeded",nt=>{j(ft(we.result),nt.oldVersion,nt.newVersion,ft(we.transaction))}),P&&we.addEventListener("blocked",()=>P()),it.then(nt=>{ae&&nt.addEventListener("close",()=>ae()),X&&nt.addEventListener("versionchange",()=>X())}).catch(()=>{}),it}(ps,hn,{upgrade:(v,I)=>{0===I&&v.createObjectStore(Vr)}})),Ur}function Yn(v,I){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,ue.Z)(function*(v,I){const P=rn(v),X=(yield gi()).transaction(Vr,"readwrite"),ae=X.objectStore(Vr),we=yield ae.get(P);return yield ae.put(I,P),yield X.done,(!we||we.fid!==I.fid)&&Mt(v,I.fid),I})).apply(this,arguments)}function Er(v){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,ue.Z)(function*(v){const I=rn(v),j=(yield gi()).transaction(Vr,"readwrite");yield j.objectStore(Vr).delete(I),yield j.done})).apply(this,arguments)}function fn(v,I){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,ue.Z)(function*(v,I){const P=rn(v),X=(yield gi()).transaction(Vr,"readwrite"),ae=X.objectStore(Vr),we=yield ae.get(P),it=I(we);return void 0===it?yield ae.delete(P):yield ae.put(it,P),yield X.done,it&&(!we||we.fid!==it.fid)&&Mt(v,it.fid),it})).apply(this,arguments)}function Y(v){return Q.apply(this,arguments)}function Q(){return Q=(0,ue.Z)(function*(v){let I;const P=yield fn(v.appConfig,j=>{const X=function se(v){return le(v||{fid:mr(),registrationStatus:0})}(j),ae=function Me(v,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(zt.create("app-offline"))};const P={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},j=function he(v,I){return pt.apply(this,arguments)}(v,P);return{installationEntry:P,registrationPromise:j}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:ie(v)}:{installationEntry:I}}(v,X);return I=ae.registrationPromise,ae.installationEntry});return P.fid===wr?{installationEntry:yield I}:{installationEntry:P,registrationPromise:I}}),Q.apply(this,arguments)}function pt(){return pt=(0,ue.Z)(function*(v,I){try{const P=yield function wt(v,I){return pr.apply(this,arguments)}(v,I);return Yn(v.appConfig,P)}catch(P){throw Dt(P)&&409===P.customData.serverCode?yield Er(v.appConfig):yield Yn(v.appConfig,{fid:I.fid,registrationStatus:0}),P}}),pt.apply(this,arguments)}function ie(v){return J.apply(this,arguments)}function J(){return(J=(0,ue.Z)(function*(v){let I=yield q(v.appConfig);for(;1===I.registrationStatus;)yield bn(100),I=yield q(v.appConfig);if(0===I.registrationStatus){const{installationEntry:P,registrationPromise:j}=yield Y(v);return j||P}return I})).apply(this,arguments)}function q(v){return fn(v,I=>{if(!I)throw zt.create("installation-not-found");return le(I)})}function le(v){return function be(v){return 1===v.registrationStatus&&v.registrationTime+Re<Date.now()}(v)?{fid:v.fid,registrationStatus:0}:v}function St(){return(St=(0,ue.Z)(function*({appConfig:v,heartbeatServiceProvider:I},P){const j=function Tt(v,{fid:I}){return`${gt(v)}/${I}/authTokens:generate`}(v,P),X=function Ar(v,{refreshToken:I}){const P=$n(v);return P.append("Authorization",function $i(v){return`${et} ${v}`}(I)),P}(v,P),ae=I.getImmediate({optional:!0});if(ae){const Rt=yield ae.getHeartbeatsHeader();Rt&&X.append("x-firebase-client",Rt)}const it={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:Le,appId:v.appId}})},nt=yield Si(()=>fetch(j,it));if(nt.ok)return xn(yield nt.json());throw yield vn("Generate Auth Token",nt)})).apply(this,arguments)}function Pn(v){return yr.apply(this,arguments)}function yr(){return yr=(0,ue.Z)(function*(v,I=!1){let P;const j=yield fn(v.appConfig,ae=>{if(!Kt(ae))throw zt.create("not-registered");const we=ae.authToken;if(!I&&function pn(v){return 2===v.requestStatus&&!function Qn(v){const I=Date.now();return I<v.creationTime||v.creationTime+v.expiresIn<I+mt}(v)}(we))return ae;if(1===we.requestStatus)return P=function De(v,I){return pe.apply(this,arguments)}(v,I),ae;{if(!navigator.onLine)throw zt.create("app-offline");const it=function In(v){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},v),{authToken:I})}(ae);return P=function Et(v,I){return $t.apply(this,arguments)}(v,it),it}});return P?yield P:j.authToken}),yr.apply(this,arguments)}function pe(){return(pe=(0,ue.Z)(function*(v,I){let P=yield $e(v.appConfig);for(;1===P.authToken.requestStatus;)yield bn(100),P=yield $e(v.appConfig);const j=P.authToken;return 0===j.requestStatus?Pn(v,I):j})).apply(this,arguments)}function $e(v){return fn(v,I=>{if(!Kt(I))throw zt.create("not-registered");return function Br(v){return 1===v.requestStatus&&v.requestTime+Re<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function $t(){return $t=(0,ue.Z)(function*(v,I){try{const P=yield function Be(v,I){return St.apply(this,arguments)}(v,I),j=Object.assign(Object.assign({},I),{authToken:P});return yield Yn(v.appConfig,j),P}catch(P){if(!Dt(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const j=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Yn(v.appConfig,j)}else yield Er(v.appConfig);throw P}}),$t.apply(this,arguments)}function Kt(v){return void 0!==v&&2===v.registrationStatus}function Js(){return(Js=(0,ue.Z)(function*(v){const I=v,{installationEntry:P,registrationPromise:j}=yield Y(I);return j?j.catch(console.error):Pn(I).catch(console.error),P.fid})).apply(this,arguments)}function eo(){return eo=(0,ue.Z)(function*(v,I=!1){const P=v;return yield function dn(v){return Hn.apply(this,arguments)}(P),(yield Pn(P,I)).token}),eo.apply(this,arguments)}function Hn(){return(Hn=(0,ue.Z)(function*(v){const{registrationPromise:I}=yield Y(v);I&&(yield I)})).apply(this,arguments)}function Yt(v){return zt.create("missing-app-config-values",{valueName:v})}const kn="installations",ei=v=>{const I=v.getProvider("app").getImmediate(),P=function yt(v){if(!v||!v.options)throw Yt("App Configuration");if(!v.name)throw Yt("App Name");const I=["projectId","apiKey","appId"];for(const P of I)if(!v.options[P])throw Yt(P);return{appName:v.name,projectId:v.options.projectId,apiKey:v.options.apiKey,appId:v.options.appId}}(I);return{app:I,appConfig:P,heartbeatServiceProvider:(0,L.qX)(I,"heartbeat"),_delete:()=>Promise.resolve()}},tr=v=>{const I=v.getProvider("app").getImmediate(),P=(0,L.qX)(I,kn).getImmediate();return{getId:()=>function gs(v){return Js.apply(this,arguments)}(P),getToken:X=>function Xs(v){return eo.apply(this,arguments)}(P,X)}};(function is(){(0,L.Xd)(new ve.wA(kn,ei,"PUBLIC")),(0,L.Xd)(new ve.wA("installations-internal",tr,"PRIVATE"))})(),(0,L.KN)(ge,ce),(0,L.KN)(ge,ce,"esm2017");const Fn="@firebase/remote-config",jn=new K.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class oi{constructor(I,P,j,X){this.client=I,this.storage=P,this.storageCache=j,this.logger=X}isCachedDataFresh(I,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-P,X=j<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${X}.`),X}fetch(I){var P=this;return(0,ue.Z)(function*(){const[j,X]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(X&&P.isCachedDataFresh(I.cacheMaxAgeMillis,j))return X;I.eTag=X&&X.eTag;const ae=yield P.client.fetch(I),we=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&we.push(P.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(we),ae})()}}function ss(v=navigator){return v.languages&&v.languages[0]||v.language}class Wi{constructor(I,P,j,X,ae,we){this.firebaseInstallations=I,this.sdkVersion=P,this.namespace=j,this.projectId=X,this.apiKey=ae,this.appId=we}fetch(I){var P=this;return(0,ue.Z)(function*(){const[j,X]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),we=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,it={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},nt={sdk_version:P.sdkVersion,app_instance_id:j,app_instance_id_token:X,app_id:P.appId,language_code:ss()},Rt={method:"POST",headers:it,body:JSON.stringify(nt)},tn=fetch(we,Rt),Qt=new Promise((zo,Ws)=>{I.signal.addEventListener(()=>{const Tc=new Error("The operation was aborted.");Tc.name="AbortError",Ws(Tc)})});let _o;try{yield Promise.race([tn,Qt]),_o=yield tn}catch(zo){let Ws="fetch-client-network";throw"AbortError"===zo?.name&&(Ws="fetch-timeout"),jn.create(Ws,{originalErrorMessage:zo?.message})}let ci=_o.status;const Pd=_o.headers.get("ETag")||void 0;let bc,gl;if(200===_o.status){let zo;try{zo=yield _o.json()}catch(Ws){throw jn.create("fetch-client-parse",{originalErrorMessage:Ws?.message})}bc=zo.entries,gl=zo.state}if("INSTANCE_STATE_UNSPECIFIED"===gl?ci=500:"NO_CHANGE"===gl?ci=304:("NO_TEMPLATE"===gl||"EMPTY_CONFIG"===gl)&&(bc={}),304!==ci&&200!==ci)throw jn.create("fetch-status",{httpStatus:ci});return{status:ci,eTag:Pd,config:bc}})()}}class vs{constructor(I,P){this.client=I,this.storage=P}fetch(I){var P=this;return(0,ue.Z)(function*(){const j=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(I,j)})()}attemptFetch(I,{throttleEndTimeMillis:P,backoffCount:j}){var X=this;return(0,ue.Z)(function*(){yield function Ir(v,I){return new Promise((P,j)=>{const X=Math.max(I-Date.now(),0),ae=setTimeout(P,X);v.addEventListener(()=>{clearTimeout(ae),j(jn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,P);try{const ae=yield X.client.fetch(I);return yield X.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function mi(v){if(!(v instanceof K.ZR&&v.customData))return!1;const I=Number(v.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ae))throw ae;const we={throttleEndTimeMillis:Date.now()+(0,K.$s)(j),backoffCount:j+1};return yield X.storage.setThrottleMetadata(we),X.attemptFetch(I,we)}})()}}class gc{constructor(I,P,j,X,ae){this.app=I,this._client=P,this._storageCache=j,this._storage=X,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ri(v,I){const P=v.target.error||void 0;return jn.create(I,{originalErrorMessage:P&&P?.message})}const ws="app_namespace_store";class ra{constructor(I,P,j,X=function os(){return new Promise((v,I)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=j=>{I(Ri(j,"storage-open"))},P.onsuccess=j=>{v(j.target.result)},P.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(ws,{keyPath:"compositeKey"})}}catch(P){I(jn.create("storage-open",{originalErrorMessage:P?.message}))}})}()){this.appId=I,this.appName=P,this.namespace=j,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var P=this;return(0,ue.Z)(function*(){const j=yield P.openDbPromise;return new Promise((X,ae)=>{const it=j.transaction([ws],"readonly").objectStore(ws),nt=P.createCompositeKey(I);try{const Rt=it.get(nt);Rt.onerror=tn=>{ae(Ri(tn,"storage-get"))},Rt.onsuccess=tn=>{const Qt=tn.target.result;X(Qt?Qt.value:void 0)}}catch(Rt){ae(jn.create("storage-get",{originalErrorMessage:Rt?.message}))}})})()}set(I,P){var j=this;return(0,ue.Z)(function*(){const X=yield j.openDbPromise;return new Promise((ae,we)=>{const nt=X.transaction([ws],"readwrite").objectStore(ws),Rt=j.createCompositeKey(I);try{const tn=nt.put({compositeKey:Rt,value:P});tn.onerror=Qt=>{we(Ri(Qt,"storage-set"))},tn.onsuccess=()=>{ae()}}catch(tn){we(jn.create("storage-set",{originalErrorMessage:tn?.message}))}})})()}delete(I){var P=this;return(0,ue.Z)(function*(){const j=yield P.openDbPromise;return new Promise((X,ae)=>{const it=j.transaction([ws],"readwrite").objectStore(ws),nt=P.createCompositeKey(I);try{const Rt=it.delete(nt);Rt.onerror=tn=>{ae(Ri(tn,"storage-delete"))},Rt.onsuccess=()=>{X()}}catch(Rt){ae(jn.create("storage-delete",{originalErrorMessage:Rt?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Cu{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,ue.Z)(function*(){const P=I.storage.getLastFetchStatus(),j=I.storage.getLastSuccessfulFetchTimestampMillis(),X=I.storage.getActiveConfig(),ae=yield P;ae&&(I.lastFetchStatus=ae);const we=yield j;we&&(I.lastSuccessfulFetchTimestampMillis=we);const it=yield X;it&&(I.activeConfig=it)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function yi(){return uo.apply(this,arguments)}function uo(){return(uo=(0,ue.Z)(function*(){if(!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch{return!1}})).apply(this,arguments)}!function ao(){(0,L.Xd)(new ve.wA("remote-config",function v(I,{instanceIdentifier:P}){const j=I.getProvider("app").getImmediate(),X=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw jn.create("registration-window");if(!(0,K.hl)())throw jn.create("indexed-db-unavailable");const{projectId:ae,apiKey:we,appId:it}=j.options;if(!ae)throw jn.create("registration-project-id");if(!we)throw jn.create("registration-api-key");if(!it)throw jn.create("registration-app-id");const nt=new ra(it,j.name,P=P||"firebase"),Rt=new Cu(nt),tn=new Ve.Yd(Fn);tn.logLevel=Ve.in.ERROR;const Qt=new Wi(X,L.Jn,P,ae,we,it),_o=new vs(Qt,nt),ci=new oi(_o,nt,Rt,tn),Pd=new gc(j,ci,Rt,nt,tn);return function bo(v){const I=(0,K.m9)(v);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Pd),Pd},"PUBLIC").setMultipleInstances(!0)),(0,L.KN)(Fn,"0.4.4"),(0,L.KN)(Fn,"0.4.4","esm2017")}();const Fs=(v,I)=>I.some(P=>v instanceof P);let Ao,Es;const Ls=new WeakMap,as=new WeakMap,us=new WeakMap,co=new WeakMap,vi=new WeakMap;let Is={get(v,I,P){if(v instanceof IDBTransaction){if("done"===I)return as.get(v);if("objectStoreNames"===I)return v.objectStoreNames||us.get(v);if("store"===I)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return Pi(v[I])},set:(v,I,P)=>(v[I]=P,!0),has:(v,I)=>v instanceof IDBTransaction&&("done"===I||"store"===I)||I in v};function Yr(v){return"function"==typeof v?function ia(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qi(){return Es||(Es=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...I){return v.apply(Mo(this),I),Pi(Ls.get(this))}:function(...I){return Pi(v.apply(Mo(this),I))}:function(I,...P){const j=v.call(Mo(this),I,...P);return us.set(j,I.sort?I.sort():[I]),Pi(j)}}(v):(v instanceof IDBTransaction&&function xr(v){if(as.has(v))return;const I=new Promise((P,j)=>{const X=()=>{v.removeEventListener("complete",ae),v.removeEventListener("error",we),v.removeEventListener("abort",we)},ae=()=>{P(),X()},we=()=>{j(v.error||new DOMException("AbortError","AbortError")),X()};v.addEventListener("complete",ae),v.addEventListener("error",we),v.addEventListener("abort",we)});as.set(v,I)}(v),Fs(v,function yc(){return Ao||(Ao=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,Is):v)}function Pi(v){if(v instanceof IDBRequest)return function lo(v){const I=new Promise((P,j)=>{const X=()=>{v.removeEventListener("success",ae),v.removeEventListener("error",we)},ae=()=>{P(Pi(v.result)),X()},we=()=>{j(v.error),X()};v.addEventListener("success",ae),v.addEventListener("error",we)});return I.then(P=>{P instanceof IDBCursor&&Ls.set(P,v)}).catch(()=>{}),vi.set(I,v),I}(v);if(co.has(v))return co.get(v);const I=Yr(v);return I!==v&&(co.set(v,I),vi.set(I,v)),I}const Mo=v=>vi.get(v);function ar(v,I,{blocked:P,upgrade:j,blocking:X,terminated:ae}={}){const we=indexedDB.open(v,I),it=Pi(we);return j&&we.addEventListener("upgradeneeded",nt=>{j(Pi(we.result),nt.oldVersion,nt.newVersion,Pi(we.transaction))}),P&&we.addEventListener("blocked",()=>P()),it.then(nt=>{ae&&nt.addEventListener("close",()=>ae()),X&&nt.addEventListener("versionchange",()=>X())}).catch(()=>{}),it}function xo(v,{blocked:I}={}){const P=indexedDB.deleteDatabase(v);return I&&P.addEventListener("blocked",()=>I()),Pi(P).then(()=>{})}const ho=["get","getKey","getAll","getAllKeys","count"],ni=["put","add","delete","clear"],cs=new Map;function Rr(v,I){if(!(v instanceof IDBDatabase)||I in v||"string"!=typeof I)return;if(cs.get(I))return cs.get(I);const P=I.replace(/FromIndex$/,""),j=I!==P,X=ni.includes(P);if(!(P in(j?IDBIndex:IDBObjectStore).prototype)||!X&&!ho.includes(P))return;const ae=function(){var we=(0,ue.Z)(function*(it,...nt){const Rt=this.transaction(it,X?"readwrite":"readonly");let tn=Rt.store;return j&&(tn=tn.index(nt.shift())),(yield Promise.all([tn[P](...nt),X&&Rt.done]))[0]});return function(nt){return we.apply(this,arguments)}}();return cs.set(I,ae),ae}!function Vs(v){Is=v(Is)}(v=>({...v,get:(I,P,j)=>Rr(I,P)||v.get(I,P,j),has:(I,P)=>!!Rr(I,P)||v.has(I,P)}));const Ds="/firebase-messaging-sw.js",cr="/firebase-cloud-messaging-push-scope",Qa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fo="https://fcmregistrations.googleapis.com/v1",Ro="google.c.a.c_id",ai="google.c.a.c_l",Ja="google.c.a.ts",Po="google.c.a.e";var x=(()=>{return(v=x||(x={})).PUSH_RECEIVED="push-received",v.NOTIFICATION_CLICKED="notification-clicked",x;var v})();function A(v){const I=new Uint8Array(v);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function S(v){const P=(v+"=".repeat((4-v.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(P),X=new Uint8Array(j.length);for(let ae=0;ae<j.length;++ae)X[ae]=j.charCodeAt(ae);return X}const $="fcm_token_details_db",Ie=5,At="fcm_token_object_Store";function Dr(){return Dr=(0,ue.Z)(function*(v){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes($))return null;let I=null;return(yield ar($,Ie,{upgrade:(j=(0,ue.Z)(function*(X,ae,we,it){var nt;if(ae<2||!X.objectStoreNames.contains(At))return;const Rt=it.objectStore(At),tn=yield Rt.index("fcmSenderId").get(v);if(yield Rt.clear(),tn)if(2===ae){const Qt=tn;if(!Qt.auth||!Qt.p256dh||!Qt.endpoint)return;I={token:Qt.fcmToken,createTime:null!==(nt=Qt.createTime)&&void 0!==nt?nt:Date.now(),subscriptionOptions:{auth:Qt.auth,p256dh:Qt.p256dh,endpoint:Qt.endpoint,swScope:Qt.swScope,vapidKey:"string"==typeof Qt.vapidKey?Qt.vapidKey:A(Qt.vapidKey)}}}else if(3===ae){const Qt=tn;I={token:Qt.fcmToken,createTime:Qt.createTime,subscriptionOptions:{auth:A(Qt.auth),p256dh:A(Qt.p256dh),endpoint:Qt.endpoint,swScope:Qt.swScope,vapidKey:A(Qt.vapidKey)}}}else if(4===ae){const Qt=tn;I={token:Qt.fcmToken,createTime:Qt.createTime,subscriptionOptions:{auth:A(Qt.auth),p256dh:A(Qt.p256dh),endpoint:Qt.endpoint,swScope:Qt.swScope,vapidKey:A(Qt.vapidKey)}}}}),function(ae,we,it,nt){return j.apply(this,arguments)})})).close(),yield xo($),yield xo("fcm_vapid_details_db"),yield xo("undefined"),function Oe(v){if(!v||!v.subscriptionOptions)return!1;const{subscriptionOptions:I}=v;return"number"==typeof v.createTime&&v.createTime>0&&"string"==typeof v.token&&v.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var j}),Dr.apply(this,arguments)}const un="firebase-messaging-database",Us=1,Ki="firebase-messaging-store";let nr=null;function sa(){return nr||(nr=ar(un,Us,{upgrade:(v,I)=>{0===I&&v.createObjectStore(Ki)}})),nr}function _i(v){return lr.apply(this,arguments)}function lr(){return lr=(0,ue.Z)(function*(v){const I=oa(v),j=yield(yield sa()).transaction(Ki).objectStore(Ki).get(I);if(j)return j;{const X=yield function Ln(v){return Dr.apply(this,arguments)}(v.appConfig.senderId);if(X)return yield No(v,X),X}}),lr.apply(this,arguments)}function No(v,I){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,ue.Z)(function*(v,I){const P=oa(v),X=(yield sa()).transaction(Ki,"readwrite");return yield X.objectStore(Ki).put(I,P),yield X.done,I})).apply(this,arguments)}function bu(){return(bu=(0,ue.Z)(function*(v){const I=oa(v),j=(yield sa()).transaction(Ki,"readwrite");yield j.objectStore(Ki).delete(I),yield j.done})).apply(this,arguments)}function oa({appConfig:v}){return v.appId}const Kn=new K.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function aa(v,I){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,ue.Z)(function*(v,I){const P=yield Cs(v),j=Sa(I),X={method:"POST",headers:P,body:JSON.stringify(j)};let ae;try{ae=yield(yield fetch(eu(v.appConfig),X)).json()}catch(we){throw Kn.create("token-subscribe-failed",{errorInfo:we?.toString()})}if(ae.error)throw Kn.create("token-subscribe-failed",{errorInfo:ae.error.message});if(!ae.token)throw Kn.create("token-subscribe-no-token");return ae.token})).apply(this,arguments)}function ba(){return(ba=(0,ue.Z)(function*(v,I){const P=yield Cs(v),j=Sa(I.subscriptionOptions),X={method:"PATCH",headers:P,body:JSON.stringify(j)};let ae;try{ae=yield(yield fetch(`${eu(v.appConfig)}/${I.token}`,X)).json()}catch(we){throw Kn.create("token-update-failed",{errorInfo:we?.toString()})}if(ae.error)throw Kn.create("token-update-failed",{errorInfo:ae.error.message});if(!ae.token)throw Kn.create("token-update-no-token");return ae.token})).apply(this,arguments)}function Ta(v,I){return ua.apply(this,arguments)}function ua(){return(ua=(0,ue.Z)(function*(v,I){const j={method:"DELETE",headers:yield Cs(v)};try{const ae=yield(yield fetch(`${eu(v.appConfig)}/${I}`,j)).json();if(ae.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:ae.error.message})}catch(X){throw Kn.create("token-unsubscribe-failed",{errorInfo:X?.toString()})}})).apply(this,arguments)}function eu({projectId:v}){return`${fo}/projects/${v}/registrations`}function Cs(v){return tu.apply(this,arguments)}function tu(){return(tu=(0,ue.Z)(function*({appConfig:v,installations:I}){const P=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Sa({p256dh:v,auth:I,endpoint:P,vapidKey:j}){const X={web:{endpoint:P,auth:I,p256dh:v}};return j!==Qa&&(X.web.applicationPubKey=j),X}const vc=6048e5;function ko(){return ko=(0,ue.Z)(function*(v){const I=yield function ru(v,I){return Su.apply(this,arguments)}(v.swRegistration,v.vapidKey),P={vapidKey:v.vapidKey,swScope:v.swRegistration.scope,endpoint:I.endpoint,auth:A(I.getKey("auth")),p256dh:A(I.getKey("p256dh"))},j=yield _i(v.firebaseDependencies);if(j){if(function Zr(v,I){return I.vapidKey===v.vapidKey&&I.endpoint===v.endpoint&&I.auth===v.auth&&I.p256dh===v.p256dh}(j.subscriptionOptions,P))return Date.now()>=j.createTime+vc?function Fo(v,I){return ca.apply(this,arguments)}(v,{token:j.token,createTime:Date.now(),subscriptionOptions:P}):j.token;try{yield Ta(v.firebaseDependencies,j.token)}catch(X){console.warn(X)}return Tu(v.firebaseDependencies,P)}return Tu(v.firebaseDependencies,P)}),ko.apply(this,arguments)}function Aa(){return Aa=(0,ue.Z)(function*(v){const I=yield _i(v.firebaseDependencies);I&&(yield Ta(v.firebaseDependencies,I.token),yield function Ca(v){return bu.apply(this,arguments)}(v.firebaseDependencies));const P=yield v.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()}),Aa.apply(this,arguments)}function ca(){return ca=(0,ue.Z)(function*(v,I){try{const P=yield function Bs(v,I){return ba.apply(this,arguments)}(v.firebaseDependencies,I),j=Object.assign(Object.assign({},I),{token:P,createTime:Date.now()});return yield No(v.firebaseDependencies,j),P}catch(P){throw yield function po(v){return Aa.apply(this,arguments)}(v),P}}),ca.apply(this,arguments)}function Tu(v,I){return bs.apply(this,arguments)}function bs(){return(bs=(0,ue.Z)(function*(v,I){const j={token:yield aa(v,I),createTime:Date.now(),subscriptionOptions:I};return yield No(v,j),j.token})).apply(this,arguments)}function Su(){return(Su=(0,ue.Z)(function*(v,I){return(yield v.pushManager.getSubscription())||v.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:S(I)})})).apply(this,arguments)}function Lo(v){const I={from:v.from,collapseKey:v.collapse_key,messageId:v.fcmMessageId};return function ur(v,I){if(!I.notification)return;v.notification={};const P=I.notification.title;P&&(v.notification.title=P);const j=I.notification.body;j&&(v.notification.body=j);const X=I.notification.image;X&&(v.notification.image=X);const ae=I.notification.icon;ae&&(v.notification.icon=ae)}(I,v),function rl(v,I){I.data&&(v.data=I.data)}(I,v),function D(v,I){var P,j,X,ae,we;if(!(I.fcmOptions||null!==(P=I.notification)&&void 0!==P&&P.click_action))return;v.fcmOptions={};const it=null!==(X=null===(j=I.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==X?X:null===(ae=I.notification)||void 0===ae?void 0:ae.click_action;it&&(v.fcmOptions.link=it);const nt=null===(we=I.fcmOptions)||void 0===we?void 0:we.analytics_label;nt&&(v.fcmOptions.analyticsLabel=nt)}(I,v),I}function T(v,I){const P=[];for(let j=0;j<v.length;j++)P.push(v.charAt(j)),j<I.length&&P.push(I.charAt(j));return P.join("")}function Z(v){return Kn.create("missing-app-config-values",{valueName:v})}T("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),T("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _e{constructor(I,P,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function U(v){if(!v||!v.options)throw Z("App Configuration Object");if(!v.name)throw Z("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:P}=v;for(const j of I)if(!P[j])throw Z(j);return{appName:v.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:X,installations:P,analyticsProvider:j}}_delete(){return Promise.resolve()}}function Pe(v){return bt.apply(this,arguments)}function bt(){return(bt=(0,ue.Z)(function*(v){try{v.swRegistration=yield navigator.serviceWorker.register(Ds,{scope:cr}),v.swRegistration.update().catch(()=>{})}catch(I){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function An(){return(An=(0,ue.Z)(function*(v,I){if(!I&&!v.swRegistration&&(yield Pe(v)),I||!v.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");v.swRegistration=I}})).apply(this,arguments)}function Zt(){return(Zt=(0,ue.Z)(function*(v,I){I?v.vapidKey=I:v.vapidKey||(v.vapidKey=Qa)})).apply(this,arguments)}function yn(){return yn=(0,ue.Z)(function*(v,I){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield function Cn(v,I){return Zt.apply(this,arguments)}(v,I?.vapidKey),yield function Sn(v,I){return An.apply(this,arguments)}(v,I?.serviceWorkerRegistration),function nu(v){return ko.apply(this,arguments)}(v)}),yn.apply(this,arguments)}function Yi(){return(Yi=(0,ue.Z)(function*(v,I,P){const j=function $s(v){switch(v){case x.NOTIFICATION_CLICKED:return"notification_open";case x.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield v.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:P[Ro],message_name:P[ai],message_time:P[Ja],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ni(){return Ni=(0,ue.Z)(function*(v,I){const P=I.data;if(!P.isFirebaseMessaging)return;v.onMessageHandler&&P.messageType===x.PUSH_RECEIVED&&("function"==typeof v.onMessageHandler?v.onMessageHandler(Lo(P)):v.onMessageHandler.next(Lo(P)));const j=P.data;(function O(v){return"object"==typeof v&&!!v&&Ro in v})(j)&&"1"===j[Po]&&(yield function vr(v,I,P){return Yi.apply(this,arguments)}(v,P.messageType,j))}),Ni.apply(this,arguments)}const go="@firebase/messaging",Zi=v=>{const I=new _e(v.getProvider("app").getImmediate(),v.getProvider("installations-internal").getImmediate(),v.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function Vo(v,I){return Ni.apply(this,arguments)}(I,P)),I},Ma=v=>{const I=v.getProvider("messaging").getImmediate();return{getToken:j=>function Vn(v,I){return yn.apply(this,arguments)}(I,j)}};function ls(){return iu.apply(this,arguments)}function iu(){return(iu=(0,ue.Z)(function*(){try{yield(0,K.eu)()}catch{return!1}return typeof window<"u"&&(0,K.hl)()&&(0,K.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function il(){(0,L.Xd)(new ve.wA("messaging",Zi,"PUBLIC")),(0,L.Xd)(new ve.wA("messaging-internal",Ma,"PRIVATE")),(0,L.KN)(go,"0.12.4"),(0,L.KN)(go,"0.12.4","esm2017")}();const Au="analytics",Ec="firebase_id",yo="origin",dr=6e4,Mu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pa="https://www.googletagmanager.com/gtag/js",Pr=new Ve.Yd("@firebase/analytics"),ui=new K.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Df(v){if(!v.startsWith(Pa)){const I=ui.create("invalid-gtag-resource",{gtagURL:v});return Pr.warn(I.message),""}return v}function xu(v){return Promise.all(v.map(I=>I.catch(P=>P)))}function Uo(){return(Uo=(0,ue.Z)(function*(v,I,P,j,X,ae){const we=j[X];try{if(we)yield I[we];else{const nt=(yield xu(P)).find(Rt=>Rt.measurementId===X);nt&&(yield I[nt.appId])}}catch(it){Pr.error(it)}v("config",X,ae)})).apply(this,arguments)}function sl(){return(sl=(0,ue.Z)(function*(v,I,P,j,X){try{let ae=[];if(X&&X.send_to){let we=X.send_to;Array.isArray(we)||(we=[we]);const it=yield xu(P);for(const nt of we){const Rt=it.find(Qt=>Qt.measurementId===nt),tn=Rt&&I[Rt.appId];if(!tn){ae=[];break}ae.push(tn)}}0===ae.length&&(ae=Object.values(I)),yield Promise.all(ae),v("event",j,X||{})}catch(ae){Pr.error(ae)}})).apply(this,arguments)}const Nu=30,Oa=new class ol{constructor(I={},P=1e3){this.throttleMetadata=I,this.intervalMillis=P}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,P){this.throttleMetadata[I]=P}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function bf(v){return new Headers({Accept:"application/json","x-goog-api-key":v})}function Ei(){return(Ei=(0,ue.Z)(function*(v){var I;const{appId:P,apiKey:j}=v,X={method:"GET",headers:bf(j)},ae=Mu.replace("{app-id}",P),we=yield fetch(ae,X);if(200!==we.status&&304!==we.status){let it="";try{const nt=yield we.json();null!==(I=nt.error)&&void 0!==I&&I.message&&(it=nt.error.message)}catch{}throw ui.create("config-fetch-failed",{httpStatus:we.status,responseMessage:it})}return we.json()})).apply(this,arguments)}function jo(){return(jo=(0,ue.Z)(function*(v,I=Oa,P){const{appId:j,apiKey:X,measurementId:ae}=v.options;if(!j)throw ui.create("no-app-id");if(!X){if(ae)return{measurementId:ae,appId:j};throw ui.create("no-api-key")}const we=I.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},it=new Ic;return setTimeout((0,ue.Z)(function*(){it.abort()}),void 0!==P?P:dr),al({appId:j,apiKey:X,measurementId:ae},we,it,I)})).apply(this,arguments)}function al(v,I,P){return ku.apply(this,arguments)}function ku(){return ku=(0,ue.Z)(function*(v,{throttleEndTimeMillis:I,backoffCount:P},j,X=Oa){var ae;const{appId:we,measurementId:it}=v;try{yield function js(v,I){return new Promise((P,j)=>{const X=Math.max(I-Date.now(),0),ae=setTimeout(P,X);v.addEventListener(()=>{clearTimeout(ae),j(ui.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(j,I)}catch(nt){if(it)return Pr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${it} provided in the "measurementId" field in the local Firebase config. [${nt?.message}]`),{appId:we,measurementId:it};throw nt}try{const nt=yield function Ou(v){return Ei.apply(this,arguments)}(v);return X.deleteThrottleMetadata(we),nt}catch(nt){const Rt=nt;if(!function vd(v){if(!(v instanceof K.ZR&&v.customData))return!1;const I=Number(v.customData.httpStatus);return 429===I||500===I||503===I||504===I}(Rt)){if(X.deleteThrottleMetadata(we),it)return Pr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${it} provided in the "measurementId" field in the local Firebase config. [${Rt?.message}]`),{appId:we,measurementId:it};throw nt}const tn=503===Number(null===(ae=Rt?.customData)||void 0===ae?void 0:ae.httpStatus)?(0,K.$s)(P,X.intervalMillis,Nu):(0,K.$s)(P,X.intervalMillis),Qt={throttleEndTimeMillis:Date.now()+tn,backoffCount:P+1};return X.setThrottleMetadata(we,Qt),Pr.debug(`Calling attemptFetch again in ${tn} millis`),al(v,Qt,j,X)}}),ku.apply(this,arguments)}class Ic{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Gn,vo;function cl(){return(cl=(0,ue.Z)(function*(v,I,P,j,X){if(X&&X.global)v("event",P,j);else{const ae=yield I;v("event",P,Object.assign(Object.assign({},j),{send_to:ae}))}})).apply(this,arguments)}function Fa(){return(Fa=(0,ue.Z)(function*(){if(!(0,K.hl)())return Pr.warn(ui.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,K.eu)()}catch(v){return Pr.warn(ui.create("indexeddb-unavailable",{errorInfo:v?.toString()}).message),!1}return!0})).apply(this,arguments)}function Gs(){return Gs=(0,ue.Z)(function*(v,I,P,j,X,ae,we){var it;const nt=function $o(v){return jo.apply(this,arguments)}(v);nt.then(ci=>{P[ci.measurementId]=ci.appId,v.options.measurementId&&ci.measurementId!==v.options.measurementId&&Pr.warn(`The measurement ID in the local Firebase config (${v.options.measurementId}) does not match the measurement ID fetched from the server (${ci.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ci=>Pr.error(ci)),I.push(nt);const Rt=function ka(){return Fa.apply(this,arguments)}().then(ci=>{if(ci)return j.getId()}),[tn,Qt]=yield Promise.all([nt,Rt]);(function la(v){const I=window.document.getElementsByTagName("script");for(const P of Object.values(I))if(P.src&&P.src.includes(Pa)&&P.src.includes(v))return P;return null})(ae)||function au(v,I){const P=function Oi(v,I){let P;return window.trustedTypes&&(P=window.trustedTypes.createPolicy(v,I)),P}("firebase-js-sdk-policy",{createScriptURL:Df}),j=document.createElement("script"),X=`${Pa}?l=${v}&id=${I}`;j.src=P?P?.createScriptURL(X):X,j.async=!0,document.head.appendChild(j)}(ae,tn.measurementId),vo&&(X("consent","default",vo),function Ed(v){vo=v}(void 0)),X("js",new Date);const _o=null!==(it=we?.config)&&void 0!==it?it:{};return _o[yo]="firebase",_o.update=!0,null!=Qt&&(_o[Ec]=Qt),X("config",tn.measurementId,_o),Gn&&(X("set",Gn),function Ii(v){Gn=v}(void 0)),tn.measurementId}),Gs.apply(this,arguments)}class Sf{constructor(I){this.app=I}_delete(){return delete Hs[this.app.options.appId],Promise.resolve()}}let Hs={},g=[];const y={};let M,F,f="dataLayer",E="gtag",B=!1;function ct(v,I,P){!function xe(){const v=[];if((0,K.ru)()&&v.push("This is a browser extension environment."),(0,K.zI)()||v.push("Cookies are not available."),v.length>0){const I=v.map((j,X)=>`(${X+1}) ${j}`).join(" "),P=ui.create("invalid-analytics-context",{errorInfo:I});Pr.warn(P.message)}}();const j=v.options.appId;if(!j)throw ui.create("no-app-id");if(!v.options.apiKey){if(!v.options.measurementId)throw ui.create("no-api-key");Pr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${v.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hs[j])throw ui.create("already-exists",{id:j});if(!B){!function Na(v){let I=[];Array.isArray(window[v])?I=window[v]:window[v]=I}(f);const{wrappedGtag:ae,gtagCore:we}=function Pu(v,I,P,j,X){let ae=function(...we){window[j].push(arguments)};return window[X]&&"function"==typeof window[X]&&(ae=window[X]),window[X]=function Cf(v,I,P,j){function ae(){return ae=(0,ue.Z)(function*(we,...it){try{if("event"===we){const[nt,Rt]=it;yield function Bo(v,I,P,j,X){return sl.apply(this,arguments)}(v,I,P,nt,Rt)}else if("config"===we){const[nt,Rt]=it;yield function Ru(v,I,P,j,X,ae){return Uo.apply(this,arguments)}(v,I,P,j,nt,Rt)}else if("consent"===we){const[nt]=it;v("consent","update",nt)}else if("get"===we){const[nt,Rt,tn]=it;v("get",nt,Rt,tn)}else if("set"===we){const[nt]=it;v("set",nt)}else v(we,...it)}catch(nt){Pr.error(nt)}}),ae.apply(this,arguments)}return function X(we){return ae.apply(this,arguments)}}(ae,v,I,P),{gtagCore:ae,wrappedGtag:window[X]}}(Hs,g,y,f,E);F=ae,M=we,B=!0}return Hs[j]=function La(v,I,P,j,X,ae,we){return Gs.apply(this,arguments)}(v,g,y,I,M,f,P),new Sf(v)}function Nr(){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,ue.Z)(function*(){if((0,K.ru)()||!(0,K.zI)()||!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch{return!1}})).apply(this,arguments)}const Mf="@firebase/analytics";!function Rf(){(0,L.Xd)(new ve.wA(Au,(I,{options:P})=>ct(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,L.Xd)(new ve.wA("analytics-internal",function v(I){try{const P=I.getProvider(Au).getImmediate();return{logEvent:(j,X,ae)=>function uu(v,I,P,j){v=(0,K.m9)(v),function ul(v,I,P,j,X){return cl.apply(this,arguments)}(F,Hs[v.app.options.appId],I,P,j).catch(X=>Pr.error(X))}(P,j,X,ae)}}catch(P){throw ui.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,L.KN)(Mf,"0.10.0"),(0,L.KN)(Mf,"0.10.0","esm2017")}();var cu=G(727);class dl extends cu.w0{constructor(I,P){super()}schedule(I,P=0){return this}}const hl={setInterval(v,I,...P){const{delegate:j}=hl;return j?.setInterval?j.setInterval(v,I,...P):setInterval(v,I,...P)},clearInterval(v){const{delegate:I}=hl;return(I?.clearInterval||clearInterval)(v)},delegate:void 0};var Pf=G(8737);class Nf extends dl{constructor(I,P){super(I,P),this.scheduler=I,this.work=P,this.pending=!1}schedule(I,P=0){var j;if(this.closed)return this;this.state=I;const X=this.id,ae=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(ae,X,P)),this.pending=!0,this.delay=P,this.id=null!==(j=this.id)&&void 0!==j?j:this.requestAsyncId(ae,this.id,P),this}requestAsyncId(I,P,j=0){return hl.setInterval(I.flush.bind(I,this),j)}recycleAsyncId(I,P,j=0){if(null!=j&&this.delay===j&&!1===this.pending)return P;null!=P&&hl.clearInterval(P)}execute(I,P){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const j=this._execute(I,P);if(j)return j;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(I,P){let X,j=!1;try{this.work(I)}catch(ae){j=!0,X=ae||new Error("Scheduled action threw falsy error")}if(j)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:I,scheduler:P}=this,{actions:j}=P;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Pf.P)(j,this),null!=I&&(this.id=this.recycleAsyncId(P,I,null)),this.delay=null,super.unsubscribe()}}}const Dd={now:()=>(Dd.delegate||Date).now(),delegate:void 0};class fl{constructor(I,P=fl.now){this.schedulerActionCtor=I,this.now=P}schedule(I,P=0,j){return new this.schedulerActionCtor(this,I).schedule(j,P)}}fl.now=Dd.now;class Of extends fl{constructor(I,P=fl.now){super(I,P),this.actions=[],this._active=!1}flush(I){const{actions:P}=this;if(this._active)return void P.push(I);let j;this._active=!0;do{if(j=I.execute(I.state,I.delay))break}while(I=P.shift());if(this._active=!1,j){for(;I=P.shift();)I.unsubscribe();throw j}}}const bd=new class Cd extends Of{}(class zg extends Nf{constructor(I,P){super(I,P),this.scheduler=I,this.work=P}schedule(I,P=0){return P>0?super.schedule(I,P):(this.delay=P,this.state=I,this.scheduler.flush(this),this)}execute(I,P){return P>0||this.closed?super.execute(I,P):this._execute(I,P)}requestAsyncId(I,P,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(I,P,j):(I.flush(this),0)}}),kf=new Of(Nf);var Ff=G(9751),pl=G(8505),Wg=G(9468),Lf=G(5363);const Vf=new _.GfV("7.5.0"),Vu="__angularfire_symbol__analyticsIsSupportedValue",Uf="__angularfire_symbol__analyticsIsSupported",Bf="__angularfire_symbol__remoteConfigIsSupportedValue",lu="__angularfire_symbol__remoteConfigIsSupported",$f="__angularfire_symbol__messagingIsSupportedValue",jf="__angularfire_symbol__messagingIsSupported";function Ad(v,I,P){if(I){if(1===I.length)return I[0];const ae=I.filter(we=>we.app===P);if(1===ae.length)return ae[0]}return P.container.getProvider(v).getImmediate({optional:!0})}globalThis[Uf]||(globalThis[Uf]=Nr().then(v=>globalThis[Vu]=v).catch(()=>globalThis[Vu]=!1)),globalThis[jf]||(globalThis[jf]=ls().then(v=>globalThis[$f]=v).catch(()=>globalThis[$f]=!1)),globalThis[lu]||(globalThis[lu]=yi().then(v=>globalThis[Bf]=v).catch(()=>globalThis[Bf]=!1));const Md=(v,I)=>{const P=I?[I]:(0,W.C6)(),j=[];return P.forEach(X=>{X.container.getProvider(v).instances.forEach(we=>{j.includes(we)||j.push(we)})}),j};function Go(){}class xd{constructor(I,P=bd){this.zone=I,this.delegate=P}now(){return this.delegate.now()}schedule(I,P,j){const X=this.zone;return this.delegate.schedule(function(we){X.runGuarded(()=>{I.apply(this,[we])})},P,j)}}class Hf{constructor(I){this.zone=I,this.task=null}call(I,P){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Go,{},Go,Go)),P.pipe((0,pl.b)({next:j,complete:j,error:j})).subscribe(I).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ho=(()=>{class v{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new xd(Zone.current)),this.insideAngular=P.run(()=>new xd(Zone.current,kf)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return v.\u0275fac=function(P){return new(P||v)(_.LFG(_.R0b))},v.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function du(){const v=globalThis.\u0275AngularFireScheduler;if(!v)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return v}function hu(v){return du().ngZone.run(()=>v())}function Rd(v){return du(),function Zg(v){return function(P){return(P=P.lift(new Hf(v.ngZone))).pipe((0,Wg.R)(v.outsideAngular),(0,Lf.Q)(v.insideAngular))}}(du())(v)}const Qg=(v,I)=>function(){const j=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),hu(()=>v.apply(void 0,j))},Wf=(v,I)=>function(){let P;const j=arguments;for(let ae=0;ae<arguments.length;ae++)"function"==typeof j[ae]&&(I&&(P||(P=hu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Go,{},Go,Go)))),j[ae]=Qg(j[ae],P));const X=function Kg(v){return du().ngZone.runOutsideAngular(()=>v())}(()=>v.apply(this,j));if(!I){if(X instanceof Ff.y){const ae=du();return X.pipe((0,Wg.R)(ae.outsideAngular),(0,Lf.Q)(ae.insideAngular))}return hu(()=>X)}return X instanceof Ff.y?X.pipe(Rd):X instanceof Promise?hu(()=>new Promise((ae,we)=>X.then(it=>hu(()=>ae(it)),it=>hu(()=>we(it))))):"function"==typeof X&&P?function(){return setTimeout(()=>{P&&"scheduled"===P.state&&P.invoke()},10),X.apply(this,arguments)}:hu(()=>X)}},2090:(Ht,qe,G)=>{G.d(qe,{$s:()=>Er,BH:()=>We,L:()=>ke,LL:()=>Ot,P0:()=>rt,Pz:()=>He,Sg:()=>ft,US:()=>ve,ZR:()=>_n,aH:()=>ze,b$:()=>Te,eu:()=>je,hl:()=>et,m9:()=>Kr,ne:()=>rn,ru:()=>lt,tV:()=>te,uI:()=>Ue,vZ:()=>pr,xO:()=>Ai,z$:()=>re,zI:()=>mt});const L=function(Y){const Q=[];let se=0;for(let Me=0;Me<Y.length;Me++){let he=Y.charCodeAt(Me);he<128?Q[se++]=he:he<2048?(Q[se++]=he>>6|192,Q[se++]=63&he|128):55296==(64512&he)&&Me+1<Y.length&&56320==(64512&Y.charCodeAt(Me+1))?(he=65536+((1023&he)<<10)+(1023&Y.charCodeAt(++Me)),Q[se++]=he>>18|240,Q[se++]=he>>12&63|128,Q[se++]=he>>6&63|128,Q[se++]=63&he|128):(Q[se++]=he>>12|224,Q[se++]=he>>6&63|128,Q[se++]=63&he|128)}return Q},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,Q){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Me=[];for(let he=0;he<Y.length;he+=3){const pt=Y[he],ie=he+1<Y.length,J=ie?Y[he+1]:0,q=he+2<Y.length,le=q?Y[he+2]:0;let St=(15&J)<<2|le>>6,Tt=63&le;q||(Tt=64,ie||(St=64)),Me.push(se[pt>>2],se[(3&pt)<<4|J>>4],se[St],se[Tt])}return Me.join("")},encodeString(Y,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(Y):this.encodeByteArray(L(Y),Q)},decodeString(Y,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(Y):function(Y){const Q=[];let se=0,Me=0;for(;se<Y.length;){const he=Y[se++];if(he<128)Q[Me++]=String.fromCharCode(he);else if(he>191&&he<224){const pt=Y[se++];Q[Me++]=String.fromCharCode((31&he)<<6|63&pt)}else if(he>239&&he<365){const q=((7&he)<<18|(63&Y[se++])<<12|(63&Y[se++])<<6|63&Y[se++])-65536;Q[Me++]=String.fromCharCode(55296+(q>>10)),Q[Me++]=String.fromCharCode(56320+(1023&q))}else{const pt=Y[se++],ie=Y[se++];Q[Me++]=String.fromCharCode((15&he)<<12|(63&pt)<<6|63&ie)}}return Q.join("")}(this.decodeStringToByteArray(Y,Q))},decodeStringToByteArray(Y,Q){this.init_();const se=Q?this.charToByteMapWebSafe_:this.charToByteMap_,Me=[];for(let he=0;he<Y.length;){const pt=se[Y.charAt(he++)],J=he<Y.length?se[Y.charAt(he)]:0;++he;const le=he<Y.length?se[Y.charAt(he)]:64;++he;const Be=he<Y.length?se[Y.charAt(he)]:64;if(++he,null==pt||null==J||null==le||null==Be)throw new Ve;Me.push(pt<<2|J>>4),64!==le&&(Me.push(J<<4&240|le>>2),64!==Be&&Me.push(le<<6&192|Be))}return Me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class Ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ke=function(Y){return function(Y){const Q=L(Y);return ve.encodeByteArray(Q,!0)}(Y).replace(/\./g,"")},te=function(Y){try{return ve.decodeString(Y,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null},Nt=()=>{try{return function Ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Q=Y&&te(Y[1]);return Q&&JSON.parse(Q)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},rt=Y=>{const Q=(Y=>{var Q,se;return null===(se=null===(Q=Nt())||void 0===Q?void 0:Q.emulatorHosts)||void 0===se?void 0:se[Y]})(Y);if(!Q)return;const se=Q.lastIndexOf(":");if(se<=0||se+1===Q.length)throw new Error(`Invalid host ${Q} with no separate hostname and port!`);const Me=parseInt(Q.substring(se+1),10);return"["===Q[0]?[Q.substring(1,se-1),Me]:[Q.substring(0,se),Me]},ze=()=>{var Y;return null===(Y=Nt())||void 0===Y?void 0:Y.config},He=Y=>{var Q;return null===(Q=Nt())||void 0===Q?void 0:Q[`_${Y}`]};class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,se)=>{this.resolve=Q,this.reject=se})}wrapCallback(Q){return(se,Me)=>{se?this.reject(se):this.resolve(Me),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(se):Q(se,Me))}}}function ft(Y,Q){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Me=Q||"demo-project",he=Y.iat||0,pt=Y.sub||Y.user_id;if(!pt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ie=Object.assign({iss:`https://securetoken.google.com/${Me}`,aud:Me,iat:he,exp:he+3600,auth_time:he,sub:pt,user_id:pt,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(ie)),""].join(".")}function re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(re())}function lt(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((Y,Q)=>{try{let se=!0;const Me="validate-browser-context-for-indexeddb-analytics-module",he=self.indexedDB.open(Me);he.onsuccess=()=>{he.result.close(),se||self.indexedDB.deleteDatabase(Me),Y(!0)},he.onupgradeneeded=()=>{se=!1},he.onerror=()=>{var pt;Q((null===(pt=he.error)||void 0===pt?void 0:pt.message)||"")}}catch(se){Q(se)}})}function mt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _n extends Error{constructor(Q,se,Me){super(se),this.code=Q,this.customData=Me,this.name="FirebaseError",Object.setPrototypeOf(this,_n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ot.prototype.create)}}class Ot{constructor(Q,se,Me){this.service=Q,this.serviceName=se,this.errors=Me}create(Q,...se){const Me=se[0]||{},he=`${this.service}/${Q}`,pt=this.errors[Q],ie=pt?function zt(Y,Q){return Y.replace(Dt,(se,Me)=>{const he=Q[Me];return null!=he?String(he):`<${Me}?>`})}(pt,Me):"Error";return new _n(he,`${this.serviceName}: ${ie} (${he}).`,Me)}}const Dt=/\{\$([^}]+)}/g;function pr(Y,Q){if(Y===Q)return!0;const se=Object.keys(Y),Me=Object.keys(Q);for(const he of se){if(!Me.includes(he))return!1;const pt=Y[he],ie=Q[he];if(bn(pt)&&bn(ie)){if(!pr(pt,ie))return!1}else if(pt!==ie)return!1}for(const he of Me)if(!se.includes(he))return!1;return!0}function bn(Y){return null!==Y&&"object"==typeof Y}function Ai(Y){const Q=[];for(const[se,Me]of Object.entries(Y))Array.isArray(Me)?Me.forEach(he=>{Q.push(encodeURIComponent(se)+"="+encodeURIComponent(he))}):Q.push(encodeURIComponent(se)+"="+encodeURIComponent(Me));return Q.length?"&"+Q.join("&"):""}function rn(Y,Q){const se=new Fe(Y,Q);return se.subscribe.bind(se)}class Fe{constructor(Q,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{Q(this)}).catch(Me=>{this.error(Me)})}next(Q){this.forEachObserver(se=>{se.next(Q)})}error(Q){this.forEachObserver(se=>{se.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,se,Me){let he;if(void 0===Q&&void 0===se&&void 0===Me)throw new Error("Missing Observer.");he=function Rn(Y,Q){if("object"!=typeof Y||null===Y)return!1;for(const se of Q)if(se in Y&&"function"==typeof Y[se])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:se,complete:Me},void 0===he.next&&(he.next=Xt),void 0===he.error&&(he.error=Xt),void 0===he.complete&&(he.complete=Xt);const pt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?he.error(this.finalError):he.complete()}catch{}}),this.observers.push(he),pt}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,Q)}sendOne(Q,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{se(this.observers[Q])}catch(Me){typeof console<"u"&&console.error&&console.error(Me)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xt(){}const Ur=1e3,gi=2,Yn=144e5,Lt=.5;function Er(Y,Q=Ur,se=gi){const Me=Q*Math.pow(se,Y),he=Math.round(Lt*Me*(Math.random()-.5)*2);return Math.min(Yn,Me+he)}function Kr(Y){return Y&&Y._delegate?Y._delegate:Y}},730:(Ht,qe,G)=>{G.d(qe,{n:()=>_});var _=(()=>{return(W=_||(_={}))[W.terror=0]="terror",W[W.comedia=1]="comedia",W[W.amor=2]="amor",W[W.otros=3]="otros",_;var W})()},9454:(Ht,qe,G)=>{var _=G(1481),W=G(6557),ue=G(730),L=G(8256),K=G(6895);function ve(re,Ue){if(1&re){const ye=L.EpF();L.TgZ(0,"div",7)(1,"div",8)(2,"img",9),L.NdJ("click",function(){const Te=L.CHM(ye).$implicit,at=L.oxw();return L.KtG(at.selecionar(Te))}),L.qZA()()()}if(2&re){const ye=Ue.$implicit;L.xp6(2),L.s9C("src",ye.fotoPelicula,L.LSH)}}let Ve=(()=>{class re{constructor(){this.peliculaSelecionada=new L.vpe}selecionar(ye){this.peliculaSelecionada.emit(ye)}}return re.\u0275fac=function(ye){return new(ye||re)},re.\u0275cmp=L.Xpm({type:re,selectors:[["app-tabla-pelicula"]],inputs:{listaPeliculasRecibida:"listaPeliculasRecibida"},outputs:{peliculaSelecionada:"peliculaSelecionada"},decls:9,vars:1,consts:[["role","main"],[1,"jumbotron","text-center"],[1,"container"],[1,"jumbotron-heading"],[1,"album","py-5","bg-body-tertiary"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","row-cols-xl-5","g-3"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","shadow-sm"],["alt","Card image cap",1,"card-img-top",3,"src","click"]],template:function(ye,Ke){1&ye&&(L.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),L._uU(4,"Lista de Peliculas"),L.qZA()()(),L.TgZ(5,"div",4)(6,"div",2)(7,"div",5),L.YNc(8,ve,3,1,"div",6),L.qZA()()()()),2&ye&&(L.xp6(8),L.Q6J("ngForOf",Ke.listaPeliculasRecibida))},dependencies:[K.sg],styles:["[_ngcontent-%COMP%]:root{--jumbotron-padding-y: 3rem}.jumbotron[_ngcontent-%COMP%]{padding-top:var(--jumbotron-padding-y);padding-bottom:var(--jumbotron-padding-y);margin-bottom:0}@media (min-width: 768px){.jumbotron[_ngcontent-%COMP%]{padding-top:calc(var(--jumbotron-padding-y) * 2);padding-bottom:calc(var(--jumbotron-padding-y) * 2)}}.jumbotron[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.jumbotron-heading[_ngcontent-%COMP%]{font-weight:300}.jumbotron[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:40rem}footer[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:3rem}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.25rem}.box-shadow[_ngcontent-%COMP%]{box-shadow:0 .25rem .75rem #0000000d}img[_ngcontent-%COMP%]{width:100%;height:300px}img[_ngcontent-%COMP%]:hover{filter:opacity(.7);cursor:pointer;-webkit-filter:opacity(.7)}"]}),re})(),ot=(()=>{class re{}return re.\u0275fac=function(ye){return new(ye||re)},re.\u0275cmp=L.Xpm({type:re,selectors:[["app-detalle-pelicula"]],inputs:{peliculaRecibida:"peliculaRecibida"},decls:12,vars:5,consts:[[1,"col"],[1,"card","shadow-sm"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"]],template:function(ye,Ke){1&ye&&(L.TgZ(0,"div",0)(1,"div",1),L._UZ(2,"img",2),L.TgZ(3,"div",3)(4,"h1"),L._uU(5),L.qZA(),L.TgZ(6,"h4"),L._uU(7),L.qZA(),L.TgZ(8,"h4"),L._uU(9),L.qZA(),L.TgZ(10,"h4"),L._uU(11),L.qZA()()()()),2&ye&&(L.xp6(2),L.s9C("src",Ke.peliculaRecibida.fotoPelicula,L.LSH),L.xp6(3),L.Oqu(Ke.peliculaRecibida.nombre),L.xp6(2),L.hij("Estreno: ",Ke.peliculaRecibida.fechaEstreno,""),L.xp6(2),L.hij("G\xe9nero: ",Ke.peliculaRecibida.tipo,""),L.xp6(2),L.hij("Publico: ",Ke.peliculaRecibida.cantidadPublico,""))},styles:["img[_ngcontent-%COMP%]{width:100%;height:400px}h4[_ngcontent-%COMP%]{margin-top:30px}"]}),re})();var ke=G(433);function te(re,Ue){if(1&re&&(L.TgZ(0,"option",11),L._uU(1),L.qZA()),2&re){const ye=Ue.$implicit;L.Q6J("value",ye),L.xp6(1),L.hij(" ",ye," ")}}let ee=(()=>{class re{constructor(){this.peliculaModificada=new L.vpe,this.generosPelicula=["terror","comedia","amor","otros"],this.pelicula={id:0,nombre:"",tipo:ue.n.amor,fechaEstreno:new Date,cantidadPublico:0,fotoPelicula:""}}ngOnChanges(){this.pelicula.id=this.peliculaRecibida.id,this.pelicula.nombre=this.peliculaRecibida.nombre,this.pelicula.tipo=this.peliculaRecibida.tipo,this.pelicula.fechaEstreno=this.peliculaRecibida.fechaEstreno,this.pelicula.cantidadPublico=this.peliculaRecibida.cantidadPublico,this.pelicula.fotoPelicula=this.peliculaRecibida.fotoPelicula}modificar(){this.peliculaModificada.emit(this.pelicula)}}return re.\u0275fac=function(ye){return new(ye||re)},re.\u0275cmp=L.Xpm({type:re,selectors:[["app-modificar-pelicula"]],inputs:{peliculaRecibida:"peliculaRecibida"},outputs:{peliculaModificada:"peliculaModificada"},features:[L.TTD],decls:28,vars:8,consts:[[1,"col"],[1,"card","shadow-sm"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"text-start"],["for",""],["type","text",3,"ngModel","ngModelChange"],["type","date",3,"ngModel","ngModelChange"],["name","miselect",3,"ngModel","value","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-dark",3,"click"],[3,"value"]],template:function(ye,Ke){1&ye&&(L.TgZ(0,"div",0)(1,"div",1),L._UZ(2,"img",2),L.TgZ(3,"div",3)(4,"div",4)(5,"div")(6,"label",5),L._uU(7,"Imagen:"),L.qZA(),L.TgZ(8,"input",6),L.NdJ("ngModelChange",function(Te){return Ke.pelicula.fotoPelicula=Te}),L.qZA()(),L.TgZ(9,"div")(10,"label",5),L._uU(11,"T\xedtulo:"),L.qZA(),L.TgZ(12,"input",6),L.NdJ("ngModelChange",function(Te){return Ke.pelicula.nombre=Te}),L.qZA()(),L.TgZ(13,"div")(14,"label",5),L._uU(15,"Fecha de estreno:"),L.qZA(),L.TgZ(16,"input",7),L.NdJ("ngModelChange",function(Te){return Ke.pelicula.fechaEstreno=Te}),L.qZA()(),L.TgZ(17,"div")(18,"label",5),L._uU(19,"G\xe9nero:"),L.qZA(),L.TgZ(20,"select",8),L.NdJ("ngModelChange",function(Te){return Ke.pelicula.tipo=Te}),L.YNc(21,te,2,2,"option",9),L.qZA()(),L.TgZ(22,"div")(23,"label",5),L._uU(24,"Cantidad de publico:"),L.qZA(),L.TgZ(25,"input",6),L.NdJ("ngModelChange",function(Te){return Ke.pelicula.cantidadPublico=Te}),L.qZA()()(),L.TgZ(26,"button",10),L.NdJ("click",function(){return Ke.modificar()}),L._uU(27," Modificar "),L.qZA()()()()),2&ye&&(L.xp6(2),L.s9C("src",Ke.pelicula.fotoPelicula,L.LSH),L.xp6(6),L.Q6J("ngModel",Ke.pelicula.fotoPelicula),L.xp6(4),L.Q6J("ngModel",Ke.pelicula.nombre),L.xp6(4),L.Q6J("ngModel",Ke.pelicula.fechaEstreno),L.xp6(4),L.Q6J("ngModel",Ke.pelicula.tipo)("value",Ke.pelicula.tipo),L.xp6(1),L.Q6J("ngForOf",Ke.generosPelicula),L.xp6(4),L.Q6J("ngModel",Ke.pelicula.cantidadPublico))},dependencies:[K.sg,ke.YN,ke.Kr,ke.Fj,ke.EJ,ke.JJ,ke.On],styles:["img[_ngcontent-%COMP%]{width:100%;height:400px}input[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:20px;width:100%}select[_ngcontent-%COMP%]{width:100%}"]}),re})();function Se(re,Ue){if(1&re&&L._UZ(0,"app-detalle-pelicula",9),2&re){const ye=L.oxw();L.Q6J("peliculaRecibida",ye.peliculaSelecionada)}}function tt(re,Ue){if(1&re){const ye=L.EpF();L.TgZ(0,"app-modificar-pelicula",10),L.NdJ("peliculaModificada",function(lt){L.CHM(ye);const Te=L.oxw();return L.KtG(Te.modificarPelicula(lt))}),L.qZA()}if(2&re){const ye=L.oxw();L.Q6J("peliculaRecibida",ye.peliculaSelecionada)}}let Ee=(()=>{class re{constructor(){this.flag=!1,this.flag2=!1,this.listaPeliculas=[{id:1,nombre:"Avengers",tipo:ue.n[1],cantidadPublico:220,fechaEstreno:"2023-02-01",fotoPelicula:"https://http2.mlstatic.com/D_NQ_NP_820569-MLA53102326806_122022-W.jpg"},{id:2,nombre:"Thor",tipo:ue.n[2],cantidadPublico:200,fechaEstreno:"2023-02-01",fotoPelicula:"https://i.pinimg.com/originals/b0/1b/1e/b01b1e1e5bb3f76fd5cea88f324c98b7.jpg"},{id:3,nombre:"Planeta de los simios",tipo:ue.n[3],cantidadPublico:320,fechaEstreno:"2023-02-01",fotoPelicula:"https://i.pinimg.com/originals/7d/bb/37/7dbb37d4051b4d5a94bb1c8d373259f0.jpg"},{id:4,nombre:"Transformers",tipo:ue.n[0],cantidadPublico:120,fechaEstreno:"2023-02-01",fotoPelicula:"https://i.pinimg.com/originals/42/1b/af/421baf7a3e31c891d7feb0b662b37e15.jpg"},{id:5,nombre:"Black panther",tipo:ue.n[1],cantidadPublico:230,fechaEstreno:"2023-02-01",fotoPelicula:"https://i.pinimg.com/originals/2a/46/79/2a4679f11df2984d147fdb967a83b0e6.jpg"}]}peliculaEleguida(ye){this.peliculaSelecionada=ye,this.flag2=!0,this.flag=!0}modificarPelicula(ye){this.peliculaSelecionada.id=ye.id,this.peliculaSelecionada.nombre=ye.nombre,this.peliculaSelecionada.tipo=ye.tipo,this.peliculaSelecionada.fechaEstreno=ye.fechaEstreno,this.peliculaSelecionada.cantidadPublico=ye.cantidadPublico,this.peliculaSelecionada.fotoPelicula=ye.fotoPelicula}}return re.\u0275fac=function(ye){return new(ye||re)},re.\u0275cmp=L.Xpm({type:re,selectors:[["app-busqueda"]],decls:17,vars:3,consts:[["role","main text-center"],[1,"jumbotron"],[1,"container"],[1,"display-3"],[3,"listaPeliculasRecibida","peliculaSelecionada"],[1,"row"],[1,"col-md-4"],[3,"peliculaRecibida",4,"ngIf"],[3,"peliculaRecibida","peliculaModificada",4,"ngIf"],[3,"peliculaRecibida"],[3,"peliculaRecibida","peliculaModificada"]],template:function(ye,Ke){1&ye&&(L.TgZ(0,"main",0)(1,"div",1)(2,"div",2)(3,"h1",3),L._uU(4,"Buscardor"),L.qZA(),L.TgZ(5,"app-tabla-pelicula",4),L.NdJ("peliculaSelecionada",function(Te){return Ke.peliculaEleguida(Te)}),L.qZA()()(),L.TgZ(6,"div",2)(7,"div",5)(8,"div",6)(9,"h2"),L._uU(10,"Mostrar"),L.qZA(),L.YNc(11,Se,1,1,"app-detalle-pelicula",7),L.qZA(),L.TgZ(12,"div",6)(13,"h2"),L._uU(14,"Modificar"),L.qZA(),L.YNc(15,tt,1,1,"app-modificar-pelicula",8),L.qZA()(),L._UZ(16,"hr"),L.qZA()()),2&ye&&(L.xp6(5),L.Q6J("listaPeliculasRecibida",Ke.listaPeliculas),L.xp6(6),L.Q6J("ngIf",Ke.flag),L.xp6(4),L.Q6J("ngIf",Ke.flag2))},dependencies:[K.O5,Ve,ot,ee]}),re})(),Xe=(()=>{class re{}return re.\u0275fac=function(ye){return new(ye||re)},re.\u0275cmp=L.Xpm({type:re,selectors:[["app-bienvenido"]],decls:2,vars:0,template:function(ye,Ke){1&ye&&(L.TgZ(0,"h1"),L._uU(1,"Bienvenido a Cueva Cine"),L.qZA())}}),re})();const _t=[{path:"",component:Xe},{path:"bienvenido",component:Xe},{path:"busqueda",component:Ee},{path:"peliculas",loadChildren:()=>Promise.all([G.e(592),G.e(910)]).then(G.bind(G,3910)).then(re=>re.PeliculasModule)},{path:"actor",loadChildren:()=>Promise.all([G.e(592),G.e(373)]).then(G.bind(G,4373)).then(re=>re.ActorModule)}];let Ut=(()=>{class re{}return re.\u0275fac=function(ye){return new(ye||re)},re.\u0275mod=L.oAB({type:re}),re.\u0275inj=L.cJS({imports:[W.Bz.forRoot(_t),W.Bz]}),re})();const Nt=function(re){return{collapse:re}};let an=(()=>{class re{constructor(){this.verNavLink=!0}mostrarNavLink(){this.verNavLink=!this.verNavLink}}return re.\u0275fac=function(ye){return new(ye||re)},re.\u0275cmp=L.Xpm({type:re,selectors:[["app-navbar"]],decls:20,vars:4,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-dark","mb-4"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],[1,"nav-item"],["aria-current","page","routerLink","/",1,"nav-link","active"],["routerLink","/busqueda",1,"nav-link"],["routerLink","/actor/alta",1,"nav-link"],["routerLink","/peliculas/alta",1,"nav-link"]],template:function(ye,Ke){1&ye&&(L.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),L._uU(3,"Cueva Cine"),L.qZA(),L.TgZ(4,"button",3),L.NdJ("click",function(){return Ke.mostrarNavLink()}),L._UZ(5,"span",4),L.qZA(),L.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),L._uU(10,"Home"),L.qZA()(),L.TgZ(11,"li",7)(12,"a",9),L._uU(13,"b\xfasqueda"),L.qZA()(),L.TgZ(14,"li",7)(15,"a",10),L._uU(16,"Alta Actor"),L.qZA()(),L.TgZ(17,"li",7)(18,"a",11),L._uU(19,"Alta pelicula"),L.qZA()()()()()()),2&ye&&(L.xp6(6),L.Tol(L.VKq(2,Nt,Ke.verNavLink)))},dependencies:[W.rH],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{width:100%;height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}.btn-bd-primary[_ngcontent-%COMP%]{--bd-violet-bg: #712cf9;--bd-violet-rgb: 112.520718, 44.062154, 249.437846;--bs-btn-font-weight: 600;--bs-btn-color: var(--bs-white);--bs-btn-bg: var(--bd-violet-bg);--bs-btn-border-color: var(--bd-violet-bg);--bs-btn-hover-color: var(--bs-white);--bs-btn-hover-bg: #6528e0;--bs-btn-hover-border-color: #6528e0;--bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);--bs-btn-active-color: var(--bs-btn-hover-color);--bs-btn-active-bg: #5a23c8;--bs-btn-active-border-color: #5a23c8}.bd-mode-toggle[_ngcontent-%COMP%]{z-index:1500}body[_ngcontent-%COMP%]{min-height:75rem}img[_ngcontent-%COMP%]{margin:0;padding:0}"]}),re})(),rt=(()=>{class re{constructor(){this.title="simulacro-primer-Parcial"}}return re.\u0275fac=function(ye){return new(ye||re)},re.\u0275cmp=L.Xpm({type:re,selectors:[["app-root"]],decls:2,vars:0,template:function(ye,Ke){1&ye&&L._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[W.lC,an]}),re})();var ze=G(3692);const He_firebase={projectId:"utn-labo-4",appId:"1:405818132073:web:863f8908db96d70a3c44f8",storageBucket:"utn-labo-4.appspot.com",apiKey:"AIzaSyBQkUXOPjNvqj3WozQjymp6idMdWNxM3Tg",authDomain:"utn-labo-4.firebaseapp.com",messagingSenderId:"405818132073"};var We=G(7187);let ft=(()=>{class re{}return re.\u0275fac=function(ye){return new(ye||re)},re.\u0275mod=L.oAB({type:re,bootstrap:[rt]}),re.\u0275inj=L.cJS({imports:[_.b2,Ut,ke.u5,(0,ze.hX)(()=>(0,ze.ZF)(He_firebase)),(0,We.Cm)(()=>(0,We.ad)())]}),re})();_.q6().bootstrapModule(ft).catch(re=>console.error(re))},9751:(Ht,qe,G)=>{G.d(qe,{y:()=>ot});var _=G(2961),W=G(727),ue=G(8822),L=G(9635),K=G(2416),ve=G(576),Ve=G(2806);let ot=(()=>{class Se{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const Xe=new Se;return Xe.source=this,Xe.operator=Ee,Xe}subscribe(Ee,Xe,_t){const Ut=function ee(Se){return Se&&Se instanceof _.Lv||function te(Se){return Se&&(0,ve.m)(Se.next)&&(0,ve.m)(Se.error)&&(0,ve.m)(Se.complete)}(Se)&&(0,W.Nn)(Se)}(Ee)?Ee:new _.Hp(Ee,Xe,_t);return(0,Ve.x)(()=>{const{operator:Nt,source:an}=this;Ut.add(Nt?Nt.call(Ut,an):an?this._subscribe(Ut):this._trySubscribe(Ut))}),Ut}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(Xe){Ee.error(Xe)}}forEach(Ee,Xe){return new(Xe=ke(Xe))((_t,Ut)=>{const Nt=new _.Hp({next:an=>{try{Ee(an)}catch(rt){Ut(rt),Nt.unsubscribe()}},error:Ut,complete:_t});this.subscribe(Nt)})}_subscribe(Ee){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Ee)}[ue.L](){return this}pipe(...Ee){return(0,L.U)(Ee)(this)}toPromise(Ee){return new(Ee=ke(Ee))((Xe,_t)=>{let Ut;this.subscribe(Nt=>Ut=Nt,Nt=>_t(Nt),()=>Xe(Ut))})}}return Se.create=tt=>new Se(tt),Se})();function ke(Se){var tt;return null!==(tt=Se??K.v.Promise)&&void 0!==tt?tt:Promise}},7579:(Ht,qe,G)=>{G.d(qe,{x:()=>Ve});var _=G(9751),W=G(727);const L=(0,G(3888).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=G(8737),ve=G(2806);let Ve=(()=>{class ke extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const Se=new ot(this,this);return Se.operator=ee,Se}_throwIfClosed(){if(this.closed)throw new L}next(ee){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(ee)}})}error(ee){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:Se}=this;for(;Se.length;)Se.shift().error(ee)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:Se,isStopped:tt,observers:Ee}=this;return Se||tt?W.Lc:(this.currentObservers=null,Ee.push(ee),new W.w0(()=>{this.currentObservers=null,(0,K.P)(Ee,ee)}))}_checkFinalizedStatuses(ee){const{hasError:Se,thrownError:tt,isStopped:Ee}=this;Se?ee.error(tt):Ee&&ee.complete()}asObservable(){const ee=new _.y;return ee.source=this,ee}}return ke.create=(te,ee)=>new ot(te,ee),ke})();class ot extends Ve{constructor(te,ee){super(),this.destination=te,this.source=ee}next(te){var ee,Se;null===(Se=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===Se||Se.call(ee,te)}error(te){var ee,Se;null===(Se=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===Se||Se.call(ee,te)}complete(){var te,ee;null===(ee=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===ee||ee.call(te)}_subscribe(te){var ee,Se;return null!==(Se=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(te))&&void 0!==Se?Se:W.Lc}}},2961:(Ht,qe,G)=>{G.d(qe,{Hp:()=>_t,Lv:()=>Se});var _=G(576),W=G(727),ue=G(2416),L=G(7849);function K(){}const ve=ke("C",void 0,void 0);function ke(ze,He,We){return{kind:ze,value:He,error:We}}var te=G(3410),ee=G(2806);class Se extends W.w0{constructor(He){super(),this.isStopped=!1,He?(this.destination=He,(0,W.Nn)(He)&&He.add(this)):this.destination=rt}static create(He,We,ft){return new _t(He,We,ft)}next(He){this.isStopped?an(function ot(ze){return ke("N",ze,void 0)}(He),this):this._next(He)}error(He){this.isStopped?an(function Ve(ze){return ke("E",void 0,ze)}(He),this):(this.isStopped=!0,this._error(He))}complete(){this.isStopped?an(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(He){this.destination.next(He)}_error(He){try{this.destination.error(He)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function Ee(ze,He){return tt.call(ze,He)}class Xe{constructor(He){this.partialObserver=He}next(He){const{partialObserver:We}=this;if(We.next)try{We.next(He)}catch(ft){Ut(ft)}}error(He){const{partialObserver:We}=this;if(We.error)try{We.error(He)}catch(ft){Ut(ft)}else Ut(He)}complete(){const{partialObserver:He}=this;if(He.complete)try{He.complete()}catch(We){Ut(We)}}}class _t extends Se{constructor(He,We,ft){let re;if(super(),(0,_.m)(He)||!He)re={next:He??void 0,error:We??void 0,complete:ft??void 0};else{let Ue;this&&ue.v.useDeprecatedNextContext?(Ue=Object.create(He),Ue.unsubscribe=()=>this.unsubscribe(),re={next:He.next&&Ee(He.next,Ue),error:He.error&&Ee(He.error,Ue),complete:He.complete&&Ee(He.complete,Ue)}):re=He}this.destination=new Xe(re)}}function Ut(ze){ue.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)(ze):(0,L.h)(ze)}function an(ze,He){const{onStoppedNotification:We}=ue.v;We&&te.z.setTimeout(()=>We(ze,He))}const rt={closed:!0,next:K,error:function Nt(ze){throw ze},complete:K}},727:(Ht,qe,G)=>{G.d(qe,{Lc:()=>ve,w0:()=>K,Nn:()=>Ve});var _=G(576);const ue=(0,G(3888).d)(ke=>function(ee){ke(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((Se,tt)=>`${tt+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var L=G(8737);class K{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Ee of ee)Ee.remove(this);else ee.remove(this);const{initialTeardown:Se}=this;if((0,_.m)(Se))try{Se()}catch(Ee){te=Ee instanceof ue?Ee.errors:[Ee]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const Ee of tt)try{ot(Ee)}catch(Xe){te=te??[],Xe instanceof ue?te=[...te,...Xe.errors]:te.push(Xe)}}if(te)throw new ue(te)}}add(te){var ee;if(te&&te!==this)if(this.closed)ot(te);else{if(te instanceof K){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(te)}}_hasParent(te){const{_parentage:ee}=this;return ee===te||Array.isArray(ee)&&ee.includes(te)}_addParent(te){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(te),ee):ee?[ee,te]:te}_removeParent(te){const{_parentage:ee}=this;ee===te?this._parentage=null:Array.isArray(ee)&&(0,L.P)(ee,te)}remove(te){const{_finalizers:ee}=this;ee&&(0,L.P)(ee,te),te instanceof K&&te._removeParent(this)}}K.EMPTY=(()=>{const ke=new K;return ke.closed=!0,ke})();const ve=K.EMPTY;function Ve(ke){return ke instanceof K||ke&&"closed"in ke&&(0,_.m)(ke.remove)&&(0,_.m)(ke.add)&&(0,_.m)(ke.unsubscribe)}function ot(ke){(0,_.m)(ke)?ke():ke.unsubscribe()}},2416:(Ht,qe,G)=>{G.d(qe,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ht,qe,G)=>{G.d(qe,{E:()=>W});const W=new(G(9751).y)(K=>K.complete())},8996:(Ht,qe,G)=>{G.d(qe,{D:()=>He});var _=G(8421),W=G(5363),ue=G(9468),ve=G(9751),ot=G(2202),ke=G(576),te=G(9672);function Se(We,ft){if(!We)throw new Error("Iterable cannot be null");return new ve.y(re=>{(0,te.f)(re,ft,()=>{const Ue=We[Symbol.asyncIterator]();(0,te.f)(re,ft,()=>{Ue.next().then(ye=>{ye.done?re.complete():re.next(ye.value)})},0,!0)})})}var tt=G(3670),Ee=G(8239),Xe=G(1144),_t=G(6495),Ut=G(2206),Nt=G(4532),an=G(3260);function He(We,ft){return ft?function ze(We,ft){if(null!=We){if((0,tt.c)(We))return function L(We,ft){return(0,_.Xf)(We).pipe((0,ue.R)(ft),(0,W.Q)(ft))}(We,ft);if((0,Xe.z)(We))return function Ve(We,ft){return new ve.y(re=>{let Ue=0;return ft.schedule(function(){Ue===We.length?re.complete():(re.next(We[Ue++]),re.closed||this.schedule())})})}(We,ft);if((0,Ee.t)(We))return function K(We,ft){return(0,_.Xf)(We).pipe((0,ue.R)(ft),(0,W.Q)(ft))}(We,ft);if((0,Ut.D)(We))return Se(We,ft);if((0,_t.T)(We))return function ee(We,ft){return new ve.y(re=>{let Ue;return(0,te.f)(re,ft,()=>{Ue=We[ot.h](),(0,te.f)(re,ft,()=>{let ye,Ke;try{({value:ye,done:Ke}=Ue.next())}catch(lt){return void re.error(lt)}Ke?re.complete():re.next(ye)},0,!0)}),()=>(0,ke.m)(Ue?.return)&&Ue.return()})}(We,ft);if((0,an.L)(We))return function rt(We,ft){return Se((0,an.Q)(We),ft)}(We,ft)}throw(0,Nt.z)(We)}(We,ft):(0,_.Xf)(We)}},8421:(Ht,qe,G)=>{G.d(qe,{Xf:()=>tt});var _=G(655),W=G(1144),ue=G(8239),L=G(9751),K=G(3670),ve=G(2206),Ve=G(4532),ot=G(6495),ke=G(3260),te=G(576),ee=G(7849),Se=G(8822);function tt(ze){if(ze instanceof L.y)return ze;if(null!=ze){if((0,K.c)(ze))return function Ee(ze){return new L.y(He=>{const We=ze[Se.L]();if((0,te.m)(We.subscribe))return We.subscribe(He);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,W.z)(ze))return function Xe(ze){return new L.y(He=>{for(let We=0;We<ze.length&&!He.closed;We++)He.next(ze[We]);He.complete()})}(ze);if((0,ue.t)(ze))return function _t(ze){return new L.y(He=>{ze.then(We=>{He.closed||(He.next(We),He.complete())},We=>He.error(We)).then(null,ee.h)})}(ze);if((0,ve.D)(ze))return Nt(ze);if((0,ot.T)(ze))return function Ut(ze){return new L.y(He=>{for(const We of ze)if(He.next(We),He.closed)return;He.complete()})}(ze);if((0,ke.L)(ze))return function an(ze){return Nt((0,ke.Q)(ze))}(ze)}throw(0,Ve.z)(ze)}function Nt(ze){return new L.y(He=>{(function rt(ze,He){var We,ft,re,Ue;return(0,_.mG)(this,void 0,void 0,function*(){try{for(We=(0,_.KL)(ze);!(ft=yield We.next()).done;)if(He.next(ft.value),He.closed)return}catch(ye){re={error:ye}}finally{try{ft&&!ft.done&&(Ue=We.return)&&(yield Ue.call(We))}finally{if(re)throw re.error}}He.complete()})})(ze,He).catch(We=>He.error(We))})}},5403:(Ht,qe,G)=>{G.d(qe,{x:()=>W});var _=G(2961);function W(L,K,ve,Ve,ot){return new ue(L,K,ve,Ve,ot)}class ue extends _.Lv{constructor(K,ve,Ve,ot,ke,te){super(K),this.onFinalize=ke,this.shouldUnsubscribe=te,this._next=ve?function(ee){try{ve(ee)}catch(Se){K.error(Se)}}:super._next,this._error=ot?function(ee){try{ot(ee)}catch(Se){K.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=Ve?function(){try{Ve()}catch(ee){K.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var K;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(K=this.onFinalize)||void 0===K||K.call(this))}}}},4004:(Ht,qe,G)=>{G.d(qe,{U:()=>ue});var _=G(4482),W=G(5403);function ue(L,K){return(0,_.e)((ve,Ve)=>{let ot=0;ve.subscribe((0,W.x)(Ve,ke=>{Ve.next(L.call(K,ke,ot++))}))})}},8189:(Ht,qe,G)=>{G.d(qe,{J:()=>ue});var _=G(5577),W=G(4671);function ue(L=1/0){return(0,_.z)(W.y,L)}},5577:(Ht,qe,G)=>{G.d(qe,{z:()=>ot});var _=G(4004),W=G(8421),ue=G(4482),L=G(9672),K=G(5403),Ve=G(576);function ot(ke,te,ee=1/0){return(0,Ve.m)(te)?ot((Se,tt)=>(0,_.U)((Ee,Xe)=>te(Se,Ee,tt,Xe))((0,W.Xf)(ke(Se,tt))),ee):("number"==typeof te&&(ee=te),(0,ue.e)((Se,tt)=>function ve(ke,te,ee,Se,tt,Ee,Xe,_t){const Ut=[];let Nt=0,an=0,rt=!1;const ze=()=>{rt&&!Ut.length&&!Nt&&te.complete()},He=ft=>Nt<Se?We(ft):Ut.push(ft),We=ft=>{Ee&&te.next(ft),Nt++;let re=!1;(0,W.Xf)(ee(ft,an++)).subscribe((0,K.x)(te,Ue=>{tt?.(Ue),Ee?He(Ue):te.next(Ue)},()=>{re=!0},void 0,()=>{if(re)try{for(Nt--;Ut.length&&Nt<Se;){const Ue=Ut.shift();Xe?(0,L.f)(te,Xe,()=>We(Ue)):We(Ue)}ze()}catch(Ue){te.error(Ue)}}))};return ke.subscribe((0,K.x)(te,He,()=>{rt=!0,ze()})),()=>{_t?.()}}(Se,tt,ke,ee)))}},5363:(Ht,qe,G)=>{G.d(qe,{Q:()=>L});var _=G(9672),W=G(4482),ue=G(5403);function L(K,ve=0){return(0,W.e)((Ve,ot)=>{Ve.subscribe((0,ue.x)(ot,ke=>(0,_.f)(ot,K,()=>ot.next(ke),ve),()=>(0,_.f)(ot,K,()=>ot.complete(),ve),ke=>(0,_.f)(ot,K,()=>ot.error(ke),ve)))})}},9468:(Ht,qe,G)=>{G.d(qe,{R:()=>W});var _=G(4482);function W(ue,L=0){return(0,_.e)((K,ve)=>{ve.add(ue.schedule(()=>K.subscribe(ve),L))})}},8505:(Ht,qe,G)=>{G.d(qe,{b:()=>K});var _=G(576),W=G(4482),ue=G(5403),L=G(4671);function K(ve,Ve,ot){const ke=(0,_.m)(ve)||Ve||ot?{next:ve,error:Ve,complete:ot}:ve;return ke?(0,W.e)((te,ee)=>{var Se;null===(Se=ke.subscribe)||void 0===Se||Se.call(ke);let tt=!0;te.subscribe((0,ue.x)(ee,Ee=>{var Xe;null===(Xe=ke.next)||void 0===Xe||Xe.call(ke,Ee),ee.next(Ee)},()=>{var Ee;tt=!1,null===(Ee=ke.complete)||void 0===Ee||Ee.call(ke),ee.complete()},Ee=>{var Xe;tt=!1,null===(Xe=ke.error)||void 0===Xe||Xe.call(ke,Ee),ee.error(Ee)},()=>{var Ee,Xe;tt&&(null===(Ee=ke.unsubscribe)||void 0===Ee||Ee.call(ke)),null===(Xe=ke.finalize)||void 0===Xe||Xe.call(ke)}))}):L.y}},3410:(Ht,qe,G)=>{G.d(qe,{z:()=>_});const _={setTimeout(W,ue,...L){const{delegate:K}=_;return K?.setTimeout?K.setTimeout(W,ue,...L):setTimeout(W,ue,...L)},clearTimeout(W){const{delegate:ue}=_;return(ue?.clearTimeout||clearTimeout)(W)},delegate:void 0}},2202:(Ht,qe,G)=>{G.d(qe,{h:()=>W});const W=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ht,qe,G)=>{G.d(qe,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Ht,qe,G)=>{G.d(qe,{_6:()=>ve,jO:()=>L,yG:()=>K});var _=G(576);function ue(Ve){return Ve[Ve.length-1]}function L(Ve){return(0,_.m)(ue(Ve))?Ve.pop():void 0}function K(Ve){return function W(Ve){return Ve&&(0,_.m)(Ve.schedule)}(ue(Ve))?Ve.pop():void 0}function ve(Ve,ot){return"number"==typeof ue(Ve)?Ve.pop():ot}},4742:(Ht,qe,G)=>{G.d(qe,{D:()=>K});const{isArray:_}=Array,{getPrototypeOf:W,prototype:ue,keys:L}=Object;function K(Ve){if(1===Ve.length){const ot=Ve[0];if(_(ot))return{args:ot,keys:null};if(function ve(Ve){return Ve&&"object"==typeof Ve&&W(Ve)===ue}(ot)){const ke=L(ot);return{args:ke.map(te=>ot[te]),keys:ke}}}return{args:Ve,keys:null}}},8737:(Ht,qe,G)=>{function _(W,ue){if(W){const L=W.indexOf(ue);0<=L&&W.splice(L,1)}}G.d(qe,{P:()=>_})},3888:(Ht,qe,G)=>{function _(W){const L=W(K=>{Error.call(K),K.stack=(new Error).stack});return L.prototype=Object.create(Error.prototype),L.prototype.constructor=L,L}G.d(qe,{d:()=>_})},1810:(Ht,qe,G)=>{function _(W,ue){return W.reduce((L,K,ve)=>(L[K]=ue[ve],L),{})}G.d(qe,{n:()=>_})},2806:(Ht,qe,G)=>{G.d(qe,{O:()=>L,x:()=>ue});var _=G(2416);let W=null;function ue(K){if(_.v.useDeprecatedSynchronousErrorHandling){const ve=!W;if(ve&&(W={errorThrown:!1,error:null}),K(),ve){const{errorThrown:Ve,error:ot}=W;if(W=null,Ve)throw ot}}else K()}function L(K){_.v.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=K)}},9672:(Ht,qe,G)=>{function _(W,ue,L,K=0,ve=!1){const Ve=ue.schedule(function(){L(),ve?W.add(this.schedule(null,K)):this.unsubscribe()},K);if(W.add(Ve),!ve)return Ve}G.d(qe,{f:()=>_})},4671:(Ht,qe,G)=>{function _(W){return W}G.d(qe,{y:()=>_})},1144:(Ht,qe,G)=>{G.d(qe,{z:()=>_});const _=W=>W&&"number"==typeof W.length&&"function"!=typeof W},2206:(Ht,qe,G)=>{G.d(qe,{D:()=>W});var _=G(576);function W(ue){return Symbol.asyncIterator&&(0,_.m)(ue?.[Symbol.asyncIterator])}},576:(Ht,qe,G)=>{function _(W){return"function"==typeof W}G.d(qe,{m:()=>_})},3670:(Ht,qe,G)=>{G.d(qe,{c:()=>ue});var _=G(8822),W=G(576);function ue(L){return(0,W.m)(L[_.L])}},6495:(Ht,qe,G)=>{G.d(qe,{T:()=>ue});var _=G(2202),W=G(576);function ue(L){return(0,W.m)(L?.[_.h])}},8239:(Ht,qe,G)=>{G.d(qe,{t:()=>W});var _=G(576);function W(ue){return(0,_.m)(ue?.then)}},3260:(Ht,qe,G)=>{G.d(qe,{L:()=>L,Q:()=>ue});var _=G(655),W=G(576);function ue(K){return(0,_.FC)(this,arguments,function*(){const Ve=K.getReader();try{for(;;){const{value:ot,done:ke}=yield(0,_.qq)(Ve.read());if(ke)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(ot)}}finally{Ve.releaseLock()}})}function L(K){return(0,W.m)(K?.getReader)}},4482:(Ht,qe,G)=>{G.d(qe,{A:()=>W,e:()=>ue});var _=G(576);function W(L){return(0,_.m)(L?.lift)}function ue(L){return K=>{if(W(K))return K.lift(function(ve){try{return L(ve,this)}catch(Ve){this.error(Ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ht,qe,G)=>{G.d(qe,{Z:()=>L});var _=G(4004);const{isArray:W}=Array;function L(K){return(0,_.U)(ve=>function ue(K,ve){return W(ve)?K(...ve):K(ve)}(K,ve))}},9635:(Ht,qe,G)=>{G.d(qe,{U:()=>ue,z:()=>W});var _=G(4671);function W(...L){return ue(L)}function ue(L){return 0===L.length?_.y:1===L.length?L[0]:function(ve){return L.reduce((Ve,ot)=>ot(Ve),ve)}}},7849:(Ht,qe,G)=>{G.d(qe,{h:()=>ue});var _=G(2416),W=G(3410);function ue(L){W.z.setTimeout(()=>{const{onUnhandledError:K}=_.v;if(!K)throw L;K(L)})}},4532:(Ht,qe,G)=>{function _(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(qe,{z:()=>_})},655:(Ht,qe,G)=>{function L(ge,ce){var Re={};for(var Le in ge)Object.prototype.hasOwnProperty.call(ge,Le)&&ce.indexOf(Le)<0&&(Re[Le]=ge[Le]);if(null!=ge&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(Le=Object.getOwnPropertySymbols(ge);et<Le.length;et++)ce.indexOf(Le[et])<0&&Object.prototype.propertyIsEnumerable.call(ge,Le[et])&&(Re[Le[et]]=ge[Le[et]])}return Re}function Se(ge,ce,Re,Le){return new(Re||(Re=Promise))(function(je,mt){function en(zt){try{Ot(Le.next(zt))}catch(Dt){mt(Dt)}}function _n(zt){try{Ot(Le.throw(zt))}catch(Dt){mt(Dt)}}function Ot(zt){zt.done?je(zt.value):function et(je){return je instanceof Re?je:new Re(function(mt){mt(je)})}(zt.value).then(en,_n)}Ot((Le=Le.apply(ge,ce||[])).next())})}function ze(ge){return this instanceof ze?(this.v=ge,this):new ze(ge)}function He(ge,ce,Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Le=Re.apply(ge,ce||[]),je=[];return et={},mt("next"),mt("throw"),mt("return"),et[Symbol.asyncIterator]=function(){return this},et;function mt(gt){Le[gt]&&(et[gt]=function(xn){return new Promise(function(vn,Bt){je.push([gt,xn,vn,Bt])>1||en(gt,xn)})})}function en(gt,xn){try{!function _n(gt){gt.value instanceof ze?Promise.resolve(gt.value.v).then(Ot,zt):Dt(je[0][2],gt)}(Le[gt](xn))}catch(vn){Dt(je[0][3],vn)}}function Ot(gt){en("next",gt)}function zt(gt){en("throw",gt)}function Dt(gt,xn){gt(xn),je.shift(),je.length&&en(je[0][0],je[0][1])}}function ft(ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ce=ge[Symbol.asyncIterator];return ce?ce.call(ge):(ge=function _t(ge){var ce="function"==typeof Symbol&&Symbol.iterator,Re=ce&&ge[ce],Le=0;if(Re)return Re.call(ge);if(ge&&"number"==typeof ge.length)return{next:function(){return ge&&Le>=ge.length&&(ge=void 0),{value:ge&&ge[Le++],done:!ge}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(ge),Re={},Le("next"),Le("throw"),Le("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function Le(je){Re[je]=ge[je]&&function(mt){return new Promise(function(en,_n){!function et(je,mt,en,_n){Promise.resolve(_n).then(function(Ot){je({value:Ot,done:en})},mt)}(en,_n,(mt=ge[je](mt)).done,mt.value)})}}}G.d(qe,{FC:()=>He,KL:()=>ft,_T:()=>L,mG:()=>Se,qq:()=>ze})},6895:(Ht,qe,G)=>{G.d(qe,{Do:()=>an,EM:()=>uo,HT:()=>L,JF:()=>qi,K0:()=>ve,Mx:()=>eo,O5:()=>Yt,S$:()=>_t,V_:()=>ke,Ye:()=>rt,b0:()=>Nt,bD:()=>Da,ez:()=>ws,q:()=>ue,sg:()=>to,w_:()=>K});var _=G(8256);let W=null;function ue(){return W}function L(D){W||(W=D)}class K{}const ve=new _.OlP("DocumentToken");let Ve=(()=>{class D{historyGo(T){throw new Error("Not implemented")}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275prov=_.Yz7({token:D,factory:function(){return function ot(){return(0,_.LFG)(te)}()},providedIn:"platform"}),D})();const ke=new _.OlP("Location Initialized");let te=(()=>{class D extends Ve{constructor(T){super(),this._doc=T,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ue().getBaseHref(this._doc)}onPopState(T){const U=ue().getGlobalEventTarget(this._doc,"window");return U.addEventListener("popstate",T,!1),()=>U.removeEventListener("popstate",T)}onHashChange(T){const U=ue().getGlobalEventTarget(this._doc,"window");return U.addEventListener("hashchange",T,!1),()=>U.removeEventListener("hashchange",T)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(T){this._location.pathname=T}pushState(T,U,Z){ee()?this._history.pushState(T,U,Z):this._location.hash=Z}replaceState(T,U,Z){ee()?this._history.replaceState(T,U,Z):this._location.hash=Z}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}}return D.\u0275fac=function(T){return new(T||D)(_.LFG(ve))},D.\u0275prov=_.Yz7({token:D,factory:function(){return function Se(){return new te((0,_.LFG)(ve))}()},providedIn:"platform"}),D})();function ee(){return!!window.history.pushState}function tt(D,O){if(0==D.length)return O;if(0==O.length)return D;let T=0;return D.endsWith("/")&&T++,O.startsWith("/")&&T++,2==T?D+O.substring(1):1==T?D+O:D+"/"+O}function Ee(D){const O=D.match(/#|\?|$/),T=O&&O.index||D.length;return D.slice(0,T-("/"===D[T-1]?1:0))+D.slice(T)}function Xe(D){return D&&"?"!==D[0]?"?"+D:D}let _t=(()=>{class D{historyGo(T){throw new Error("Not implemented")}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275prov=_.Yz7({token:D,factory:function(){return(0,_.f3M)(Nt)},providedIn:"root"}),D})();const Ut=new _.OlP("appBaseHref");let Nt=(()=>{class D extends _t{constructor(T,U){super(),this._platformLocation=T,this._removeListenerFns=[],this._baseHref=U??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return tt(this._baseHref,T)}path(T=!1){const U=this._platformLocation.pathname+Xe(this._platformLocation.search),Z=this._platformLocation.hash;return Z&&T?`${U}${Z}`:U}pushState(T,U,Z,_e){const Pe=this.prepareExternalUrl(Z+Xe(_e));this._platformLocation.pushState(T,U,Pe)}replaceState(T,U,Z,_e){const Pe=this.prepareExternalUrl(Z+Xe(_e));this._platformLocation.replaceState(T,U,Pe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return D.\u0275fac=function(T){return new(T||D)(_.LFG(Ve),_.LFG(Ut,8))},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),an=(()=>{class D extends _t{constructor(T,U){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=U&&(this._baseHref=U)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let U=this._platformLocation.hash;return null==U&&(U="#"),U.length>0?U.substring(1):U}prepareExternalUrl(T){const U=tt(this._baseHref,T);return U.length>0?"#"+U:U}pushState(T,U,Z,_e){let Pe=this.prepareExternalUrl(Z+Xe(_e));0==Pe.length&&(Pe=this._platformLocation.pathname),this._platformLocation.pushState(T,U,Pe)}replaceState(T,U,Z,_e){let Pe=this.prepareExternalUrl(Z+Xe(_e));0==Pe.length&&(Pe=this._platformLocation.pathname),this._platformLocation.replaceState(T,U,Pe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return D.\u0275fac=function(T){return new(T||D)(_.LFG(Ve),_.LFG(Ut,8))},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac}),D})(),rt=(()=>{class D{constructor(T){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const U=this._locationStrategy.getBaseHref();this._basePath=function ft(D){if(new RegExp("^(https?:)?//").test(D)){const[,T]=D.split(/\/\/[^\/]+/);return T}return D}(Ee(We(U))),this._locationStrategy.onPopState(Z=>{this._subject.emit({url:this.path(!0),pop:!0,state:Z.state,type:Z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,U=""){return this.path()==this.normalize(T+Xe(U))}normalize(T){return D.stripTrailingSlash(function He(D,O){if(!D||!O.startsWith(D))return O;const T=O.substring(D.length);return""===T||["/",";","?","#"].includes(T[0])?T:O}(this._basePath,We(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,U="",Z=null){this._locationStrategy.pushState(Z,"",T,U),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+Xe(U)),Z)}replaceState(T,U="",Z=null){this._locationStrategy.replaceState(Z,"",T,U),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+Xe(U)),Z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){this._locationStrategy.historyGo?.(T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(U=>{this._notifyUrlChangeListeners(U.url,U.state)})),()=>{const U=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(U,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",U){this._urlChangeListeners.forEach(Z=>Z(T,U))}subscribe(T,U,Z){return this._subject.subscribe({next:T,error:U,complete:Z})}}return D.normalizeQueryParams=Xe,D.joinWithSlash=tt,D.stripTrailingSlash=Ee,D.\u0275fac=function(T){return new(T||D)(_.LFG(_t))},D.\u0275prov=_.Yz7({token:D,factory:function(){return function ze(){return new rt((0,_.LFG)(_t))}()},providedIn:"root"}),D})();function We(D){return D.replace(/\/index.html$/,"")}function eo(D,O){O=encodeURIComponent(O);for(const T of D.split(";")){const U=T.indexOf("="),[Z,_e]=-1==U?[T,""]:[T.slice(0,U),T.slice(U+1)];if(Z.trim()===O)return decodeURIComponent(_e)}return null}class Gi{constructor(O,T,U,Z){this.$implicit=O,this.ngForOf=T,this.index=U,this.count=Z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let to=(()=>{class D{set ngForOf(T){this._ngForOf=T,this._ngForOfDirty=!0}set ngForTrackBy(T){this._trackByFn=T}get ngForTrackBy(){return this._trackByFn}constructor(T,U,Z){this._viewContainer=T,this._template=U,this._differs=Z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(T){T&&(this._template=T)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const T=this._ngForOf;!this._differ&&T&&(this._differ=this._differs.find(T).create(this.ngForTrackBy))}if(this._differ){const T=this._differ.diff(this._ngForOf);T&&this._applyChanges(T)}}_applyChanges(T){const U=this._viewContainer;T.forEachOperation((Z,_e,Pe)=>{if(null==Z.previousIndex)U.createEmbeddedView(this._template,new Gi(Z.item,this._ngForOf,-1,-1),null===Pe?void 0:Pe);else if(null==Pe)U.remove(null===_e?void 0:_e);else if(null!==_e){const bt=U.get(_e);U.move(bt,Pe),Dn(bt,Z)}});for(let Z=0,_e=U.length;Z<_e;Z++){const bt=U.get(Z).context;bt.index=Z,bt.count=_e,bt.ngForOf=this._ngForOf}T.forEachIdentityChange(Z=>{Dn(U.get(Z.currentIndex),Z)})}static ngTemplateContextGuard(T,U){return!0}}return D.\u0275fac=function(T){return new(T||D)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},D.\u0275dir=_.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function Dn(D,O){D.context.$implicit=O.item}let Yt=(()=>{class D{constructor(T,U){this._viewContainer=T,this._context=new kn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=U}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){er("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){er("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,U){return!0}}return D.\u0275fac=function(T){return new(T||D)(_.Y36(_.s_b),_.Y36(_.Rgc))},D.\u0275dir=_.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class kn{constructor(){this.$implicit=null,this.ngIf=null}}function er(D,O){if(O&&!O.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,_.AaK)(O)}'.`)}let ws=(()=>{class D{}return D.\u0275fac=function(T){return new(T||D)},D.\u0275mod=_.oAB({type:D}),D.\u0275inj=_.cJS({}),D})();const Da="browser";let uo=(()=>{class D{}return D.\u0275prov=(0,_.Yz7)({token:D,providedIn:"root",factory:()=>new Fs((0,_.LFG)(ve),window)}),D})();class Fs{constructor(O,T){this.document=O,this.window=T,this.offset=()=>[0,0]}setOffset(O){this.offset=Array.isArray(O)?()=>O:O}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(O){this.supportsScrolling()&&this.window.scrollTo(O[0],O[1])}scrollToAnchor(O){if(!this.supportsScrolling())return;const T=function Es(D,O){const T=D.getElementById(O)||D.getElementsByName(O)[0];if(T)return T;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const U=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let Z=U.currentNode;for(;Z;){const _e=Z.shadowRoot;if(_e){const Pe=_e.getElementById(O)||_e.querySelector(`[name="${O}"]`);if(Pe)return Pe}Z=U.nextNode()}}return null}(this.document,O);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(O){if(this.supportScrollRestoration()){const T=this.window.history;T&&T.scrollRestoration&&(T.scrollRestoration=O)}}scrollToElement(O){const T=O.getBoundingClientRect(),U=T.left+this.window.pageXOffset,Z=T.top+this.window.pageYOffset,_e=this.offset();this.window.scrollTo(U-_e[0],Z-_e[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const O=Ao(this.window.history)||Ao(Object.getPrototypeOf(this.window.history));return!(!O||!O.writable&&!O.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ao(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class qi{}},8256:(Ht,qe,G)=>{G.d(qe,{tb:()=>Gw,AFp:()=>Dv,ip1:()=>yg,CZH:()=>dd,hGG:()=>Gv,z2F:()=>sf,sBO:()=>Ov,Sil:()=>Fw,_Vd:()=>jd,EJc:()=>kw,Xts:()=>Ud,SBq:()=>Pc,lqb:()=>xc,qLn:()=>Hd,vpe:()=>Jo,XFs:()=>Fe,OlP:()=>Gn,zs3:()=>Nc,ZZ4:()=>gf,aQg:()=>el,soG:()=>ef,YKP:()=>Yy,h0i:()=>Wa,PXZ:()=>Mv,R0b:()=>ea,FiY:()=>ri,Lbi:()=>DD,g9A:()=>Jh,Qsj:()=>uI,FYo:()=>aI,JOm:()=>Ho,tp0:()=>Va,Rgc:()=>Hh,dDg:()=>jw,eoX:()=>Av,q4F:()=>ap,GfV:()=>Cm,s_b:()=>Wh,ifc:()=>Be,MMx:()=>wa,Lck:()=>Zy,eFA:()=>xv,Gpc:()=>an,f3M:()=>se,$WT:()=>ji,_c5:()=>mf,c2e:()=>_g,zSh:()=>mm,wAp:()=>qt,vHH:()=>re,lri:()=>dc,rWj:()=>hd,D6c:()=>nE,cg1:()=>ky,kL8:()=>U0,dqk:()=>nn,Z0I:()=>pr,eJc:()=>lg,CqO:()=>yy,QGY:()=>Vp,F4k:()=>Wu,RDi:()=>eb,AaK:()=>_t,qOj:()=>ry,TTD:()=>as,_Bn:()=>kh,jDz:()=>xs,xp6:()=>B_,uIk:()=>gh,Tol:()=>Ce,ekj:()=>kt,Suo:()=>Dw,Xpm:()=>Kt,lG2:()=>Xs,Yz7:()=>On,cJS:()=>$i,oAB:()=>Br,Yjl:()=>eo,Y36:()=>Oc,_UZ:()=>Fp,qZA:()=>vh,TgZ:()=>zu,EpF:()=>my,n5z:()=>Qi,LFG:()=>Y,$8M:()=>Ou,$Z:()=>Y_,NdJ:()=>Up,CRH:()=>Cw,oxw:()=>wy,Q6J:()=>Ol,s9C:()=>Ih,VKq:()=>Gc,iGM:()=>Iw,KtG:()=>Ki,CHM:()=>Us,LSH:()=>Ld,P3R:()=>Xf,YNc:()=>Op,_uU:()=>R0,Oqu:()=>Gr,hij:()=>dt,AsE:()=>Ul});var _=G(7579),W=G(727),ue=G(9751),L=G(8189),K=G(8421),ve=G(515),Ve=G(7669),ot=G(8996),te=G(2961),ee=G(4482);function tt(i,s,...o){if(!0===s)return void i();if(!1===s)return;const u=new te.Hp({next:()=>{u.unsubscribe(),i()}});return(0,K.Xf)(s(...o)).subscribe(u)}function Ee(i){for(let s in i)if(i[s]===Ee)return s;throw Error("Could not find renamed property on target object.")}function Xe(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function _t(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(_t).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Ut(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Nt=Ee({__forward_ref__:Ee});function an(i){return i.__forward_ref__=an,i.toString=function(){return _t(this())},i}function rt(i){return ze(i)?i():i}function ze(i){return"function"==typeof i&&i.hasOwnProperty(Nt)&&i.__forward_ref__===an}function He(i){return i&&!!i.\u0275providers}const ft="https://g.co/ng/security#xss";class re extends Error{constructor(s,o){super(Ue(s,o)),this.code=s}}function Ue(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}function ye(i){return"string"==typeof i?i:null==i?"":String(i)}function ge(i,s){throw new re(-201,!1)}function vn(i,s){null==i&&function Bt(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function On(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function $i(i){return{providers:i.providers||[],imports:i.imports||[]}}function wt(i){return bn(i,wr)||bn(i,Lr)}function pr(i){return null!==wt(i)}function bn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ai(i){return i&&(i.hasOwnProperty(mr)||i.hasOwnProperty(rn))?i[mr]:null}const wr=Ee({\u0275prov:Ee}),mr=Ee({\u0275inj:Ee}),Lr=Ee({ngInjectableDef:Ee}),rn=Ee({ngInjectorDef:Ee});var Fe=(()=>((Fe=Fe||{})[Fe.Default=0]="Default",Fe[Fe.Host=1]="Host",Fe[Fe.Self=2]="Self",Fe[Fe.SkipSelf=4]="SkipSelf",Fe[Fe.Optional=8]="Optional",Fe))();let Mt;function Xt(i){const s=Mt;return Mt=i,s}function qn(i,s,o){const u=wt(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Fe.Optional?null:void 0!==s?s:void ge(_t(i))}const nn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),hn={},Vr="__NG_DI_FLAG__",Ur="ngTempTokenPath",gi="ngTokenPath",Yn=/\n/gm,Lt="\u0275",Er="__source";let Zn;function fn(i){const s=Zn;return Zn=i,s}function Kr(i,s=Fe.Default){if(void 0===Zn)throw new re(-203,!1);return null===Zn?qn(i,void 0,s):Zn.get(i,s&Fe.Optional?null:void 0,s)}function Y(i,s=Fe.Default){return(function Rn(){return Mt}()||Kr)(rt(i),s)}function se(i,s=Fe.Default){return Y(i,Me(s))}function Me(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function he(i){const s=[];for(let o=0;o<i.length;o++){const u=rt(i[o]);if(Array.isArray(u)){if(0===u.length)throw new re(900,!1);let l,h=Fe.Default;for(let p=0;p<u.length;p++){const w=u[p],b=ie(w);"number"==typeof b?-1===b?l=w.token:h|=b:l=w}s.push(Y(l,h))}else s.push(Y(u))}return s}function pt(i,s){return i[Vr]=s,i.prototype[Vr]=s,i}function ie(i){return i[Vr]}function le(i){return{toString:i}.toString()}var be=(()=>((be=be||{})[be.OnPush=0]="OnPush",be[be.Default=1]="Default",be))(),Be=(()=>{return(i=Be||(Be={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Be;var i})();const St={},Tt=[],Pn=Ee({\u0275cmp:Ee}),yr=Ee({\u0275dir:Ee}),De=Ee({\u0275pipe:Ee}),pe=Ee({\u0275mod:Ee}),$e=Ee({\u0275fac:Ee}),Et=Ee({__NG_ELEMENT_ID__:Ee});let $t=0;function Kt(i){return le(()=>{const s=ms(i),o={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===be.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||Be.Emulated,id:"c"+$t++,styles:i.styles||Tt,_:null,schemas:i.schemas||null,tView:null};Gi(o);const u=i.dependencies;return o.directiveDefs=to(u,!1),o.pipeDefs=to(u,!0),o})}function Qn(i){return dn(i)||Hn(i)}function In(i){return null!==i}function Br(i){return le(()=>({type:i.type,bootstrap:i.bootstrap||Tt,declarations:i.declarations||Tt,imports:i.imports||Tt,exports:i.exports||Tt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Js(i,s){if(null==i)return St;const o={};for(const u in i)if(i.hasOwnProperty(u)){let l=i[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,s&&(s[l]=h)}return o}function Xs(i){return le(()=>{const s=ms(i);return Gi(s),s})}function eo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function dn(i){return i[Pn]||null}function Hn(i){return i[yr]||null}function Jn(i){return i[De]||null}function ji(i){const s=dn(i)||Hn(i)||Jn(i);return null!==s&&s.standalone}function Xn(i,s){const o=i[pe]||null;if(!o&&!0===s)throw new Error(`Type ${_t(i)} does not have '\u0275mod' property.`);return o}function ms(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||Tt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Js(i.inputs,s),outputs:Js(i.outputs)}}function Gi(i){i.features?.forEach(s=>s(i))}function to(i,s){if(!i)return null;const o=s?Jn:Qn;return()=>("function"==typeof i?i():i).map(u=>o(u)).filter(In)}const Dn=0,yt=1,Yt=2,kn=3,er=4,ei=5,tr=6,is=7,Fn=8,ta=9,xi=10,Vt=11,Co=12,jn=13,na=14,sr=15,or=16,Hi=17,zi=18,$r=19,Os=20,no=21,wn=22,ro=1,io=2,To=7,so=8,ys=9,Mr=10;function jr(i){return Array.isArray(i)&&"object"==typeof i[ro]}function ti(i){return Array.isArray(i)&&!0===i[ro]}function oi(i){return 0!=(4&i.flags)}function ss(i){return i.componentOffset>-1}function Wi(i){return 1==(1&i.flags)}function Ir(i){return!!i.template}function mi(i){return 0!=(256&i[Yt])}function qi(i,s){return i.hasOwnProperty($e)?i[$e]:null}class Ls{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function as(){return us}function us(i){return i.type.prototype.ngOnChanges&&(i.setInput=vi),co}function co(){const i=xr(this),s=i?.current;if(s){const o=i.previous;if(o===St)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function vi(i,s,o,u){const l=this.declaredInputs[o],h=xr(i)||function Is(i,s){return i[lo]=s}(i,{previous:St,current:null}),p=h.current||(h.current={}),w=h.previous,b=w[l];p[l]=new Ls(b&&b.currentValue,s,w===St),i[u]=s}as.ngInherit=!0;const lo="__ngSimpleChanges__";function xr(i){return i[lo]||null}const Yr=function(i,s,o){};function ar(i){for(;Array.isArray(i);)i=i[Dn];return i}function ho(i,s){return ar(s[i])}function ni(i,s){return ar(s[i.index])}function Rr(i,s){return i.data[s]}function cr(i,s){const o=s[i];return jr(o)?o:o[Dn]}function fo(i){return 64==(64&i[Yt])}function ai(i,s){return null==s?null:i[s]}function Ja(i){i[zi]=0}function Po(i,s){i[ei]+=s;let o=i,u=i[kn];for(;null!==u&&(1===s&&1===o[ei]||-1===s&&0===o[ei]);)u[ei]+=s,o=u,u=u[kn]}const Wt={lFrame:Fo(null),bindingsEnabled:!0};function At(){return Wt.bindingsEnabled}function Oe(){return Wt.lFrame.lView}function un(){return Wt.lFrame.tView}function Us(i){return Wt.lFrame.contextLView=i,i[Fn]}function Ki(i){return Wt.lFrame.contextLView=null,i}function nr(){let i=sa();for(;null!==i&&64===i.type;)i=i.parent;return i}function sa(){return Wt.lFrame.currentTNode}function lr(i,s){const o=Wt.lFrame;o.currentTNode=i,o.isParent=s}function No(){return Wt.lFrame.isParent}function Oo(){return Wt.lFrame.bindingIndex++}function Bs(i){const s=Wt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function ua(i,s){const o=Wt.lFrame;o.bindingIndex=o.bindingRootIndex=i,Cs(s)}function Cs(i){Wt.lFrame.currentDirectiveIndex=i}function Sa(){return Wt.lFrame.currentQueryIndex}function vc(i){Wt.lFrame.currentQueryIndex=i}function nu(i){const s=i[yt];return 2===s.type?s.declTNode:1===s.type?i[tr]:null}function ko(i,s,o){if(o&Fe.SkipSelf){let l=s,h=i;for(;!(l=l.parent,null!==l||o&Fe.Host||(l=nu(h),null===l||(h=h[sr],10&l.type))););if(null===l)return!1;s=l,i=h}const u=Wt.lFrame=Aa();return u.currentTNode=s,u.lView=i,!0}function po(i){const s=Aa(),o=i[yt];Wt.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Aa(){const i=Wt.lFrame,s=null===i?null:i.child;return null===s?Fo(i):s}function Fo(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ca(){const i=Wt.lFrame;return Wt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Tu=ca;function bs(){const i=ca();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Zr(){return Wt.lFrame.selectedIndex}function Lo(i){Wt.lFrame.selectedIndex=i}function ur(){const i=Wt.lFrame;return Rr(i.tView,i.selectedIndex)}function _e(i,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:N,ngOnDestroy:V}=h;p&&(i.contentHooks??(i.contentHooks=[])).push(-o,p),w&&((i.contentHooks??(i.contentHooks=[])).push(o,w),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(o,w)),b&&(i.viewHooks??(i.viewHooks=[])).push(-o,b),N&&((i.viewHooks??(i.viewHooks=[])).push(o,N),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(o,N)),null!=V&&(i.destroyHooks??(i.destroyHooks=[])).push(o,V)}}function Pe(i,s,o){An(i,s,3,o)}function bt(i,s,o,u){(3&i[Yt])===o&&An(i,s,o,u)}function Sn(i,s){let o=i[Yt];(3&o)===s&&(o&=2047,o+=1,i[Yt]=o)}function An(i,s,o,u){const h=u??-1,p=s.length-1;let w=0;for(let b=void 0!==u?65535&i[zi]:0;b<p;b++)if("number"==typeof s[b+1]){if(w=s[b],null!=u&&w>=u)break}else s[b]<0&&(i[zi]+=65536),(w<h||-1==h)&&(Cn(i,o,s,b),i[zi]=(4294901760&i[zi])+b+2),b++}function Cn(i,s,o,u){const l=o[u]<0,h=o[u+1],w=i[l?-o[u]:o[u]];if(l){if(i[Yt]>>11<i[zi]>>16&&(3&i[Yt])===s){i[Yt]+=2048,Yr(4,w,h);try{h.call(w)}finally{Yr(5,w,h)}}}else{Yr(4,w,h);try{h.call(w)}finally{Yr(5,w,h)}}}const Zt=-1;class Vn{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Zi(i,s,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],p=o[u++],w=o[u++];i.setAttribute(s,p,w,h)}else{const h=l,p=o[++u];il(h)?i.setProperty(s,h,p):i.setAttribute(s,h,p),u++}}return u}function Ma(i){return 3===i||4===i||6===i}function il(i){return 64===i.charCodeAt(0)}function ls(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const l=s[u];"number"==typeof l?o=l:0===o||iu(i,o,l,null,-1===o||2===o?s[++u]:null)}}return i}function iu(i,s,o,u,l){let h=0,p=i.length;if(-1===s)p=-1;else for(;h<i.length;){const w=i[h++];if("number"==typeof w){if(w===s){p=-1;break}if(w>s){p=h-1;break}}}for(;h<i.length;){const w=i[h];if("number"==typeof w)break;if(w===o){if(null===u)return void(null!==l&&(i[h+1]=l));if(u===i[h+1])return void(i[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==p&&(i.splice(p,0,s),h=p+1),i.splice(h++,0,o),null!==u&&i.splice(h++,0,u),null!==l&&i.splice(h++,0,l)}function yd(i){return i!==Zt}function xa(i){return 32767&i}function su(i,s){let o=function _c(i){return i>>16}(i),u=s;for(;o>0;)u=u[sr],o--;return u}let wc=!0;function Ra(i){const s=wc;return wc=i,s}const If=255,Au=5;let Ec=0;const yo={};function Mu(i,s){const o=Pr(i,s);if(-1!==o)return o;const u=s[yt];u.firstCreatePass&&(i.injectorIndex=s.length,Pa(u.data,i),Pa(s,null),Pa(u.blueprint,null));const l=ou(i,s),h=i.injectorIndex;if(yd(l)){const p=xa(l),w=su(l,s),b=w[yt].data;for(let N=0;N<8;N++)s[h+N]=w[p+N]|b[p+N]}return s[h+8]=l,h}function Pa(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Pr(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ou(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,l=s;for(;null!==l;){if(u=bf(l),null===u)return Zt;if(o++,l=l[sr],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Zt}function ui(i,s,o){!function dr(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Et)&&(u=o[Et]),null==u&&(u=o[Et]=Ec++);const l=u&If;s.data[i+(l>>Au)]|=1<<l}(i,s,o)}function xu(i,s,o){if(o&Fe.Optional||void 0!==i)return i;ge()}function Oi(i,s,o,u){if(o&Fe.Optional&&void 0===u&&(u=null),!(o&(Fe.Self|Fe.Host))){const l=i[ta],h=Xt(void 0);try{return l?l.get(s,u,o&Fe.Optional):qn(s,u,o&Fe.Optional)}finally{Xt(h)}}return xu(u,0,o)}function au(i,s,o,u=Fe.Default,l){if(null!==i){if(1024&s[Yt]){const p=function Oa(i,s,o,u,l){let h=i,p=s;for(;null!==h&&null!==p&&1024&p[Yt]&&!(256&p[Yt]);){const w=Na(h,p,o,u|Fe.Self,yo);if(w!==yo)return w;let b=h.parent;if(!b){const N=p[no];if(N){const V=N.get(o,yo,u);if(V!==yo)return V}b=bf(p),p=p[sr]}h=b}return l}(i,s,o,u,yo);if(p!==yo)return p}const h=Na(i,s,o,u,yo);if(h!==yo)return h}return Oi(s,o,u,l)}function Na(i,s,o,u,l){const h=function sl(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Et)?i[Et]:void 0;return"number"==typeof s?s>=0?s&If:Nu:s}(o);if("function"==typeof h){if(!ko(s,i,u))return u&Fe.Host?xu(l,0,u):Oi(s,o,u,l);try{const p=h(u);if(null!=p||u&Fe.Optional)return p;ge()}finally{Tu()}}else if("number"==typeof h){let p=null,w=Pr(i,s),b=Zt,N=u&Fe.Host?s[or][tr]:null;for((-1===w||u&Fe.SkipSelf)&&(b=-1===w?ou(i,s):s[w+8],b!==Zt&&Pu(u,!1)?(p=s[yt],w=xa(b),s=su(b,s)):w=-1);-1!==w;){const V=s[yt];if(Cf(h,w,V.data)){const z=Ru(w,s,o,p,u,N);if(z!==yo)return z}b=s[w+8],b!==Zt&&Pu(u,s[yt].data[w+8]===N)&&Cf(h,w,s)?(p=V,w=xa(b),s=su(b,s)):w=-1}}return l}function Ru(i,s,o,u,l,h){const p=s[yt],w=p.data[i+8],V=Uo(w,p,o,null==u?ss(w)&&wc:u!=p&&0!=(3&w.type),l&Fe.Host&&h===w);return null!==V?Bo(s,p,V,w):yo}function Uo(i,s,o,u,l){const h=i.providerIndexes,p=s.data,w=1048575&h,b=i.directiveStart,V=h>>20,ne=l?w+V:i.directiveEnd;for(let fe=u?w:w+V;fe<ne;fe++){const Ne=p[fe];if(fe<b&&o===Ne||fe>=b&&Ne.type===o)return fe}if(l){const fe=p[b];if(fe&&Ir(fe)&&fe.type===o)return b}return null}function Bo(i,s,o,u){let l=i[o];const h=s.data;if(function yn(i){return i instanceof Vn}(l)){const p=l;p.resolving&&function lt(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new re(-200,`Circular dependency in DI detected for ${i}${o}`)}(function Ke(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ye(i)}(h[o]));const w=Ra(p.canSeeViewProviders);p.resolving=!0;const b=p.injectImpl?Xt(p.injectImpl):null;ko(i,u,Fe.Default);try{l=i[o]=p.factory(void 0,h,i,u),s.firstCreatePass&&o>=u.directiveStart&&function Z(i,s,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=s.type.prototype;if(u){const p=us(s);(o.preOrderHooks??(o.preOrderHooks=[])).push(i,p),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(i,p)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-i,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],s)}finally{null!==b&&Xt(b),Ra(w),p.resolving=!1,Tu()}}return l}function Cf(i,s,o){return!!(o[s+(i>>Au)]&1<<i)}function Pu(i,s){return!(i&Fe.Self||i&Fe.Host&&s)}class la{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return au(this._tNode,this._lView,s,Me(u),o)}}function Nu(){return new la(nr(),Oe())}function Qi(i){return le(()=>{const s=i.prototype.constructor,o=s[$e]||ol(s),u=Object.prototype;let l=Object.getPrototypeOf(i.prototype).constructor;for(;l&&l!==u;){const h=l[$e]||ol(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function ol(i){return ze(i)?()=>{const s=ol(rt(i));return s&&s()}:qi(i)}function bf(i){const s=i[yt],o=s.type;return 2===o?s.declTNode:1===o?i[tr]:null}function Ou(i){return function Df(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(Ma(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===s)return o[l+1];l+=2}}}return null}(nr(),i)}const $o="__parameters__";function js(i,s,o){return le(()=>{const u=function ku(i){return function(...o){if(i){const u=i(...o);for(const l in u)this[l]=u[l]}}}(s);function l(...h){if(this instanceof l)return u.apply(this,h),this;const p=new l(...h);return w.annotation=p,w;function w(b,N,V){const z=b.hasOwnProperty($o)?b[$o]:Object.defineProperty(b,$o,{value:[]})[$o];for(;z.length<=V;)z.push(null);return(z[V]=z[V]||[]).push(p),b}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=i,l.annotationCls=l,l})}class Gn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=On({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ka(i,s){i.forEach(o=>Array.isArray(o)?ka(o,s):s(o))}function Fa(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function La(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function f(i,s,o){let u=M(i,s);return u>=0?i[1|u]=o:(u=~u,function g(i,s,o,u){let l=i.length;if(l==s)i.push(o,u);else if(1===l)i.push(u,i[0]),i[0]=o;else{for(l--,i.push(i[l-1],i[l]);l>s;)i[l]=i[l-2],l--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function E(i,s){const o=M(i,s);if(o>=0)return i[1|o]}function M(i,s){return function B(i,s,o){let u=0,l=i.length>>o;for(;l!==u;){const h=u+(l-u>>1),p=i[h<<o];if(s===p)return h<<o;p>s?l=h:u=h+1}return~(l<<o)}(i,s,1)}const ri=pt(js("Optional"),8),Va=pt(js("SkipSelf"),4);var Ho=(()=>((Ho=Ho||{})[Ho.Important=1]="Important",Ho[Ho.DashCase=2]="DashCase",Ho))();const zf=new Map;let Rd=0;const ae="__ngContext__";function we(i,s){jr(s)?(i[ae]=s[Os],function Qg(i){zf.set(i[Os],i)}(s)):i[ae]=s}let Ws;function Tc(i,s){return Ws(i,s)}function ml(i){const s=i[kn];return ti(s)?s[kn]:s}function Jg(i){return e_(i[jn])}function Xg(i){return e_(i[er])}function e_(i){for(;null!==i&&!ti(i);)i=i[er];return i}function yl(i,s,o,u,l){if(null!=u){let h,p=!1;ti(u)?h=u:jr(u)&&(p=!0,u=u[Dn]);const w=ar(u);0===i&&null!==o?null==l?RE(s,o,w):vl(s,o,w,l||null,!0):1===i&&null!==o?vl(s,o,w,l||null,!0):2===i?function u_(i,s,o){const u=nm(i,s);u&&function zC(i,s,o,u){i.removeChild(s,o,u)}(i,u,s,o)}(s,w,p):3===i&&s.destroyNode(w),null!=h&&function KC(i,s,o,u,l){const h=o[To];h!==ar(o)&&yl(s,i,u,h,l);for(let w=Mr;w<o.length;w++){const b=o[w];Zf(b[yt],b,i,s,u,h)}}(s,i,h,o,l)}}function Yf(i,s,o){return i.createElement(s,o)}function AE(i,s){const o=i[ys],u=o.indexOf(s),l=s[kn];512&s[Yt]&&(s[Yt]&=-513,Po(l,-1)),o.splice(u,1)}function r_(i,s){if(i.length<=Mr)return;const o=Mr+s,u=i[o];if(u){const l=u[Hi];null!==l&&l!==i&&AE(l,u),s>0&&(i[o-1][er]=u[er]);const h=La(i,Mr+s);!function em(i,s){Zf(i,s,s[Vt],2,null,null),s[Dn]=null,s[tr]=null}(u[yt],u);const p=h[$r];null!==p&&p.detachView(h[yt]),u[kn]=null,u[er]=null,u[Yt]&=-65}return u}function i_(i,s){if(!(128&s[Yt])){const o=s[Vt];o.destroyNode&&Zf(i,s,o,3,null,null),function tm(i){let s=i[jn];if(!s)return s_(i[yt],i);for(;s;){let o=null;if(jr(s))o=s[jn];else{const u=s[Mr];u&&(o=u)}if(!o){for(;s&&!s[er]&&s!==i;)jr(s)&&s_(s[yt],s),s=s[kn];null===s&&(s=i),jr(s)&&s_(s[yt],s),o=s&&s[er]}s=o}}(s)}}function s_(i,s){if(!(128&s[Yt])){s[Yt]&=-65,s[Yt]|=128,function HC(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const l=s[o[u]];if(!(l instanceof Vn)){const h=o[u+1];if(Array.isArray(h))for(let p=0;p<h.length;p+=2){const w=l[h[p]],b=h[p+1];Yr(4,w,b);try{b.call(w)}finally{Yr(5,w,b)}}else{Yr(4,l,h);try{h.call(l)}finally{Yr(5,l,h)}}}}}(i,s),function GC(i,s){const o=i.cleanup,u=s[is];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const p=o[h+3];p>=0?u[l=p]():u[l=-p].unsubscribe(),h+=2}else{const p=u[l=o[h+1]];o[h].call(p)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();s[is]=null}}(i,s),1===s[yt].type&&s[Vt].destroy();const o=s[Hi];if(null!==o&&ti(s[kn])){o!==s[kn]&&AE(o,s);const u=s[$r];null!==u&&u.detachView(i)}!function v(i){zf.delete(i[Os])}(s)}}function ME(i,s,o){return function xE(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[Dn];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=i.data[u.directiveStart+l];if(h===Be.None||h===Be.Emulated)return null}return ni(u,o)}}(i,s.parent,o)}function vl(i,s,o,u,l){i.insertBefore(s,o,u,l)}function RE(i,s,o){i.appendChild(s,o)}function PE(i,s,o,u,l){null!==u?vl(i,s,o,u,l):RE(i,s,o)}function nm(i,s){return i.parentNode(s)}let o_,d_,om,kE=function OE(i,s,o){return 40&i.type?ni(i,o):null};function rm(i,s,o,u){const l=ME(i,u,s),h=s[Vt],w=function NE(i,s,o){return kE(i,s,o)}(u.parent||s[tr],u,s);if(null!=l)if(Array.isArray(o))for(let b=0;b<o.length;b++)PE(h,l,o[b],w,!1);else PE(h,l,o,w,!1);void 0!==o_&&o_(h,u,s,o,l)}function im(i,s){if(null!==s){const o=s.type;if(3&o)return ni(s,i);if(4&o)return a_(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return im(i,u);{const l=i[s.index];return ti(l)?a_(-1,l):ar(l)}}if(32&o)return Tc(s,i)()||ar(i[s.index]);{const u=LE(i,s);return null!==u?Array.isArray(u)?u[0]:im(ml(i[or]),u):im(i,s.next)}}return null}function LE(i,s){return null!==s?i[or][tr].projection[s.projection]:null}function a_(i,s){const o=Mr+i+1;if(o<s.length){const u=s[o],l=u[yt].firstChild;if(null!==l)return im(u,l)}return s[To]}function c_(i,s,o,u,l,h,p){for(;null!=o;){const w=u[o.index],b=o.type;if(p&&0===s&&(w&&we(ar(w),u),o.flags|=2),32!=(32&o.flags))if(8&b)c_(i,s,o.child,u,l,h,!1),yl(s,i,l,w,h);else if(32&b){const N=Tc(o,u);let V;for(;V=N();)yl(s,i,l,V,h);yl(s,i,l,w,h)}else 16&b?VE(i,s,u,o,l,h):yl(s,i,l,w,h);o=p?o.projectionNext:o.next}}function Zf(i,s,o,u,l,h){c_(o,u,i.firstChild,s,l,h,!1)}function VE(i,s,o,u,l,h){const p=o[or],b=p[tr].projection[u.projection];if(Array.isArray(b))for(let N=0;N<b.length;N++)yl(s,i,l,b[N],h);else c_(i,s,b,p[kn],l,h,!0)}function UE(i,s,o){""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o)}function BE(i,s,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&Zi(i,s,u),null!==l&&UE(i,s,l),null!==h&&function ZC(i,s,o){i.setAttribute(s,"style",o)}(i,s,h)}function eb(i){d_=i}function HE(i){return function h_(){if(void 0===om&&(om=null,nn.trustedTypes))try{om=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return om}()?.createScriptURL(i)||i}class zE{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}function Sc(i){return i instanceof zE?i.changingThisBreaksApplicationSecurity:i}function Qf(i,s){const o=function ob(i){return i instanceof zE&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${ft})`)}return o===s}const YE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var li=(()=>((li=li||{})[li.NONE=0]="NONE",li[li.HTML=1]="HTML",li[li.STYLE=2]="STYLE",li[li.SCRIPT=3]="SCRIPT",li[li.URL=4]="URL",li[li.RESOURCE_URL=5]="RESOURCE_URL",li))();function Ld(i){const s=Mc();return s?s.sanitize(li.URL,i)||"":Qf(i,"URL")?Sc(i):function Jf(i){return(i=String(i)).match(YE)?i:"unsafe:"+i}(ye(i))}function dm(i){const s=Mc();if(s)return HE(s.sanitize(li.RESOURCE_URL,i)||"");if(Qf(i,"ResourceURL"))return HE(Sc(i));throw new re(904,!1)}function Xf(i,s,o){return function eI(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?dm:Ld}(s,o)(i)}function Mc(){const i=Oe();return i&&i[Co]}const Ud=new Gn("ENVIRONMENT_INITIALIZER"),ep=new Gn("INJECTOR",-1),tp=new Gn("INJECTOR_DEF_TYPES");class b_{get(s,o=hn){if(o===hn){const u=new Error(`NullInjectorError: No provider for ${_t(s)}!`);throw u.name="NullInjectorError",u}return o}}function tI(...i){return{\u0275providers:Bd(0,i),\u0275fromNgModule:!0}}function Bd(i,...s){const o=[],u=new Set;let l;return ka(s,h=>{const p=h;fm(p,o,[],u)&&(l||(l=[]),l.push(p))}),void 0!==l&&np(l,o),o}function np(i,s){for(let o=0;o<i.length;o++){const{providers:l}=i[o];$d(l,h=>{s.push(h)})}}function fm(i,s,o,u){if(!(i=rt(i)))return!1;let l=null,h=Ai(i);const p=!h&&dn(i);if(h||p){if(p&&!p.standalone)return!1;l=i}else{const b=i.ngModule;if(h=Ai(b),!h)return!1;l=b}const w=u.has(l);if(p){if(w)return!1;if(u.add(l),p.dependencies){const b="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const N of b)fm(N,s,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!w){let N;u.add(l);try{ka(h.imports,V=>{fm(V,s,o,u)&&(N||(N=[]),N.push(V))})}finally{}void 0!==N&&np(N,s)}if(!w){const N=qi(l)||(()=>new l);s.push({provide:l,useFactory:N,deps:Tt},{provide:tp,useValue:l,multi:!0},{provide:Ud,useValue:()=>Y(l),multi:!0})}const b=h.providers;null==b||w||$d(b,V=>{s.push(V)})}}return l!==i&&void 0!==i.providers}function $d(i,s){for(let o of i)He(o)&&(o=o.\u0275providers),Array.isArray(o)?$d(o,s):s(o)}const pm=Ee({provide:String,useValue:Ee});function rp(i){return null!==i&&"object"==typeof i&&pm in i}function Wo(i){return"function"==typeof i}const mm=new Gn("Set Injector scope."),ip={},nI={};let ym;function sp(){return void 0===ym&&(ym=new b_),ym}class xc{}class M_ extends xc{get destroyed(){return this._destroyed}constructor(s,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Em(s,p=>this.processProvider(p)),this.records.set(ep,Rc(void 0,this)),l.has("environment")&&this.records.set(xc,Rc(void 0,this));const h=this.records.get(mm);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(tp.multi,Tt,Fe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=fn(this),u=Xt(void 0);try{return s()}finally{fn(o),Xt(u)}}get(s,o=hn,u=Fe.Default){this.assertNotDestroyed(),u=Me(u);const l=fn(this),h=Xt(void 0);try{if(!(u&Fe.SkipSelf)){let w=this.records.get(s);if(void 0===w){const b=function sI(i){return"function"==typeof i||"object"==typeof i&&i instanceof Gn}(s)&&wt(s);w=b&&this.injectableDefInScope(b)?Rc(vm(s),ip):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(u&Fe.Self?sp():this.parent).get(s,o=u&Fe.Optional&&o===hn?null:o)}catch(p){if("NullInjectorError"===p.name){if((p[Ur]=p[Ur]||[]).unshift(_t(s)),l)throw p;return function J(i,s,o,u){const l=i[Ur];throw s[Er]&&l.unshift(s[Er]),i.message=function q(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==Lt?i.slice(2):i;let l=_t(s);if(Array.isArray(s))l=s.map(_t).join(" -> ");else if("object"==typeof s){let h=[];for(let p in s)if(s.hasOwnProperty(p)){let w=s[p];h.push(p+":"+("string"==typeof w?JSON.stringify(w):_t(w)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${i.replace(Yn,"\n  ")}`}("\n"+i.message,l,o,u),i[gi]=l,i[Ur]=null,i}(p,s,"R3InjectorError",this.source)}throw p}finally{Xt(h),fn(l)}}resolveInjectorInitializers(){const s=fn(this),o=Xt(void 0);try{const u=this.get(Ud.multi,Tt,Fe.Self);for(const l of u)l()}finally{fn(s),Xt(o)}}toString(){const s=[],o=this.records;for(const u of o.keys())s.push(_t(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(s){let o=Wo(s=rt(s))?s:rt(s&&s.provide);const u=function op(i){return rp(i)?Rc(void 0,i.useValue):Rc(_m(i),ip)}(s);if(Wo(s)||!0!==s.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Rc(void 0,ip,!0),l.factory=()=>he(l.multi),this.records.set(o,l)),o=s,l.multi.push(s)}this.records.set(o,u)}hydrate(s,o){return o.value===ip&&(o.value=nI,o.value=o.factory()),"object"==typeof o.value&&o.value&&function iI(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=rt(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function vm(i){const s=wt(i),o=null!==s?s.factory:qi(i);if(null!==o)return o;if(i instanceof Gn)throw new re(204,!1);if(i instanceof Function)return function rI(i){const s=i.length;if(s>0)throw function Gs(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}(s,"?"),new re(204,!1);const o=function gr(i){return i&&(i[wr]||i[Lr])||null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new re(204,!1)}function _m(i,s,o){let u;if(Wo(i)){const l=rt(i);return qi(l)||vm(l)}if(rp(i))u=()=>rt(i.useValue);else if(function gm(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...he(i.deps||[]));else if(function S_(i){return!(!i||!i.useExisting)}(i))u=()=>Y(rt(i.useExisting));else{const l=rt(i&&(i.useClass||i.provide));if(!function wm(i){return!!i.deps}(i))return qi(l)||vm(l);u=()=>new l(...he(i.deps))}return u}function Rc(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function Em(i,s){for(const o of i)Array.isArray(o)?Em(o,s):o&&He(o)?Em(o.\u0275providers,s):s(o)}class x_{}class Im{}class hb{resolveComponentFactory(s){throw function R_(i){const s=Error(`No component factory found for ${_t(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let jd=(()=>{class i{}return i.NULL=new hb,i})();function fb(){return Gd(nr(),Oe())}function Gd(i,s){return new Pc(ni(i,s))}let Pc=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=fb,i})();function pb(i){return i instanceof Pc?i.nativeElement:i}class aI{}let uI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function P_(){const i=Oe(),o=cr(nr().index,i);return(jr(o)?o:i)[Vt]}(),i})(),cI=(()=>{class i{}return i.\u0275prov=On({token:i,providedIn:"root",factory:()=>null}),i})();class Cm{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ap=new Cm("15.2.9"),up={},N_="ngOriginalError";function O_(i){return i[N_]}class Hd{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&O_(s);for(;o&&O_(o);)o=O_(o);return o||null}}function Uu(i){return i instanceof Function?i():i}function sn(i,s,o){let u=i.length;for(;;){const l=i.indexOf(s,o);if(-1===l)return l;if(0===l||i.charCodeAt(l-1)<=32){const h=s.length;if(l+h===u||i.charCodeAt(l+h)<=32)return l}o=l+1}}const Wd="ng-template";function cp(i,s,o){let u=0,l=!0;for(;u<i.length;){let h=i[u++];if("string"==typeof h&&l){const p=i[u++];if(o&&"class"===h&&-1!==sn(p.toLowerCase(),s,0))return!0}else{if(1===h){for(;u<i.length&&"string"==typeof(h=i[u++]);)if(h.toLowerCase()===s)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function El(i){return 4===i.type&&i.value!==Wd}function fI(i,s,o){return s===(4!==i.type||o?i.value:Wd)}function Tm(i,s,o){let u=4;const l=i.attrs||[],h=function lp(i){for(let s=0;s<i.length;s++)if(Ma(i[s]))return s;return i.length}(l);let p=!1;for(let w=0;w<s.length;w++){const b=s[w];if("number"!=typeof b){if(!p)if(4&u){if(u=2|1&u,""!==b&&!fI(i,b,o)||""===b&&1===s.length){if(da(u))return!1;p=!0}}else{const N=8&u?b:s[++w];if(8&u&&null!==i.attrs){if(!cp(i.attrs,N,o)){if(da(u))return!1;p=!0}continue}const z=pI(8&u?"class":b,l,El(i),o);if(-1===z){if(da(u))return!1;p=!0;continue}if(""!==N){let ne;ne=z>h?"":l[z+1].toLowerCase();const fe=8&u?ne:null;if(fe&&-1!==sn(fe,N,0)||2&u&&N!==ne){if(da(u))return!1;p=!0}}}}else{if(!p&&!da(u)&&!da(b))return!1;if(p&&da(b))continue;p=!1,u=b|1&u}}return da(u)||p}function da(i){return 0==(1&i)}function pI(i,s,o,u){if(null===s)return-1;let l=0;if(u||!o){let h=!1;for(;l<s.length;){const p=s[l];if(p===i)return l;if(3===p||6===p)h=!0;else{if(1===p||2===p){let w=s[++l];for(;"string"==typeof w;)w=s[++l];continue}if(4===p)break;if(0===p){l+=4;continue}}l+=h?1:2}return-1}return function Fi(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function F_(i,s,o=!1){for(let u=0;u<s.length;u++)if(Tm(i,s[u],o))return!0;return!1}function L_(i,s){return i?":not("+s.trim()+")":s}function V_(i){let s=i[0],o=1,u=2,l="",h=!1;for(;o<i.length;){let p=i[o];if("string"==typeof p)if(2&u){const w=i[++o];l+="["+p+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?l+="."+p:4&u&&(l+=" "+p);else""!==l&&!da(p)&&(s+=L_(h,l),l=""),u=p,h=h||!da(u);o++}return""!==l&&(s+=L_(h,l)),s}const jt={};function B_(i){qd(un(),Oe(),Zr()+i,!1)}function qd(i,s,o,u){if(!u)if(3==(3&s[Yt])){const h=i.preOrderCheckHooks;null!==h&&Pe(s,h,o)}else{const h=i.preOrderHooks;null!==h&&bt(s,h,0,o)}Lo(o)}function hp(i,s=null,o=null,u){const l=Pm(i,s,o,u);return l.resolveInjectorInitializers(),l}function Pm(i,s=null,o=null,u,l=new Set){const h=[o||Tt,tI(i)];return u=u||("object"==typeof i?void 0:_t(i)),new M_(h,s||sp(),u||null,l)}let Nc=(()=>{class i{static create(o,u){if(Array.isArray(o))return hp({name:""},u,o,"");{const l=o.name??"";return hp({name:l},o.parent,o.providers,l)}}}return i.THROW_IF_NOT_FOUND=hn,i.NULL=new b_,i.\u0275prov=On({token:i,providedIn:"any",factory:()=>Y(ep)}),i.__NG_ELEMENT_ID__=-1,i})();function Oc(i,s=Fe.Default){const o=Oe();return null===o?Y(i,s):au(nr(),o,rt(i),s)}function Y_(){throw new Error("invalid")}function Ep(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const p=i.data[h];vc(o[u]),p.contentQueries(2,s[h],h)}}}function di(i,s,o,u,l,h,p,w,b,N,V){const z=s.blueprint.slice();return z[Dn]=l,z[Yt]=76|u,(null!==V||i&&1024&i[Yt])&&(z[Yt]|=1024),Ja(z),z[kn]=z[sr]=i,z[Fn]=o,z[xi]=p||i&&i[xi],z[Vt]=w||i&&i[Vt],z[Co]=b||i&&i[Co]||null,z[ta]=N||i&&i[ta]||null,z[tr]=h,z[Os]=function Zg(){return Rd++}(),z[no]=V,z[or]=2==s.type?i[or]:z,z}function pu(i,s,o,u,l){let h=i.data[s];if(null===h)h=function Qd(i,s,o,u,l){const h=sa(),p=No(),b=i.data[s]=function Gm(i,s,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?h:h&&h.parent,o,s,u,l);return null===i.firstChild&&(i.firstChild=b),null!==h&&(p?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b,b.prev=h)),b}(i,s,o,u,l),function ba(){return Wt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const p=function _i(){const i=Wt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===p?-1:p.injectorIndex}return lr(h,!0),h}function Jd(i,s,o,u){if(0===o)return-1;const l=s.length;for(let h=0;h<o;h++)s.push(u),i.blueprint.push(u),i.data.push(null);return l}function $m(i,s,o){po(s);try{const u=i.viewQuery;null!==u&&lh(1,u,o);const l=i.template;null!==l&&Z_(i,s,l,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ep(i,s),i.staticViewQueries&&lh(2,i.viewQuery,o);const h=i.components;null!==h&&function Li(i,s){for(let o=0;o<s.length;o++)Sp(i,s[o])}(s,h)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[Yt]&=-5,bs()}}function Xd(i,s,o,u){const l=s[Yt];if(128!=(128&l)){po(s);try{Ja(s),function aa(i){return Wt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Z_(i,s,o,2,u);const p=3==(3&l);if(p){const N=i.preOrderCheckHooks;null!==N&&Pe(s,N,null)}else{const N=i.preOrderHooks;null!==N&&bt(s,N,0,null),Sn(s,0)}if(function Ym(i){for(let s=Jg(i);null!==s;s=Xg(s)){if(!s[io])continue;const o=s[ys];for(let u=0;u<o.length;u++){const l=o[u];512&l[Yt]||Po(l[kn],1),l[Yt]|=512}}}(s),function oh(i){for(let s=Jg(i);null!==s;s=Xg(s))for(let o=Mr;o<s.length;o++){const u=s[o],l=u[yt];fo(u)&&Xd(l,u,l.template,u[Fn])}}(s),null!==i.contentQueries&&Ep(i,s),p){const N=i.contentCheckHooks;null!==N&&Pe(s,N)}else{const N=i.contentHooks;null!==N&&bt(s,N,1),Sn(s,1)}!function Um(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Lo(~l);else{const h=l,p=o[++u],w=o[++u];ua(p,h),w(2,s[h])}}}finally{Lo(-1)}}(i,s);const w=i.components;null!==w&&function Bm(i,s){for(let o=0;o<s.length;o++)Zm(i,s[o])}(s,w);const b=i.viewQuery;if(null!==b&&lh(2,b,u),p){const N=i.viewCheckHooks;null!==N&&Pe(s,N)}else{const N=i.viewHooks;null!==N&&bt(s,N,2),Sn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Yt]&=-41,512&s[Yt]&&(s[Yt]&=-513,Po(s[kn],-1))}finally{bs()}}}function Z_(i,s,o,u,l){const h=Zr(),p=2&u;try{Lo(-1),p&&s.length>wn&&qd(i,s,wn,!1),Yr(p?2:0,l),o(u,l)}finally{Lo(h),Yr(p?3:1,l)}}function jm(i,s,o){if(oi(s)){const l=s.directiveEnd;for(let h=s.directiveStart;h<l;h++){const p=i.data[h];p.contentQueries&&p.contentQueries(1,o[h],h)}}}function Ip(i,s,o){At()&&(function wI(i,s,o,u){const l=o.directiveStart,h=o.directiveEnd;ss(o)&&function sh(i,s,o){const u=ni(s,i),l=Q_(o),h=i[xi],p=ch(i,di(i,l,null,o.onPush?32:16,u,s,h,h.createRenderer(u,o),null,null,null));i[s.index]=p}(s,o,i.data[l+o.componentOffset]),i.firstCreatePass||Mu(o,s),we(u,s);const p=o.initialInputs;for(let w=l;w<h;w++){const b=i.data[w],N=Bo(s,i,w,o);we(N,s),null!==p&&qm(0,w-l,N,b,0,p),Ir(b)&&(cr(o.index,s)[Fn]=Bo(s,i,w,o))}}(i,s,o,ni(o,s)),64==(64&o.flags)&&$u(i,s,o))}function eh(i,s,o=ni){const u=s.localNames;if(null!==u){let l=s.index+1;for(let h=0;h<u.length;h+=2){const p=u[h+1],w=-1===p?o(s,i):i[p];i[l++]=w}}}function Q_(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=th(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function th(i,s,o,u,l,h,p,w,b,N){const V=wn+u,z=V+l,ne=function J_(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:jt);return o}(V,z),fe="function"==typeof N?N():N;return ne[yt]={type:i,blueprint:ne,template:o,queries:null,viewQuery:w,declTNode:s,data:ne.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:b,consts:fe,incompleteFirstPass:!1}}function nh(i,s,o,u){const l=Jm(s);null===o?l.push(u):(l.push(o),i.firstCreatePass&&Xm(i).push(u,l.length-1))}function Dp(i,s,o,u){for(let l in i)if(i.hasOwnProperty(l)){o=null===o?{}:o;const h=i[l];null===u?Hm(o,s,l,h):u.hasOwnProperty(l)&&Hm(o,s,u[l],h)}return o}function Hm(i,s,o,u){i.hasOwnProperty(o)?i[o].push(s,u):i[o]=[s,u]}function qs(i,s,o,u,l,h,p,w){const b=ni(s,o);let V,N=s.inputs;!w&&null!=N&&(V=N[u])?(Mp(i,o,V,u,l),ss(s)&&function X_(i,s){const o=cr(s,i);16&o[Yt]||(o[Yt]|=32)}(o,s.index)):3&s.type&&(u=function rh(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),l=null!=p?p(l,s.value||"",u):l,h.setProperty(b,u,l))}function Wm(i,s,o,u){if(At()){const l=null===u?null:{"":-1},h=function Cp(i,s){const o=i.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const p=o[h];if(F_(s,p.selectors,!1))if(u||(u=[]),Ir(p))if(null!==p.findHostDirectiveDefs){const w=[];l=l||new Map,p.findHostDirectiveDefs(p,w,l),u.unshift(...w,p),bp(i,s,w.length)}else u.unshift(p),bp(i,s,0);else l=l||new Map,p.findHostDirectiveDefs?.(p,u,l),u.push(p)}return null===u?null:[u,l]}(i,o);let p,w;null===h?p=w=null:[p,w]=h,null!==p&&t0(i,s,o,p,l,w),l&&function ih(i,s,o){if(s){const u=i.localNames=[];for(let l=0;l<s.length;l+=2){const h=o[s[l+1]];if(null==h)throw new re(-301,!1);u.push(s[l],h)}}}(o,u,l)}o.mergedAttrs=ls(o.mergedAttrs,o.attrs)}function t0(i,s,o,u,l,h){for(let N=0;N<u.length;N++)ui(Mu(o,s),i,u[N].type);!function As(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}(o,i.data.length,u.length);for(let N=0;N<u.length;N++){const V=u[N];V.providersResolver&&V.providersResolver(V)}let p=!1,w=!1,b=Jd(i,s,u.length,null);for(let N=0;N<u.length;N++){const V=u[N];o.mergedAttrs=ls(o.mergedAttrs,V.hostAttrs),s0(i,o,s,b,V),r0(b,V,l),null!==V.contentQueries&&(o.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(o.flags|=64);const z=V.type.prototype;!p&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(o.index),p=!0),!w&&(z.ngOnChanges||z.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(o.index),w=!0),b++}!function vI(i,s,o){const l=s.directiveEnd,h=i.data,p=s.attrs,w=[];let b=null,N=null;for(let V=s.directiveStart;V<l;V++){const z=h[V],ne=o?o.get(z):null,Ne=ne?ne.outputs:null;b=Dp(z.inputs,V,b,ne?ne.inputs:null),N=Dp(z.outputs,V,N,Ne);const Qe=null===b||null===p||El(s)?null:o0(b,V,p);w.push(Qe)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=8),b.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=w,s.inputs=b,s.outputs=N}(i,o,h)}function $u(i,s,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,p=function eu(){return Wt.lFrame.currentDirectiveIndex}();try{Lo(h);for(let w=u;w<l;w++){const b=i.data[w],N=s[w];Cs(w),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&n0(b,N)}}finally{Lo(-1),Cs(p)}}function n0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function bp(i,s,o){s.componentOffset=o,(i.components??(i.components=[])).push(s.index)}function r0(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;Ir(s)&&(o[""]=i)}}function s0(i,s,o,u,l){i.data[u]=l;const h=l.factory||(l.factory=qi(l.type)),p=new Vn(h,Ir(l),Oc);i.blueprint[u]=p,o[u]=p,function bl(i,s,o,u,l){const h=l.hostBindings;if(h){let p=i.hostBindingOpCodes;null===p&&(p=i.hostBindingOpCodes=[]);const w=~s.index;(function _I(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(p)!=w&&p.push(w),p.push(o,u,h)}}(i,s,u,Jd(i,o,l.hostVars,jt),l)}function wo(i,s,o,u,l,h){const p=ni(i,s);!function Tp(i,s,o,u,l,h,p){if(null==h)i.removeAttribute(s,l,o);else{const w=null==p?ye(h):p(h,u||"",l);i.setAttribute(s,l,w,o)}}(s[Vt],p,h,i.value,o,u,l)}function qm(i,s,o,u,l,h){const p=h[s];if(null!==p){const w=u.setInput;for(let b=0;b<p.length;){const N=p[b++],V=p[b++],z=p[b++];null!==w?u.setInput(o,z,N,V):o[V]=z}}}function o0(i,s,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(i.hasOwnProperty(h)){null===u&&(u=[]);const p=i[h];for(let w=0;w<p.length;w+=2)if(p[w]===s){u.push(h,p[w+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function Km(i,s,o,u){return[i,!0,!1,s,null,0,u,o,null,null]}function Zm(i,s){const o=cr(s,i);if(fo(o)){const u=o[yt];48&o[Yt]?Xd(u,o,u.template,o[Fn]):o[ei]>0&&ah(o)}}function ah(i){for(let u=Jg(i);null!==u;u=Xg(u))for(let l=Mr;l<u.length;l++){const h=u[l];if(fo(h))if(512&h[Yt]){const p=h[yt];Xd(p,h,p.template,h[Fn])}else h[ei]>0&&ah(h)}const o=i[yt].components;if(null!==o)for(let u=0;u<o.length;u++){const l=cr(o[u],i);fo(l)&&l[ei]>0&&ah(l)}}function Sp(i,s){const o=cr(s,i),u=o[yt];(function uh(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),$m(u,o,o[Fn])}function ch(i,s){return i[jn]?i[na][er]=s:i[jn]=s,i[na]=s,s}function Ap(i){for(;i;){i[Yt]|=32;const s=ml(i);if(mi(i)&&!s)return i;i=s}return null}function Tl(i,s,o,u=!0){const l=s[xi];l.begin&&l.begin();try{Xd(i,s,i.template,o)}catch(p){throw u&&Sl(s,p),p}finally{l.end&&l.end()}}function lh(i,s,o){vc(0),s(i,o)}function Jm(i){return i[is]||(i[is]=[])}function Xm(i){return i.cleanup||(i.cleanup=[])}function Sl(i,s){const o=i[ta],u=o?o.get(Hd,null):null;u&&u.handleError(s)}function Mp(i,s,o,u,l){for(let h=0;h<o.length;){const p=o[h++],w=o[h++],b=s[p],N=i.data[p];null!==N.setInput?N.setInput(b,l,u,w):b[w]=l}}function qo(i,s,o){const u=ho(s,i);!function t_(i,s,o){i.setValue(s,o)}(i[Vt],u,o)}function ju(i,s,o){let u=o?i.styles:null,l=o?i.classes:null,h=0;if(null!==s)for(let p=0;p<s.length;p++){const w=s[p];"number"==typeof w?h=w:1==h?l=Ut(l,w):2==h&&(u=Ut(u,w+": "+s[++p]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=l:i.classesWithoutHost=l}function Ba(i,s,o,u,l=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&u.push(ar(h)),ti(h))for(let w=Mr;w<h.length;w++){const b=h[w],N=b[yt].firstChild;null!==N&&Ba(b[yt],b,N,u)}const p=o.type;if(8&p)Ba(i,s,o.child,u);else if(32&p){const w=Tc(o,s);let b;for(;b=w();)u.push(b)}else if(16&p){const w=LE(s,o);if(Array.isArray(w))u.push(...w);else{const b=ml(s[or]);Ba(b[yt],b,w,u,!0)}}o=l?o.projectionNext:o.next}return u}class kc{get rootNodes(){const s=this._lView,o=s[yt];return Ba(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fn]}set context(s){this._lView[Fn]=s}get destroyed(){return 128==(128&this._lView[Yt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[kn];if(ti(s)){const o=s[so],u=o?o.indexOf(this):-1;u>-1&&(r_(s,u),La(o,u))}this._attachedToViewContainer=!1}i_(this._lView[yt],this._lView)}onDestroy(s){nh(this._lView[yt],this._lView,null,s)}markForCheck(){Ap(this._cdRefInjectingView||this._lView)}detach(){this._lView[Yt]&=-65}reattach(){this._lView[Yt]|=64}detectChanges(){Tl(this._lView[yt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jC(i,s){Zf(i,s,s[Vt],2,null,null)}(this._lView[yt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=s}}class II extends kc{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Tl(s[yt],s,s[Fn],!1)}checkNoChanges(){}get context(){return null}}class u0 extends jd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=dn(s);return new fa(o,this.ngModule)}}function ey(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class DI{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,u){u=Me(u);const l=this.injector.get(s,up,u);return l!==up||o===up?l:this.parentInjector.get(s,o,u)}}class fa extends Im{get inputs(){return ey(this.componentDef.inputs)}get outputs(){return ey(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function Sm(i){return i.map(V_).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,u,l){let h=(l=l||this.ngModule)instanceof xc?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const p=h?new DI(s,h):s,w=p.get(aI,null);if(null===w)throw new re(407,!1);const b=p.get(cI,null),N=w.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",z=u?function yI(i,s,o){return i.selectRootElement(s,o===Be.ShadowDom)}(N,u,this.componentDef.encapsulation):Yf(N,V,function c0(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(V)),ne=this.componentDef.onPush?288:272,fe=th(0,null,null,1,0,null,null,null,null,null),Ne=di(null,fe,null,ne,null,null,w,N,b,p,null);let Qe,ht;po(Ne);try{const Ct=this.componentDef;let Gt,Ye=null;Ct.findHostDirectiveDefs?(Gt=[],Ye=new Map,Ct.findHostDirectiveDefs(Ct,Gt,Ye),Gt.push(Ct)):Gt=[Ct];const Jt=function xp(i,s){const o=i[yt],u=wn;return i[u]=s,pu(o,u,2,"#host",null)}(Ne,z),Wn=function l0(i,s,o,u,l,h,p,w){const b=l[yt];!function Or(i,s,o,u){for(const l of i)s.mergedAttrs=ls(s.mergedAttrs,l.hostAttrs);null!==s.mergedAttrs&&(ju(s,s.mergedAttrs,!0),null!==o&&BE(u,o,s))}(u,i,s,p);const N=h.createRenderer(s,o),V=di(l,Q_(o),null,o.onPush?32:16,l[i.index],i,h,N,w||null,null,null);return b.firstCreatePass&&bp(b,i,u.length-1),ch(l,V),l[i.index]=V}(Jt,z,Ct,Gt,Ne,w,N);ht=Rr(fe,wn),z&&function dh(i,s,o,u){if(u)Zi(i,o,["ng-version",ap.full]);else{const{attrs:l,classes:h}=function U_(i){const s=[],o=[];let u=1,l=2;for(;u<i.length;){let h=i[u];if("string"==typeof h)2===l?""!==h&&s.push(h,i[++u]):8===l&&o.push(h);else{if(!da(l))break;l=h}u++}return{attrs:s,classes:o}}(s.selectors[0]);l&&Zi(i,o,l),h&&h.length>0&&UE(i,o,h.join(" "))}}(N,Ct,z,u),void 0!==o&&function hh(i,s,o){const u=i.projection=[];for(let l=0;l<s.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(ht,this.ngContentSelectors,o),Qe=function Rp(i,s,o,u,l,h){const p=nr(),w=l[yt],b=ni(p,l);t0(w,l,p,o,null,u);for(let V=0;V<o.length;V++)we(Bo(l,w,p.directiveStart+V,p),l);$u(w,l,p),b&&we(b,l);const N=Bo(l,w,p.directiveStart+p.componentOffset,p);if(i[Fn]=l[Fn]=N,null!==h)for(const V of h)V(N,s);return jm(w,p,i),N}(Wn,Ct,Gt,Ye,Ne,[CI]),$m(fe,Ne,null)}finally{bs()}return new gu(this.componentType,Qe,Gd(ht,Ne),Ne,ht)}}class gu extends x_{constructor(s,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new II(l),this.componentType=s}setInput(s,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[s])){const h=this._rootLView;Mp(h[yt],h,l,s,o),Ap(cr(this._tNode.index,h))}}get injector(){return new la(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function CI(){const i=nr();_e(Oe()[yt],i)}function ry(i){let s=function ny(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const u=[i];for(;s;){let l;if(Ir(i))l=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new re(903,!1);l=s.\u0275dir}if(l){if(o){u.push(l);const p=i;p.inputs=iy(i.inputs),p.declaredInputs=iy(i.declaredInputs),p.outputs=iy(i.outputs);const w=l.hostBindings;w&&Gu(i,w);const b=l.viewQuery,N=l.contentQueries;if(b&&TI(i,b),N&&fh(i,N),Xe(i.inputs,l.inputs),Xe(i.declaredInputs,l.declaredInputs),Xe(i.outputs,l.outputs),Ir(l)&&l.data.animation){const V=i.data;V.animation=(V.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let p=0;p<h.length;p++){const w=h[p];w&&w.ngInherit&&w(i),w===ry&&(o=!1)}}s=Object.getPrototypeOf(s)}!function bI(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const l=i[u];l.hostVars=s+=l.hostVars,l.hostAttrs=ls(l.hostAttrs,o=ls(o,l.hostAttrs))}}(u)}function iy(i){return i===St?{}:i===Tt?[]:i}function TI(i,s){const o=i.viewQuery;i.viewQuery=o?(u,l)=>{s(u,l),o(u,l)}:s}function fh(i,s){const o=i.contentQueries;i.contentQueries=o?(u,l,h)=>{s(u,l,h),o(u,l,h)}:s}function Gu(i,s){const o=i.hostBindings;i.hostBindings=o?(u,l)=>{s(u,l),o(u,l)}:s}function Ml(i){return!!Pp(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Pp(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function hs(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function gh(i,s,o,u){const l=Oe();return hs(l,Oo(),s)&&(un(),wo(ur(),l,i,s,o,u)),gh}function Ga(i,s,o,u){return hs(i,Oo(),o)?s+ye(o)+u:jt}function Ha(i,s,o,u,l,h){const w=function ja(i,s,o,u){const l=hs(i,s,o);return hs(i,s+1,u)||l}(i,function Kn(){return Wt.lFrame.bindingIndex}(),o,l);return Bs(2),w?s+ye(o)+u+ye(l)+h:jt}function Op(i,s,o,u,l,h,p,w){const b=Oe(),N=un(),V=i+wn,z=N.firstCreatePass?function v0(i,s,o,u,l,h,p,w,b){const N=s.consts,V=pu(s,i,4,p||null,ai(N,w));Wm(s,o,V,ai(N,b)),_e(s,V);const z=V.tView=th(2,V,u,l,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,N);return null!==s.queries&&(s.queries.template(s,V),z.queries=s.queries.embeddedTView(V)),V}(V,N,b,s,o,u,l,h,p):N.data[V];lr(z,!1);const ne=b[Vt].createComment("");rm(N,b,ne,z),we(ne,b),ch(b,b[V]=Km(ne,b,ne,z)),Wi(z)&&Ip(N,b,z),null!=p&&eh(b,z,w)}function Ol(i,s,o){const u=Oe();return hs(u,Oo(),s)&&qs(un(),ur(),u,i,s,u[Vt],o,!1),Ol}function py(i,s,o,u,l){const p=l?"class":"style";Mp(i,o,s.inputs[p],p,u)}function zu(i,s,o,u){const l=Oe(),h=un(),p=wn+i,w=l[Vt],b=h.firstCreatePass?function w0(i,s,o,u,l,h){const p=s.consts,b=pu(s,i,2,u,ai(p,l));return Wm(s,o,b,ai(p,h)),null!==b.attrs&&ju(b,b.attrs,!1),null!==b.mergedAttrs&&ju(b,b.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,b),b}(p,h,l,s,o,u):h.data[p],N=l[p]=Yf(w,s,function U(){return Wt.lFrame.currentNamespace}()),V=Wi(b);return lr(b,!0),BE(w,N,b),32!=(32&b.flags)&&rm(h,l,N,b),0===function S(){return Wt.lFrame.elementDepthCount}()&&we(N,l),function $(){Wt.lFrame.elementDepthCount++}(),V&&(Ip(h,l,b),jm(h,b,l)),null!==u&&eh(l,b),zu}function vh(){let i=nr();No()?function Xa(){Wt.lFrame.isParent=!1}():(i=i.parent,lr(i,!1));const s=i;!function Ie(){Wt.lFrame.elementDepthCount--}();const o=un();return o.firstCreatePass&&(_e(o,i),oi(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Vo(i){return 0!=(8&i.flags)}(s)&&py(o,s,Oe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ni(i){return 0!=(16&i.flags)}(s)&&py(o,s,Oe(),s.stylesWithoutHost,!1),vh}function Fp(i,s,o,u){return zu(i,s,o,u),vh(),Fp}function my(){return Oe()}function Vp(i){return!!i&&"function"==typeof i.then}function Wu(i){return!!i&&"function"==typeof i.subscribe}const yy=Wu;function Up(i,s,o,u){const l=Oe(),h=un(),p=nr();return function Eh(i,s,o,u,l,h,p){const w=Wi(u),N=i.firstCreatePass&&Xm(i),V=s[Fn],z=Jm(s);let ne=!0;if(3&u.type||p){const Qe=ni(u,s),ht=p?p(Qe):Qe,Ct=z.length,Gt=p?Jt=>p(ar(Jt[u.index])):u.index;let Ye=null;if(!p&&w&&(Ye=function E0(i,s,o,u){const l=i.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const p=l[h];if(p===o&&l[h+1]===u){const w=s[is],b=l[h+2];return w.length>b?w[b]:null}"string"==typeof p&&(h+=2)}return null}(i,s,l,u.index)),null!==Ye)(Ye.__ngLastListenerFn__||Ye).__ngNextListenerFn__=h,Ye.__ngLastListenerFn__=h,ne=!1;else{h=_y(u,s,V,h,!1);const Jt=o.listen(ht,l,h);z.push(h,Jt),N&&N.push(l,Gt,Ct,Ct+1)}}else h=_y(u,s,V,h,!1);const fe=u.outputs;let Ne;if(ne&&null!==fe&&(Ne=fe[l])){const Qe=Ne.length;if(Qe)for(let ht=0;ht<Qe;ht+=2){const Wn=s[Ne[ht]][Ne[ht+1]].subscribe(h),zr=z.length;z.push(h,Wn),N&&N.push(l,u.index,zr,-(zr+1))}}}(h,l,l[Vt],p,i,s,u),Up}function Ks(i,s,o,u){try{return Yr(6,s,o),!1!==o(u)}catch(l){return Sl(i,l),!1}finally{Yr(7,s,o)}}function _y(i,s,o,u,l){return function h(p){if(p===Function)return u;Ap(i.componentOffset>-1?cr(i.index,s):s);let b=Ks(s,o,u,p),N=h.__ngNextListenerFn__;for(;N;)b=Ks(s,o,N,p)&&b,N=N.__ngNextListenerFn__;return l&&!1===b&&(p.preventDefault(),p.returnValue=!1),b}}function wy(i=1){return function ru(i){return(Wt.lFrame.contextLView=function Su(i,s){for(;i>0;)s=s[sr],i--;return s}(i,Wt.lFrame.contextLView))[Fn]}(i)}function Ih(i,s,o){return zn(i,"",s,"",o),Ih}function zn(i,s,o,u,l){const h=Oe(),p=Ga(h,s,o,u);return p!==jt&&qs(un(),ur(),h,i,p,h[Vt],l,!1),zn}function Ko(i,s){return i<<17|s<<2}function Di(i){return i>>17&32767}function Fl(i){return 2|i}function ma(i){return(131068&i)>>2}function Ll(i,s){return-131069&i|s<<2}function qu(i){return 1|i}function C0(i,s,o,u,l){const h=i[o+1],p=null===s;let w=u?Di(h):ma(h),b=!1;for(;0!==w&&(!1===b||p);){const V=i[w+1];b0(i[w],s)&&(b=!0,i[w+1]=u?qu(V):Fl(V)),w=u?Di(V):ma(V)}b&&(i[o+1]=u?Fl(h):qu(h))}function b0(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&M(i,s)>=0}const Ci={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Dh(i){return i.substring(Ci.key,Ci.keyEnd)}function Uc(i,s){const o=Ci.textEnd;return o===s?-1:(s=Ci.keyEnd=function Cy(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,Ci.key=s,o),Eo(i,s,o))}function Eo(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function kt(i,s){return function rr(i,s,o,u){const l=Oe(),h=un(),p=Bs(2);h.firstUpdatePass&&M0(h,i,p,u),s!==jt&&hs(l,p,s)&&Sy(h,h.data[Zr()],l,l[Vt],i,l[p+1]=function Ch(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=_t(Sc(i)))),i}(s,o),u,p)}(i,s,null,!0),kt}function Ce(i){!function Zo(i,s,o,u){const l=un(),h=Bs(2);l.firstUpdatePass&&M0(l,null,h,u);const p=Oe();if(o!==jt&&hs(p,h,o)){const w=l.data[Zr()];if(Mn(w,u)&&!A0(l,h)){let b=u?w.classesWithoutHost:w.stylesWithoutHost;null!==b&&(o=Ut(b,o||"")),py(l,w,p,o,u)}else!function Vl(i,s,o,u,l,h,p,w){l===jt&&(l=Tt);let b=0,N=0,V=0<l.length?l[0]:null,z=0<h.length?h[0]:null;for(;null!==V||null!==z;){const ne=b<l.length?l[b+1]:void 0,fe=N<h.length?h[N+1]:void 0;let Qe,Ne=null;V===z?(b+=2,N+=2,ne!==fe&&(Ne=z,Qe=fe)):null===z||null!==V&&V<z?(b+=2,Ne=V):(N+=2,Ne=z,Qe=fe),null!==Ne&&Sy(i,s,o,u,Ne,Qe,p,w),V=b<l.length?l[b]:null,z=N<h.length?h[N]:null}}(l,w,p,p[Vt],p[h+1],p[h+1]=function kI(i,s,o){if(null==o||""===o)return Tt;const u=[],l=Sc(o);if(Array.isArray(l))for(let h=0;h<l.length;h++)i(u,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&i(u,h,l[h]);else"string"==typeof l&&s(u,l);return u}(i,s,o),u,h)}}(on,Ge,i,!0)}function Ge(i,s){for(let o=function RI(i){return function Bc(i){Ci.key=0,Ci.keyEnd=0,Ci.value=0,Ci.valueEnd=0,Ci.textEnd=i.length}(i),Uc(i,Eo(i,0,Ci.textEnd))}(s);o>=0;o=Uc(s,o))f(i,Dh(s),!0)}function A0(i,s){return s>=i.expandoStartIndex}function M0(i,s,o,u){const l=i.data;if(null===l[o+1]){const h=l[Zr()],p=A0(i,o);Mn(h,u)&&null===s&&!p&&(s=!1),s=function PI(i,s,o,u){const l=function tu(i){const s=Wt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=u?s.residualClasses:s.residualStyles;if(null===l)0===(u?s.classBindings:s.styleBindings)&&(o=Hp(o=by(null,i,s,o,u),s.attrs,u),h=null);else{const p=s.directiveStylingLast;if(-1===p||i[p]!==l)if(o=by(l,i,s,o,u),null===h){let b=function NI(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==ma(u))return i[Di(u)]}(i,s,u);void 0!==b&&Array.isArray(b)&&(b=by(null,i,s,b[1],u),b=Hp(b,s.attrs,u),function OI(i,s,o,u){i[Di(o?s.classBindings:s.styleBindings)]=u}(i,s,u,b))}else h=function x0(i,s,o){let u;const l=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<l;h++)u=Hp(u,i[h].hostAttrs,o);return Hp(u,s.attrs,o)}(i,s,u)}return void 0!==h&&(u?s.residualClasses=h:s.residualStyles=h),o}(l,h,s,u),function Dy(i,s,o,u,l,h){let p=h?s.classBindings:s.styleBindings,w=Di(p),b=ma(p);i[u]=o;let V,N=!1;if(Array.isArray(o)?(V=o[1],(null===V||M(o,V)>0)&&(N=!0)):V=o,l)if(0!==b){const ne=Di(i[w+1]);i[u+1]=Ko(ne,w),0!==ne&&(i[ne+1]=Ll(i[ne+1],u)),i[w+1]=function Gp(i,s){return 131071&i|s<<17}(i[w+1],u)}else i[u+1]=Ko(w,0),0!==w&&(i[w+1]=Ll(i[w+1],u)),w=u;else i[u+1]=Ko(b,0),0===w?w=u:i[b+1]=Ll(i[b+1],u),b=u;N&&(i[u+1]=Fl(i[u+1])),C0(i,V,u,!0),C0(i,V,u,!1),function MI(i,s,o,u,l){const h=l?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&M(h,s)>=0&&(o[u+1]=qu(o[u+1]))}(s,V,i,u,h),p=Ko(w,b),h?s.classBindings=p:s.styleBindings=p}(l,h,s,o,p,u)}}function by(i,s,o,u,l){let h=null;const p=o.directiveEnd;let w=o.directiveStylingLast;for(-1===w?w=o.directiveStart:w++;w<p&&(h=s[w],u=Hp(u,h.hostAttrs,l),h!==i);)w++;return null!==i&&(o.directiveStylingLast=w),u}function Hp(i,s,o){const u=o?1:2;let l=-1;if(null!==s)for(let h=0;h<s.length;h++){const p=s[h];"number"==typeof p?l=p:l===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),f(i,p,!!o||s[++h]))}return void 0===i?null:i}function on(i,s,o){const u=String(s);""!==u&&!u.includes(" ")&&f(i,u,o)}function Sy(i,s,o,u,l,h,p,w){if(!(3&s.type))return;const b=i.data,N=b[w+1],V=function D0(i){return 1==(1&i)}(N)?kr(b,s,o,l,ma(N),p):void 0;Ft(V)||(Ft(h)||function Xi(i){return 2==(2&i)}(N)&&(h=kr(b,null,o,l,w,p)),function YC(i,s,o,u,l){if(s)l?i.addClass(o,u):i.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:Ho.DashCase;null==l?i.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Ho.Important),i.setStyle(o,u,l,h))}}(u,p,ho(Zr(),o),l,h))}function kr(i,s,o,u,l,h){const p=null===s;let w;for(;l>0;){const b=i[l],N=Array.isArray(b),V=N?b[1]:b,z=null===V;let ne=o[l+1];ne===jt&&(ne=z?Tt:void 0);let fe=z?E(ne,u):V===u?ne:void 0;if(N&&!Ft(fe)&&(fe=E(b,u)),Ft(fe)&&(w=fe,p))return w;const Ne=i[l+1];l=p?Di(Ne):ma(Ne)}if(null!==s){let b=h?s.residualClasses:s.residualStyles;null!=b&&(w=E(b,u))}return w}function Ft(i){return void 0!==i}function Mn(i,s){return 0!=(i.flags&(s?8:16))}function R0(i,s=""){const o=Oe(),u=un(),l=i+wn,h=u.firstCreatePass?pu(u,l,1,s,null):u.data[l],p=o[l]=function Kf(i,s){return i.createText(s)}(o[Vt],s);rm(u,o,p,h),lr(h,!1)}function Gr(i){return dt("",i,""),Gr}function dt(i,s,o){const u=Oe(),l=Ga(u,i,s,o);return l!==jt&&qo(u,Zr(),l),dt}function Ul(i,s,o,u,l){const h=Oe(),p=Ha(h,i,s,o,u,l);return p!==jt&&qo(h,Zr(),p),Ul}const Qu=void 0;var $I=["en",[["a","p"],["AM","PM"],Qu],[["AM","PM"],Qu,Qu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qu,"{1} 'at' {0}",Qu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function BI(i){const o=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Gl={};function ky(i){const s=function jI(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=B0(s);if(o)return o;const u=s.split("-")[0];if(o=B0(u),o)return o;if("en"===u)return $I;throw new re(701,!1)}function U0(i){return ky(i)[qt.PluralCase]}function B0(i){return i in Gl||(Gl[i]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[i]),Gl[i]}var qt=(()=>((qt=qt||{})[qt.LocaleId=0]="LocaleId",qt[qt.DayPeriodsFormat=1]="DayPeriodsFormat",qt[qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",qt[qt.DaysFormat=3]="DaysFormat",qt[qt.DaysStandalone=4]="DaysStandalone",qt[qt.MonthsFormat=5]="MonthsFormat",qt[qt.MonthsStandalone=6]="MonthsStandalone",qt[qt.Eras=7]="Eras",qt[qt.FirstDayOfWeek=8]="FirstDayOfWeek",qt[qt.WeekendRange=9]="WeekendRange",qt[qt.DateFormat=10]="DateFormat",qt[qt.TimeFormat=11]="TimeFormat",qt[qt.DateTimeFormat=12]="DateTimeFormat",qt[qt.NumberSymbols=13]="NumberSymbols",qt[qt.NumberFormats=14]="NumberFormats",qt[qt.CurrencyCode=15]="CurrencyCode",qt[qt.CurrencySymbol=16]="CurrencySymbol",qt[qt.CurrencyName=17]="CurrencyName",qt[qt.Currencies=18]="Currencies",qt[qt.Directionality=19]="Directionality",qt[qt.PluralCase=20]="PluralCase",qt[qt.ExtraData=21]="ExtraData",qt))();const Hl="en-US";let $0=Hl;function oc(i,s,o,u,l){if(i=rt(i),Array.isArray(i))for(let h=0;h<i.length;h++)oc(i[h],s,o,u,l);else{const h=un(),p=Oe();let w=Wo(i)?i:rt(i.provide),b=_m(i);const N=nr(),V=1048575&N.providerIndexes,z=N.directiveStart,ne=N.providerIndexes>>20;if(Wo(i)||!i.multi){const fe=new Vn(b,l,Oc),Ne=Zl(w,s,l?V:V+ne,z);-1===Ne?(ui(Mu(N,p),h,w),tg(h,i,s.length),s.push(w),N.directiveStart++,N.directiveEnd++,l&&(N.providerIndexes+=1048576),o.push(fe),p.push(fe)):(o[Ne]=fe,p[Ne]=fe)}else{const fe=Zl(w,s,V+ne,z),Ne=Zl(w,s,V,V+ne),ht=Ne>=0&&o[Ne];if(l&&!ht||!l&&!(fe>=0&&o[fe])){ui(Mu(N,p),h,w);const Ct=function Ky(i,s,o,u,l){const h=new Vn(i,o,Oc);return h.multi=[],h.index=s,h.componentProviders=0,ng(h,l,u&&!o),h}(l?jc:qy,o.length,l,u,b);!l&&ht&&(o[Ne].providerFactory=Ct),tg(h,i,s.length,0),s.push(w),N.directiveStart++,N.directiveEnd++,l&&(N.providerIndexes+=1048576),o.push(Ct),p.push(Ct)}else tg(h,i,fe>-1?fe:Ne,ng(o[l?Ne:fe],b,!l&&u));!l&&u&&ht&&o[Ne].componentProviders++}}}function tg(i,s,o,u){const l=Wo(s),h=function A_(i){return!!i.useClass}(s);if(l||h){const b=(h?rt(s.useClass):s).prototype.ngOnDestroy;if(b){const N=i.destroyHooks||(i.destroyHooks=[]);if(!l&&s.multi){const V=N.indexOf(o);-1===V?N.push(o,[u,b]):N[V+1].push(u,b)}else N.push(o,b)}}}function ng(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Zl(i,s,o,u){for(let l=o;l<u;l++)if(s[l]===i)return l;return-1}function qy(i,s,o,u){return ns(this.multi,[])}function jc(i,s,o,u){const l=this.multi;let h;if(this.providerFactory){const p=this.providerFactory.componentProviders,w=Bo(o,o[yt],this.providerFactory.index,u);h=w.slice(0,p),ns(l,h);for(let b=p;b<w.length;b++)h.push(w[b])}else h=[],ns(l,h);return h}function ns(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function kh(i,s=[]){return o=>{o.providersResolver=(u,l)=>function iw(i,s,o){const u=un();if(u.firstCreatePass){const l=Ir(i);oc(o,u.data,u.blueprint,l,!0),oc(s,u.data,u.blueprint,l,!1)}}(u,l?l(i):i,s)}}class Wa{}class Yy{}function Zy(i,s){return new Qy(i,s??null)}class Qy extends Wa{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new u0(this);const u=Xn(s);this._bootstrapComponents=Uu(u.bootstrap),this._r3Injector=Pm(s,o,[{provide:Wa,useValue:this},{provide:jd,useValue:this.componentFactoryResolver}],_t(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class ig extends Yy{constructor(s){super(),this.moduleType=s}create(s){return new Qy(this.moduleType,s)}}class iD extends Wa{constructor(s,o,u){super(),this.componentFactoryResolver=new u0(this),this.instance=null;const l=new M_([...s,{provide:Wa,useValue:this},{provide:jd,useValue:this.componentFactoryResolver}],o||sp(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function wa(i,s,o=null){return new iD(i,s,o).injector}let sD=(()=>{class i{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Bd(0,o.type),l=u.length>0?wa([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=On({token:i,providedIn:"environment",factory:()=>new i(Y(xc))}),i})();function xs(i){i.getStandaloneInjector=s=>s.get(sD).getOrCreateStandaloneInjector(i)}function Gc(i,s,o,u){return function pw(i,s,o,u,l,h){const p=s+o;return hs(i,p,l)?function $a(i,s,o){return i[s]=o}(i,p+1,h?u.call(h,l):u(l)):function Vh(i,s){const o=i[s];return o===jt?void 0:o}(i,p+1)}(Oe(),function wi(){const i=Wt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),i,s,o,u)}function jh(i){return s=>{setTimeout(i,void 0,s)}}const Jo=class td extends _.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){let l=s,h=o||(()=>null),p=u;if(s&&"object"==typeof s){const b=s;l=b.next?.bind(b),h=b.error?.bind(b),p=b.complete?.bind(b)}this.__isAsync&&(h=jh(h),l&&(l=jh(l)),p&&(p=jh(p)));const w=super.subscribe({next:l,error:h,complete:p});return s instanceof W.w0&&s.add(w),w}};function rv(){return this._results[Symbol.iterator]()}class Gh{get changes(){return this._changes||(this._changes=new Jo)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Gh.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=rv)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const l=function Ii(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Ed(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let l=i[u],h=s[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Hh=(()=>{class i{}return i.__NG_ELEMENT_ID__=Nn,i})();const dD=Hh,fi=class extends dD{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s,o){const u=this._declarationTContainer.tView,l=di(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,o||null);l[Hi]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[$r];return null!==p&&(l[$r]=p.createEmbeddedView(u)),$m(u,l,s),new kc(l)}};function Nn(){return zh(nr(),Oe())}function zh(i,s){return 4&i.type?new fi(s,i,Gd(i,s)):null}let Wh=(()=>{class i{}return i.__NG_ELEMENT_ID__=iv,i})();function iv(){return ov(nr(),Oe())}const og=Wh,sv=class extends og{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Gd(this._hostTNode,this._hostLView)}get injector(){return new la(this._hostTNode,this._hostLView)}get parentInjector(){const s=ou(this._hostTNode,this._hostLView);if(yd(s)){const o=su(s,this._hostLView),u=xa(s);return new la(o[yt].data[u+8],o)}return new la(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=vw(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-Mr}createEmbeddedView(s,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const p=s.createEmbeddedView(o||{},h);return this.insert(p,l),p}createComponent(s,o,u,l,h){const p=s&&!function vo(i){return"function"==typeof i}(s);let w;if(p)w=o;else{const z=o||{};w=z.index,u=z.injector,l=z.projectableNodes,h=z.environmentInjector||z.ngModuleRef}const b=p?s:new fa(dn(s)),N=u||this.parentInjector;if(!h&&null==b.ngModule){const ne=(p?N:this.parentInjector).get(xc,null);ne&&(h=ne)}const V=b.create(N,l,void 0,h);return this.insert(V.hostView,w),V}insert(s,o){const u=s._lView,l=u[yt];if(function Ro(i){return ti(i[kn])}(u)){const V=this.indexOf(s);if(-1!==V)this.detach(V);else{const z=u[kn],ne=new sv(z,z[tr],z[kn]);ne.detach(ne.indexOf(s))}}const h=this._adjustIndex(o),p=this._lContainer;!function TE(i,s,o,u){const l=Mr+u,h=o.length;u>0&&(o[l-1][er]=s),u<h-Mr?(s[er]=o[l],Fa(o,Mr+u,s)):(o.push(s),s[er]=null),s[kn]=o;const p=s[Hi];null!==p&&o!==p&&function SE(i,s){const o=i[ys];s[or]!==s[kn][kn][or]&&(i[io]=!0),null===o?i[ys]=[s]:o.push(s)}(p,s);const w=s[$r];null!==w&&w.insertView(i),s[Yt]|=64}(l,u,p,h);const w=a_(h,p),b=u[Vt],N=nm(b,p[To]);return null!==N&&function n_(i,s,o,u,l,h){u[Dn]=l,u[tr]=s,Zf(i,u,o,1,l,h)}(l,p[tr],b,u,N,w),s.attachToViewContainerRef(),Fa(ag(p),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=vw(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=r_(this._lContainer,o);u&&(La(ag(this._lContainer),o),i_(u[yt],u))}detach(s){const o=this._adjustIndex(s,-1),u=r_(this._lContainer,o);return u&&null!=La(ag(this._lContainer),o)?new kc(u):null}_adjustIndex(s,o=0){return s??this.length+o}};function vw(i){return i[so]}function ag(i){return i[so]||(i[so]=[])}function ov(i,s){let o;const u=s[i.index];if(ti(u))o=u;else{let l;if(8&i.type)l=ar(u);else{const h=s[Vt];l=h.createComment("");const p=ni(i,s);vl(h,nm(h,p),l,function WC(i,s){return i.nextSibling(s)}(h,p),!1)}s[i.index]=o=Km(u,s,l,i),ch(s,o)}return new sv(o,i,s)}class qh{constructor(s){this.queryList=s,this.matches=null}clone(){return new qh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wc{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const p=o.getByIndex(h);l.push(this.queries[p.indexInDeclarationView].clone())}return new Wc(l)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Jr(s,o).matches&&this.queries[o].setDirty()}}class nd{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class qc{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(s,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new qc(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class rd{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new rd(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(s,o,_w(o,h)),this.matchTNodeWithReadOption(s,o,Uo(o,s,h,!1,!1))}else u===Hh?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Uo(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===Pc||l===Wh||l===Hh&&4&o.type)this.addMatch(o.index,-2);else{const h=Uo(o,s,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function _w(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function Ew(i,s,o,u){return-1===o?function ww(i,s){return 11&i.type?Gd(i,s):4&i.type?zh(i,s):null}(s,i):-2===o?function hD(i,s,o){return o===Pc?Gd(s,i):o===Hh?zh(s,i):o===Wh?ov(s,i):void 0}(i,s,u):Bo(i,i[yt],o,s)}function av(i,s,o,u){const l=s[$r].queries[u];if(null===l.matches){const h=i.data,p=o.matches,w=[];for(let b=0;b<p.length;b+=2){const N=p[b];w.push(N<0?null:Ew(s,h[N],p[b+1],o.metadata.read))}l.matches=w}return l.matches}function ug(i,s,o,u){const l=i.queries.getByIndex(o),h=l.matches;if(null!==h){const p=av(i,s,l,o);for(let w=0;w<h.length;w+=2){const b=h[w];if(b>0)u.push(p[w/2]);else{const N=h[w+1],V=s[-b];for(let z=Mr;z<V.length;z++){const ne=V[z];ne[Hi]===ne[kn]&&ug(ne[yt],ne,N,u)}if(null!==V[ys]){const z=V[ys];for(let ne=0;ne<z.length;ne++){const fe=z[ne];ug(fe[yt],fe,N,u)}}}}}return u}function Iw(i){const s=Oe(),o=un(),u=Sa();vc(u+1);const l=Jr(o,u);if(i.dirty&&function Qa(i){return 4==(4&i[Yt])}(s)===(2==(2&l.metadata.flags))){if(null===l.matches)i.reset([]);else{const h=l.crossesNgTemplate?ug(o,s,u,[]):av(o,s,l,u);i.reset(h,pb),i.notifyOnChanges()}return!0}return!1}function Dw(i,s,o,u){const l=un();if(l.firstCreatePass){const h=nr();(function cv(i,s,o){null===i.queries&&(i.queries=new qc),i.queries.track(new rd(s,o))})(l,new nd(s,o,u),h.index),function pD(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(l,i),2==(2&o)&&(l.staticContentQueries=!0)}!function Kc(i,s,o){const u=new Gh(4==(4&o));nh(i,s,u,u.destroy),null===s[$r]&&(s[$r]=new Wc),s[$r].queries.push(new qh(u))}(l,Oe(),o)}function Cw(){return function uv(i,s){return i[$r].queries[s].queryList}(Oe(),Sa())}function Jr(i,s){return i.queries.getByIndex(s)}function lg(i){return!!Xn(i)}function ld(...i){}const yg=new Gn("Application Initializer");let dd=(()=>{class i{constructor(o){this.appInits=o,this.resolve=ld,this.reject=ld,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Vp(h))o.push(h);else if(yy(h)){const p=new Promise((w,b)=>{h.subscribe({complete:w,error:b})});o.push(p)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Y(yg,8))},i.\u0275prov=On({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Dv=new Gn("AppId",{providedIn:"root",factory:function Zh(){return`${Qh()}${Qh()}${Qh()}`}});function Qh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jh=new Gn("Platform Initializer"),DD=new Gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let _g=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=On({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const ef=new Gn("LocaleId",{providedIn:"root",factory:()=>se(ef,Fe.Optional|Fe.SkipSelf)||function Xh(){return typeof $localize<"u"&&$localize.locale||Hl}()}),kw=new Gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wg{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let Fw=(()=>{class i{compileModuleSync(o){return new ig(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=Uu(Xn(o).declarations).reduce((p,w)=>{const b=dn(w);return b&&p.push(new fa(b)),p},[]);return new wg(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=On({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const lc=(()=>Promise.resolve(0))();function Eg(i){typeof Zone>"u"?lc.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ea{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jo(!1),this.onMicrotaskEmpty=new Jo(!1),this.onStable=new Jo(!1),this.onError=new Jo(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function TD(){let i=nn.requestAnimationFrame,s=nn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function AD(i){const s=()=>{!function Ig(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(nn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Tv(i),i.isCheckStableRunning=!0,bv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Tv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,p,w)=>{try{return Sv(i),o.invokeTask(l,h,p,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),Bw(i)}},onInvoke:(o,u,l,h,p,w,b)=>{try{return Sv(i),o.invoke(l,h,p,w,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),Bw(i)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,Tv(i),bv(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ea.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(ea.isInAngularZone())throw new re(909,!1)}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,l){const h=this._inner,p=h.scheduleEventTask("NgZoneEvent: "+l,s,Uw,ld,ld);try{return h.runTask(p,o,u)}finally{h.cancelTask(p)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const Uw={};function bv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Tv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Sv(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Bw(i){i._nesting--,bv(i)}class $w{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jo,this.onMicrotaskEmpty=new Jo,this.onStable=new Jo,this.onError=new Jo}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,l){return s.apply(o,u)}}const dc=new Gn(""),hd=new Gn("");let Dg,jw=(()=>{class i{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Dg||(function MD(i){Dg=i}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ea.assertNotInAngularZone(),Eg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Eg(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return i.\u0275fac=function(o){return new(o||i)(Y(ea),Y(Av),Y(hd))},i.\u0275prov=On({token:i,factory:i.\u0275fac}),i})(),Av=(()=>{class i{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Dg?.findTestabilityInTree(this,o,u)??null}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=On({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Du=!1;let hc=null;const Cg=new Gn("AllowMultipleToken"),pi=new Gn("PlatformDestroyListeners"),Gw=new Gn("appBootstrapListener");class Mv{constructor(s,o){this.name=s,this.token=o}}function xv(i,s,o=[]){const u=`Platform: ${s}`,l=new Gn(u);return(h=[])=>{let p=fd();if(!p||p.injector.get(Cg,!1)){const w=[...o,...h,{provide:l,useValue:!0}];i?i(w):function PD(i){if(hc&&!hc.get(Cg,!1))throw new re(400,!1);hc=i;const s=i.get(Ag);(function rf(i){const s=i.get(Jh,null);s&&s.forEach(o=>o())})(i)}(function Tg(i=[],s){return Nc.create({name:s,providers:[{provide:mm,useValue:"platform"},{provide:pi,useValue:new Set([()=>hc=null])},...i]})}(w,u))}return function Rv(i){const s=fd();if(!s)throw new re(401,!1);return s}()}}function fd(){return hc?.get(Ag)??null}let Ag=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function Pv(i,s){let o;return o="noop"===i?new $w:("zone.js"===i?void 0:i)||new ea(s),o}(u?.ngZone,function Mg(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:ea,useValue:l}];return l.run(()=>{const p=Nc.create({providers:h,parent:this.injector,name:o.moduleType.name}),w=o.create(p),b=w.injector.get(Hd,null);if(!b)throw new re(402,!1);return l.runOutsideAngular(()=>{const N=l.onError.subscribe({next:V=>{b.handleError(V)}});w.onDestroy(()=>{pd(this._modules,w),N.unsubscribe()})}),function Hw(i,s,o){try{const u=o();return Vp(u)?u.catch(l=>{throw s.runOutsideAngular(()=>i.handleError(l)),l}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(b,l,()=>{const N=w.injector.get(dd);return N.runInitializers(),N.donePromise.then(()=>(function Kp(i){vn(i,"Expected localeId to be defined"),"string"==typeof i&&($0=i.toLowerCase().replace(/_/g,"-"))}(w.injector.get(ef,Hl)||Hl),this._moduleDoBootstrap(w),w))})})}bootstrapModule(o,u=[]){const l=Nv({},u);return function xD(i,s,o){const u=new ig(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(sf);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new re(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(pi,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Y(Nc))},i.\u0275prov=On({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Nv(i,s){return Array.isArray(s)?s.reduce(Nv,i):{...i,...s}}let sf=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new ue.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),p=new ue.y(w=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{ea.assertNotInAngularZone(),Eg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{ea.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{b.unsubscribe(),N.unsubscribe()}});this.isStable=function ke(...i){const s=(0,Ve.yG)(i),o=(0,Ve._6)(i,1/0),u=i;return u.length?1===u.length?(0,K.Xf)(u[0]):(0,L.J)(o)((0,ot.D)(u,s)):ve.E}(h,p.pipe(function Se(i={}){const{connector:s=(()=>new _.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:l=!0}=i;return h=>{let p,w,b,N=0,V=!1,z=!1;const ne=()=>{w?.unsubscribe(),w=void 0},fe=()=>{ne(),p=b=void 0,V=z=!1},Ne=()=>{const Qe=p;fe(),Qe?.unsubscribe()};return(0,ee.e)((Qe,ht)=>{N++,!z&&!V&&ne();const Ct=b=b??s();ht.add(()=>{N--,0===N&&!z&&!V&&(w=tt(Ne,l))}),Ct.subscribe(ht),!p&&N>0&&(p=new te.Hp({next:Gt=>Ct.next(Gt),error:Gt=>{z=!0,ne(),w=tt(fe,o,Gt),Ct.error(Gt)},complete:()=>{V=!0,ne(),w=tt(fe,u),Ct.complete()}}),(0,K.Xf)(Qe).subscribe(p))})(h)}}()))}bootstrap(o,u){const l=o instanceof Im;if(!this._injector.get(dd).done){!l&&ji(o);throw new re(405,Du)}let p;p=l?o:this._injector.get(jd).resolveComponentFactory(o),this.componentTypes.push(p.componentType);const w=function RD(i){return i.isBoundToModule}(p)?void 0:this._injector.get(Wa),N=p.create(Nc.NULL,[],u||p.selector,w),V=N.location.nativeElement,z=N.injector.get(dc,null);return z?.registerApplication(V),N.onDestroy(()=>{this.detachView(N.hostView),pd(this.components,N),z?.unregisterApplication(V)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;pd(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(Gw,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>pd(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new re(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(o){return new(o||i)(Y(ea),Y(xc),Y(Hd))},i.\u0275prov=On({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function pd(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}let Ov=(()=>{class i{}return i.__NG_ELEMENT_ID__=xg,i})();function xg(i){return function qw(i,s,o){if(ss(i)&&!o){const u=cr(i.index,s);return new kc(u,u)}return 47&i.type?new kc(s[or],s):null}(nr(),Oe(),16==(16&i))}class rs{constructor(){}supports(s){return Ml(s)}create(s){return new Qw(s)}}const FD=(i,s)=>s;class Qw{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||FD}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const p=!u||o&&o.currentIndex<Bv(u,l,h)?o:u,w=Bv(p,l,h),b=p.currentIndex;if(p===u)l--,u=u._nextRemoved;else if(o=o._next,null==p.previousIndex)l++;else{h||(h=[]);const N=w-l,V=b-l;if(N!=V){for(let ne=0;ne<N;ne++){const fe=ne<h.length?h[ne]:h[ne]=0,Ne=fe+ne;V<=Ne&&Ne<N&&(h[ne]=fe+1)}h[p.previousIndex]=V-N}}w!==b&&s(p,w,b)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Ml(s))throw new re(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l,h,p,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)h=s[w],p=this._trackByFn(w,h),null!==o&&Object.is(o.trackById,p)?(u&&(o=this._verifyReinsertion(o,h,p,w)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,p,w),u=!0),o=o._next}else l=0,function y0(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Symbol.iterator]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,w=>{p=this._trackByFn(l,w),null!==o&&Object.is(o.trackById,p)?(u&&(o=this._verifyReinsertion(o,w,p,l)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,p,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,l){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,l)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,l)):s=this._addAfter(new Pg(o,u),h,l),s}_verifyReinsertion(s,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?s=this._reinsertAfter(h,s._prev,l):s.currentIndex!=l&&(s.currentIndex=l,this._addToMoves(s,l)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const l=s._prevRemoved,h=s._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const l=null===o?this._itHead:o._next;return s._next=l,s._prev=o,null===l?this._itTail=s:l._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new Ng),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ng),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Pg{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pf{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Ng{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new pf,this.map.set(o,u)),u.add(s)}get(s,o){const l=this.map.get(s);return l?l.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bv(i,s,o){const u=i.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+s+l}class Jw{constructor(){}supports(s){return s instanceof Map||Pp(s)}create(){return new LD}}class LD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Pp(s)))throw new re(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const l=this._records.get(s);this._maybeAddToChanges(l,o);const h=l._prev,p=l._next;return h&&(h._next=p),p&&(p._prev=h),l._next=null,l._prev=null,l}const u=new VD(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class VD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xw(){return new gf([new rs])}let gf=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||Xw()),deps:[[i,new Va,new ri]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new re(901,!1)}}return i.\u0275prov=On({token:i,providedIn:"root",factory:Xw}),i})();function eE(){return new el([new Jw])}let el=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||eE()),deps:[[i,new Va,new ri]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new re(901,!1)}}return i.\u0275prov=On({token:i,providedIn:"root",factory:eE}),i})();const mf=xv(null,"core",[]);let Gv=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Y(sf))},i.\u0275mod=Br({type:i}),i.\u0275inj=$i({}),i})();function nE(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},433:(Ht,qe,G)=>{G.d(qe,{Fj:()=>ze,u5:()=>Po,JJ:()=>Lr,JL:()=>rn,F:()=>ei,On:()=>Os,YN:()=>ra,wV:()=>bo,Q7:()=>vi,EJ:()=>os,_Y:()=>no,Kr:()=>uo});var _=G(8256),W=G(6895),ue=G(8996),L=G(9751),K=G(4742),ve=G(8421),Ve=G(7669),ot=G(5403),ke=G(3268),te=G(1810),Se=G(4004);let tt=(()=>{class x{constructor(S,$){this._renderer=S,this._elementRef=$,this.onChange=Ie=>{},this.onTouched=()=>{}}setProperty(S,$){this._renderer.setProperty(this._elementRef.nativeElement,S,$)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return x.\u0275fac=function(S){return new(S||x)(_.Y36(_.Qsj),_.Y36(_.SBq))},x.\u0275dir=_.lG2({type:x}),x})(),Ee=(()=>{class x extends tt{}return x.\u0275fac=function(){let A;return function($){return(A||(A=_.n5z(x)))($||x)}}(),x.\u0275dir=_.lG2({type:x,features:[_.qOj]}),x})();const Xe=new _.OlP("NgValueAccessor"),Nt={provide:Xe,useExisting:(0,_.Gpc)(()=>ze),multi:!0},rt=new _.OlP("CompositionEventMode");let ze=(()=>{class x extends tt{constructor(S,$,Ie){super(S,$),this._compositionMode=Ie,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function an(){const x=(0,W.q)()?(0,W.q)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(S){this.setProperty("value",S??"")}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return x.\u0275fac=function(S){return new(S||x)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(rt,8))},x.\u0275dir=_.lG2({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,$){1&S&&_.NdJ("input",function(At){return $._handleInput(At.target.value)})("blur",function(){return $.onTouched()})("compositionstart",function(){return $._compositionStart()})("compositionend",function(At){return $._compositionEnd(At.target.value)})},features:[_._Bn([Nt]),_.qOj]}),x})();const He=!1;const re=new _.OlP("NgValidators"),Ue=new _.OlP("NgAsyncValidators");function at(x){return function We(x){return null==x||("string"==typeof x||Array.isArray(x))&&0===x.length}(x.value)?{required:!0}:null}function je(x){return null}function mt(x){return null!=x}function en(x){const A=(0,_.QGY)(x)?(0,ue.D)(x):x;if(He&&!(0,_.CqO)(A)){let S="Expected async validator to return Promise or Observable.";throw"object"==typeof x&&(S+=" Are you using a synchronous validator where an async validator is expected?"),new _.vHH(-1101,S)}return A}function _n(x){let A={};return x.forEach(S=>{A=null!=S?{...A,...S}:A}),0===Object.keys(A).length?null:A}function Ot(x,A){return A.map(S=>S(x))}function Dt(x){return x.map(A=>function zt(x){return!x.validate}(A)?A:S=>A.validate(S))}function xn(x){return null!=x?function gt(x){if(!x)return null;const A=x.filter(mt);return 0==A.length?null:function(S){return _n(Ot(S,A))}}(Dt(x)):null}function Bt(x){return null!=x?function vn(x){if(!x)return null;const A=x.filter(mt);return 0==A.length?null:function(S){return function ee(...x){const A=(0,Ve.jO)(x),{args:S,keys:$}=(0,K.D)(x),Ie=new L.y(At=>{const{length:Ln}=S;if(!Ln)return void At.complete();const Dr=new Array(Ln);let Oe=Ln,un=Ln;for(let Us=0;Us<Ln;Us++){let Ki=!1;(0,ve.Xf)(S[Us]).subscribe((0,ot.x)(At,nr=>{Ki||(Ki=!0,un--),Dr[Us]=nr},()=>Oe--,void 0,()=>{(!Oe||!Ki)&&(un||At.next($?(0,te.n)($,Dr):Dr),At.complete())}))}});return A?Ie.pipe((0,ke.Z)(A)):Ie}(Ot(S,A).map(en)).pipe((0,Se.U)(_n))}}(Dt(x)):null}function $n(x,A){return null===x?[A]:Array.isArray(x)?[...x,A]:[x,A]}function On(x){return x?Array.isArray(x)?x:[x]:[]}function Fr(x,A){return Array.isArray(x)?x.includes(A):x===A}function $i(x,A){const S=On(A);return On(x).forEach(Ie=>{Fr(S,Ie)||S.push(Ie)}),S}function wt(x,A){return On(A).filter(S=>!Fr(x,S))}class pr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(A){this._rawValidators=A||[],this._composedValidatorFn=xn(this._rawValidators)}_setAsyncValidators(A){this._rawAsyncValidators=A||[],this._composedAsyncValidatorFn=Bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(A){this._onDestroyCallbacks.push(A)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(A=>A()),this._onDestroyCallbacks=[]}reset(A){this.control&&this.control.reset(A)}hasError(A,S){return!!this.control&&this.control.hasError(A,S)}getError(A,S){return this.control?this.control.getError(A,S):null}}class bn extends pr{get formDirective(){return null}get path(){return null}}class gr extends pr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ai{constructor(A){this._cd=A}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Lr=(()=>{class x extends Ai{constructor(S){super(S)}}return x.\u0275fac=function(S){return new(S||x)(_.Y36(gr,2))},x.\u0275dir=_.lG2({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,$){2&S&&_.ekj("ng-untouched",$.isUntouched)("ng-touched",$.isTouched)("ng-pristine",$.isPristine)("ng-dirty",$.isDirty)("ng-valid",$.isValid)("ng-invalid",$.isInvalid)("ng-pending",$.isPending)},features:[_.qOj]}),x})(),rn=(()=>{class x extends Ai{constructor(S){super(S)}}return x.\u0275fac=function(S){return new(S||x)(_.Y36(bn,10))},x.\u0275dir=_.lG2({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,$){2&S&&_.ekj("ng-untouched",$.isUntouched)("ng-touched",$.isTouched)("ng-pristine",$.isPristine)("ng-dirty",$.isDirty)("ng-valid",$.isValid)("ng-invalid",$.isInvalid)("ng-pending",$.isPending)("ng-submitted",$.isSubmitted)},features:[_.qOj]}),x})();function gi(x,A){return x?`with name: '${A}'`:`at index: ${A}`}const Zn=!1,fn="VALID",Kr="INVALID",Y="PENDING",Q="DISABLED";function se(x){return(ie(x)?x.validators:x)||null}function he(x,A){return(ie(A)?A.asyncValidators:x)||null}function ie(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}class le{constructor(A,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(A),this._assignAsyncValidators(S)}get validator(){return this._composedValidatorFn}set validator(A){this._rawValidators=this._composedValidatorFn=A}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(A){this._rawAsyncValidators=this._composedAsyncValidatorFn=A}get parent(){return this._parent}get valid(){return this.status===fn}get invalid(){return this.status===Kr}get pending(){return this.status==Y}get disabled(){return this.status===Q}get enabled(){return this.status!==Q}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(A){this._assignValidators(A)}setAsyncValidators(A){this._assignAsyncValidators(A)}addValidators(A){this.setValidators($i(A,this._rawValidators))}addAsyncValidators(A){this.setAsyncValidators($i(A,this._rawAsyncValidators))}removeValidators(A){this.setValidators(wt(A,this._rawValidators))}removeAsyncValidators(A){this.setAsyncValidators(wt(A,this._rawAsyncValidators))}hasValidator(A){return Fr(this._rawValidators,A)}hasAsyncValidator(A){return Fr(this._rawAsyncValidators,A)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(A={}){this.touched=!0,this._parent&&!A.onlySelf&&this._parent.markAsTouched(A)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(A=>A.markAllAsTouched())}markAsUntouched(A={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}markAsDirty(A={}){this.pristine=!1,this._parent&&!A.onlySelf&&this._parent.markAsDirty(A)}markAsPristine(A={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}markAsPending(A={}){this.status=Y,!1!==A.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!A.onlySelf&&this._parent.markAsPending(A)}disable(A={}){const S=this._parentMarkedDirty(A.onlySelf);this.status=Q,this.errors=null,this._forEachChild($=>{$.disable({...A,onlySelf:!0})}),this._updateValue(),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...A,skipPristineCheck:S}),this._onDisabledChange.forEach($=>$(!0))}enable(A={}){const S=this._parentMarkedDirty(A.onlySelf);this.status=fn,this._forEachChild($=>{$.enable({...A,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent}),this._updateAncestors({...A,skipPristineCheck:S}),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(A){this._parent&&!A.onlySelf&&(this._parent.updateValueAndValidity(A),A.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(A){this._parent=A}getRawValue(){return this.value}updateValueAndValidity(A={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fn||this.status===Y)&&this._runAsyncValidator(A.emitEvent)),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!A.onlySelf&&this._parent.updateValueAndValidity(A)}_updateTreeValidity(A={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(A)),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Q:fn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(A){if(this.asyncValidator){this.status=Y,this._hasOwnPendingAsyncValidator=!0;const S=en(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe($=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($,{emitEvent:A})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(A,S={}){this.errors=A,this._updateControlsErrors(!1!==S.emitEvent)}get(A){let S=A;return null==S||(Array.isArray(S)||(S=S.split(".")),0===S.length)?null:S.reduce(($,Ie)=>$&&$._find(Ie),this)}getError(A,S){const $=S?this.get(S):this;return $&&$.errors?$.errors[A]:null}hasError(A,S){return!!this.getError(A,S)}get root(){let A=this;for(;A._parent;)A=A._parent;return A}_updateControlsErrors(A){this.status=this._calculateStatus(),A&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(A)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?Q:this.errors?Kr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Y)?Y:this._anyControlsHaveStatus(Kr)?Kr:fn}_anyControlsHaveStatus(A){return this._anyControls(S=>S.status===A)}_anyControlsDirty(){return this._anyControls(A=>A.dirty)}_anyControlsTouched(){return this._anyControls(A=>A.touched)}_updatePristine(A={}){this.pristine=!this._anyControlsDirty(),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}_updateTouched(A={}){this.touched=this._anyControlsTouched(),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}_registerOnCollectionChange(A){this._onCollectionChange=A}_setUpdateStrategy(A){ie(A)&&null!=A.updateOn&&(this._updateOn=A.updateOn)}_parentMarkedDirty(A){return!A&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(A){return null}_assignValidators(A){this._rawValidators=Array.isArray(A)?A.slice():A,this._composedValidatorFn=function Me(x){return Array.isArray(x)?xn(x):x||null}(this._rawValidators)}_assignAsyncValidators(A){this._rawAsyncValidators=Array.isArray(A)?A.slice():A,this._composedAsyncValidatorFn=function pt(x){return Array.isArray(x)?Bt(x):x||null}(this._rawAsyncValidators)}}class be extends le{constructor(A,S,$){super(se(S),he($,S)),this.controls=A,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(A,S){return this.controls[A]?this.controls[A]:(this.controls[A]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(A,S,$={}){this.registerControl(A,S),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}removeControl(A,S={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(A,S,$={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],S&&this.registerControl(A,S),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}contains(A){return this.controls.hasOwnProperty(A)&&this.controls[A].enabled}setValue(A,S={}){(function q(x,A,S){x._forEachChild(($,Ie)=>{if(void 0===S[Ie])throw new _.vHH(1002,Zn?function Er(x,A){return`Must supply a value for form control ${gi(x,A)}`}(A,Ie):"")})})(this,!0,A),Object.keys(A).forEach($=>{(function J(x,A,S){const $=x.controls;if(!(A?Object.keys($):$).length)throw new _.vHH(1e3,Zn?function Yn(x){return`\n    There are no form controls registered with this ${x?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(A):"");if(!$[S])throw new _.vHH(1001,Zn?function Lt(x,A){return`Cannot find form control ${gi(x,A)}`}(A,S):"")})(this,!0,$),this.controls[$].setValue(A[$],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(A,S={}){null!=A&&(Object.keys(A).forEach($=>{const Ie=this.controls[$];Ie&&Ie.patchValue(A[$],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(A={},S={}){this._forEachChild(($,Ie)=>{$.reset(A[Ie],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(A,S,$)=>(A[$]=S.getRawValue(),A))}_syncPendingControls(){let A=this._reduceChildren(!1,(S,$)=>!!$._syncPendingControls()||S);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_forEachChild(A){Object.keys(this.controls).forEach(S=>{const $=this.controls[S];$&&A($,S)})}_setUpControls(){this._forEachChild(A=>{A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(A){for(const[S,$]of Object.entries(this.controls))if(this.contains(S)&&A($))return!0;return!1}_reduceValue(){return this._reduceChildren({},(S,$,Ie)=>(($.enabled||this.disabled)&&(S[Ie]=$.value),S))}_reduceChildren(A,S){let $=A;return this._forEachChild((Ie,At)=>{$=S($,Ie,At)}),$}_allControlsDisabled(){for(const A of Object.keys(this.controls))if(this.controls[A].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(A){return this.controls.hasOwnProperty(A)?this.controls[A]:null}}const yr=new _.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>De}),De="always";function $e(x,A,S=De){pn(x,A),A.valueAccessor.writeValue(x.value),(x.disabled||"always"===S)&&A.valueAccessor.setDisabledState?.(x.disabled),function In(x,A){A.valueAccessor.registerOnChange(S=>{x._pendingValue=S,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&gs(x,A)})}(x,A),function Js(x,A){const S=($,Ie)=>{A.valueAccessor.writeValue($),Ie&&A.viewToModelUpdate($)};x.registerOnChange(S),A._registerOnDestroy(()=>{x._unregisterOnChange(S)})}(x,A),function Br(x,A){A.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&gs(x,A),"submit"!==x.updateOn&&x.markAsTouched()})}(x,A),function Kt(x,A){if(A.valueAccessor.setDisabledState){const S=$=>{A.valueAccessor.setDisabledState($)};x.registerOnDisabledChange(S),A._registerOnDestroy(()=>{x._unregisterOnDisabledChange(S)})}}(x,A)}function $t(x,A){x.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(A)})}function pn(x,A){const S=function Ar(x){return x._rawValidators}(x);null!==A.validator?x.setValidators($n(S,A.validator)):"function"==typeof S&&x.setValidators([S]);const $=function Si(x){return x._rawAsyncValidators}(x);null!==A.asyncValidator?x.setAsyncValidators($n($,A.asyncValidator)):"function"==typeof $&&x.setAsyncValidators([$]);const Ie=()=>x.updateValueAndValidity();$t(A._rawValidators,Ie),$t(A._rawAsyncValidators,Ie)}function gs(x,A){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),A.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}const kn={provide:bn,useExisting:(0,_.Gpc)(()=>ei)},er=(()=>Promise.resolve())();let ei=(()=>{class x extends bn{constructor(S,$,Ie){super(),this.callSetDisabledState=Ie,this.submitted=!1,this._directives=new Set,this.ngSubmit=new _.vpe,this.form=new be({},xn(S),Bt($))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){er.then(()=>{const $=this._findContainer(S.path);S.control=$.registerControl(S.name,S.control),$e(S.control,S,this.callSetDisabledState),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){er.then(()=>{const $=this._findContainer(S.path);$&&$.removeControl(S.name),this._directives.delete(S)})}addFormGroup(S){er.then(()=>{const $=this._findContainer(S.path),Ie=new be({});(function Xs(x,A){pn(x,A)})(Ie,S),$.registerControl(S.name,Ie),Ie.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){er.then(()=>{const $=this._findContainer(S.path);$&&$.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,$){er.then(()=>{this.form.get(S.path).setValue($)})}setValue(S){this.control.setValue(S)}onSubmit(S){return this.submitted=!0,function to(x,A){x._syncPendingControls(),A.forEach(S=>{const $=S.control;"submit"===$.updateOn&&$._pendingChange&&(S.viewToModelUpdate($._pendingValue),$._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(S),"dialog"===S?.target?.method}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return x.\u0275fac=function(S){return new(S||x)(_.Y36(re,10),_.Y36(Ue,10),_.Y36(yr,8))},x.\u0275dir=_.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,$){1&S&&_.NdJ("submit",function(At){return $.onSubmit(At)})("reset",function(){return $.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([kn]),_.qOj]}),x})();function tr(x,A){const S=x.indexOf(A);S>-1&&x.splice(S,1)}function is(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}const Fn=class extends le{constructor(A=null,S,$){super(se(S),he($,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(A),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ie(S)&&(S.nonNullable||S.initialValueIsDefault)&&(this.defaultValue=is(A)?A.value:A)}setValue(A,S={}){this.value=this._pendingValue=A,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(A,S={}){this.setValue(A,S)}reset(A=this.defaultValue,S={}){this._applyFormState(A),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(A){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(A){this._onChange.push(A)}_unregisterOnChange(A){tr(this._onChange,A)}registerOnDisabledChange(A){this._onDisabledChange.push(A)}_unregisterOnDisabledChange(A){tr(this._onDisabledChange,A)}_forEachChild(A){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(A){is(A)?(this.value=this._pendingValue=A.value,A.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=A}},zi={provide:gr,useExisting:(0,_.Gpc)(()=>Os)},$r=(()=>Promise.resolve())();let Os=(()=>{class x extends gr{constructor(S,$,Ie,At,Ln,Dr){super(),this._changeDetectorRef=Ln,this.callSetDisabledState=Dr,this.control=new Fn,this._registered=!1,this.update=new _.vpe,this._parent=S,this._setValidators($),this._setAsyncValidators(Ie),this.valueAccessor=function Dn(x,A){if(!A)return null;let S,$,Ie;return Array.isArray(A),A.forEach(At=>{At.constructor===ze?S=At:function Gi(x){return Object.getPrototypeOf(x.constructor)===Ee}(At)?$=At:Ie=At}),Ie||$||S||null}(0,At)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const $=S.name.previousValue;this.formDirective.removeControl({name:$,path:this._getPath($)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),function ms(x,A){if(!x.hasOwnProperty("model"))return!1;const S=x.model;return!!S.isFirstChange()||!Object.is(A,S.currentValue)}(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$e(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){$r.then(()=>{this.control.setValue(S,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(S){const $=S.isDisabled.currentValue,Ie=0!==$&&(0,_.D6c)($);$r.then(()=>{Ie&&!this.control.disabled?this.control.disable():!Ie&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(S){return this._parent?function pe(x,A){return[...A.path,x]}(S,this._parent):[S]}}return x.\u0275fac=function(S){return new(S||x)(_.Y36(bn,9),_.Y36(re,10),_.Y36(Ue,10),_.Y36(Xe,10),_.Y36(_.sBO,8),_.Y36(yr,8))},x.\u0275dir=_.lG2({type:x,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_._Bn([zi]),_.qOj,_.TTD]}),x})(),no=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275dir=_.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})();const wn={provide:Xe,useExisting:(0,_.Gpc)(()=>bo),multi:!0};let bo=(()=>{class x extends Ee{writeValue(S){this.setProperty("value",S??"")}registerOnChange(S){this.onChange=$=>{S(""==$?null:parseFloat($))}}}return x.\u0275fac=function(){let A;return function($){return(A||(A=_.n5z(x)))($||x)}}(),x.\u0275dir=_.lG2({type:x,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(S,$){1&S&&_.NdJ("input",function(At){return $.onChange(At.target.value)})("blur",function(){return $.onTouched()})},features:[_._Bn([wn]),_.qOj]}),x})(),To=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275mod=_.oAB({type:x}),x.\u0275inj=_.cJS({}),x})();const ws={provide:Xe,useExisting:(0,_.Gpc)(()=>os),multi:!0};function Da(x,A){return null==x?`${A}`:(A&&"object"==typeof A&&(A="Object"),`${x}: ${A}`.slice(0,50))}let os=(()=>{class x extends Ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){this.value=S;const Ie=Da(this._getOptionId(S),S);this.setProperty("value",Ie)}registerOnChange(S){this.onChange=$=>{this.value=this._getOptionValue($),S(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(S){for(const $ of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get($),S))return $;return null}_getOptionValue(S){const $=function oo(x){return x.split(":")[0]}(S);return this._optionMap.has($)?this._optionMap.get($):S}}return x.\u0275fac=function(){let A;return function($){return(A||(A=_.n5z(x)))($||x)}}(),x.\u0275dir=_.lG2({type:x,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(S,$){1&S&&_.NdJ("change",function(At){return $.onChange(At.target.value)})("blur",function(){return $.onTouched()})},inputs:{compareWith:"compareWith"},features:[_._Bn([ws]),_.qOj]}),x})(),ra=(()=>{class x{constructor(S,$,Ie){this._element=S,this._renderer=$,this._select=Ie,this._select&&(this.id=this._select._registerOption())}set ngValue(S){null!=this._select&&(this._select._optionMap.set(this.id,S),this._setElementValue(Da(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._setElementValue(S),this._select&&this._select.writeValue(this._select.value)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return x.\u0275fac=function(S){return new(S||x)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(os,9))},x.\u0275dir=_.lG2({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),x})();const Cu={provide:Xe,useExisting:(0,_.Gpc)(()=>yi),multi:!0};function ao(x,A){return null==x?`${A}`:("string"==typeof A&&(A=`'${A}'`),A&&"object"==typeof A&&(A="Object"),`${x}: ${A}`.slice(0,50))}let yi=(()=>{class x extends Ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){let $;if(this.value=S,Array.isArray(S)){const Ie=S.map(At=>this._getOptionId(At));$=(At,Ln)=>{At._setSelected(Ie.indexOf(Ln.toString())>-1)}}else $=(Ie,At)=>{Ie._setSelected(!1)};this._optionMap.forEach($)}registerOnChange(S){this.onChange=$=>{const Ie=[],At=$.selectedOptions;if(void 0!==At){const Ln=At;for(let Dr=0;Dr<Ln.length;Dr++){const un=this._getOptionValue(Ln[Dr].value);Ie.push(un)}}else{const Ln=$.options;for(let Dr=0;Dr<Ln.length;Dr++){const Oe=Ln[Dr];if(Oe.selected){const un=this._getOptionValue(Oe.value);Ie.push(un)}}}this.value=Ie,S(Ie)}}_registerOption(S){const $=(this._idCounter++).toString();return this._optionMap.set($,S),$}_getOptionId(S){for(const $ of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get($)._value,S))return $;return null}_getOptionValue(S){const $=function mc(x){return x.split(":")[0]}(S);return this._optionMap.has($)?this._optionMap.get($)._value:S}}return x.\u0275fac=function(){let A;return function($){return(A||(A=_.n5z(x)))($||x)}}(),x.\u0275dir=_.lG2({type:x,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(S,$){1&S&&_.NdJ("change",function(At){return $.onChange(At.target)})("blur",function(){return $.onTouched()})},inputs:{compareWith:"compareWith"},features:[_._Bn([Cu]),_.qOj]}),x})(),uo=(()=>{class x{constructor(S,$,Ie){this._element=S,this._renderer=$,this._select=Ie,this._select&&(this.id=this._select._registerOption(this))}set ngValue(S){null!=this._select&&(this._value=S,this._setElementValue(ao(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._select?(this._value=S,this._setElementValue(ao(this.id,S)),this._select.writeValue(this._select.value)):this._setElementValue(S)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}_setSelected(S){this._renderer.setProperty(this._element.nativeElement,"selected",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return x.\u0275fac=function(S){return new(S||x)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(yi,9))},x.\u0275dir=_.lG2({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),x})(),Es=(()=>{class x{constructor(){this._validator=je}ngOnChanges(S){if(this.inputName in S){const $=this.normalizeInput(S[this.inputName].currentValue);this._enabled=this.enabled($),this._validator=this._enabled?this.createValidator($):je,this._onChange&&this._onChange()}}validate(S){return this._validator(S)}registerOnValidatorChange(S){this._onChange=S}enabled(S){return null!=S}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275dir=_.lG2({type:x,features:[_.TTD]}),x})();const us={provide:re,useExisting:(0,_.Gpc)(()=>vi),multi:!0};let vi=(()=>{class x extends Es{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=_.D6c,this.createValidator=S=>at}enabled(S){return S}}return x.\u0275fac=function(){let A;return function($){return(A||(A=_.n5z(x)))($||x)}}(),x.\u0275dir=_.lG2({type:x,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(S,$){2&S&&_.uIk("required",$._enabled?"":null)},inputs:{required:"required"},features:[_._Bn([us]),_.qOj]}),x})(),cs=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275mod=_.oAB({type:x}),x.\u0275inj=_.cJS({imports:[To]}),x})(),Po=(()=>{class x{static withConfig(S){return{ngModule:x,providers:[{provide:yr,useValue:S.callSetDisabledState??De}]}}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275mod=_.oAB({type:x}),x.\u0275inj=_.cJS({imports:[cs]}),x})()},1481:(Ht,qe,G)=>{G.d(qe,{Dx:()=>rn,b2:()=>gr,q6:()=>$i});var _=G(6895),W=G(8256);class ue extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class L extends ue{static makeCurrent(){(0,_.HT)(new L)}onAndCancel(J,q,le){return J.addEventListener(q,le,!1),()=>{J.removeEventListener(q,le,!1)}}dispatchEvent(J,q){J.dispatchEvent(q)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,q){return(q=q||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,q){return"window"===q?window:"document"===q?J:"body"===q?J.body:null}getBaseHref(J){const q=function ve(){return K=K||document.querySelector("base"),K?K.getAttribute("href"):null}();return null==q?null:function ot(ie){Ve=Ve||document.createElement("a"),Ve.setAttribute("href",ie);const J=Ve.pathname;return"/"===J.charAt(0)?J:`/${J}`}(q)}resetBaseElement(){K=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,_.Mx)(document.cookie,J)}}let Ve,K=null;const ke=new W.OlP("TRANSITION_ID"),ee=[{provide:W.ip1,useFactory:function te(ie,J,q){return()=>{q.get(W.CZH).donePromise.then(()=>{const le=(0,_.q)(),be=J.querySelectorAll(`style[ng-transition="${ie}"]`);for(let Be=0;Be<be.length;Be++)le.remove(be[Be])})}},deps:[ke,_.K0,W.zs3],multi:!0}];let tt=(()=>{class ie{build(){return new XMLHttpRequest}}return ie.\u0275fac=function(q){return new(q||ie)},ie.\u0275prov=W.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const Ee=new W.OlP("EventManagerPlugins");let Xe=(()=>{class ie{constructor(q,le){this._zone=le,this._eventNameToPlugin=new Map,q.forEach(be=>{be.manager=this}),this._plugins=q.slice().reverse()}addEventListener(q,le,be){return this._findPluginFor(le).addEventListener(q,le,be)}addGlobalEventListener(q,le,be){return this._findPluginFor(le).addGlobalEventListener(q,le,be)}getZone(){return this._zone}_findPluginFor(q){const le=this._eventNameToPlugin.get(q);if(le)return le;const be=this._plugins;for(let Be=0;Be<be.length;Be++){const St=be[Be];if(St.supports(q))return this._eventNameToPlugin.set(q,St),St}throw new Error(`No event manager plugin found for event ${q}`)}}return ie.\u0275fac=function(q){return new(q||ie)(W.LFG(Ee),W.LFG(W.R0b))},ie.\u0275prov=W.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class _t{constructor(J){this._doc=J}addGlobalEventListener(J,q,le){const be=(0,_.q)().getGlobalEventTarget(this._doc,J);if(!be)throw new Error(`Unsupported event target ${be} for event ${q}`);return this.addEventListener(be,q,le)}}let Ut=(()=>{class ie{constructor(){this.usageCount=new Map}addStyles(q){for(const le of q)1===this.changeUsageCount(le,1)&&this.onStyleAdded(le)}removeStyles(q){for(const le of q)0===this.changeUsageCount(le,-1)&&this.onStyleRemoved(le)}onStyleRemoved(q){}onStyleAdded(q){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(q,le){const be=this.usageCount;let Be=be.get(q)??0;return Be+=le,Be>0?be.set(q,Be):be.delete(q),Be}ngOnDestroy(){for(const q of this.getAllStyles())this.onStyleRemoved(q);this.usageCount.clear()}}return ie.\u0275fac=function(q){return new(q||ie)},ie.\u0275prov=W.Yz7({token:ie,factory:ie.\u0275fac}),ie})(),Nt=(()=>{class ie extends Ut{constructor(q){super(),this.doc=q,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(q){for(const le of this.hostNodes)this.addStyleToHost(le,q)}onStyleRemoved(q){const le=this.styleRef;le.get(q)?.forEach(Be=>Be.remove()),le.delete(q)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(q){this.hostNodes.add(q);for(const le of this.getAllStyles())this.addStyleToHost(q,le)}removeHost(q){this.hostNodes.delete(q)}addStyleToHost(q,le){const be=this.doc.createElement("style");be.textContent=le,q.appendChild(be);const Be=this.styleRef.get(le);Be?Be.push(be):this.styleRef.set(le,[be])}resetHostNodes(){const q=this.hostNodes;q.clear(),q.add(this.doc.head)}}return ie.\u0275fac=function(q){return new(q||ie)(W.LFG(_.K0))},ie.\u0275prov=W.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const an={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rt=/%COMP%/g,Ue=new W.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function lt(ie,J){return J.flat(100).map(q=>q.replace(rt,ie))}function Te(ie){return J=>{if("__ngUnwrap__"===J)return ie;!1===ie(J)&&(J.preventDefault(),J.returnValue=!1)}}let at=(()=>{class ie{constructor(q,le,be,Be){this.eventManager=q,this.sharedStylesHost=le,this.appId=be,this.removeStylesOnCompDestory=Be,this.rendererByCompId=new Map,this.defaultRenderer=new ge(q)}createRenderer(q,le){if(!q||!le)return this.defaultRenderer;const be=this.getOrCreateRenderer(q,le);return be instanceof mt?be.applyToHost(q):be instanceof je&&be.applyStyles(),be}getOrCreateRenderer(q,le){const be=this.rendererByCompId;let Be=be.get(le.id);if(!Be){const St=this.eventManager,Tt=this.sharedStylesHost,Pn=this.removeStylesOnCompDestory;switch(le.encapsulation){case W.ifc.Emulated:Be=new mt(St,Tt,le,this.appId,Pn);break;case W.ifc.ShadowDom:return new et(St,Tt,q,le);default:Be=new je(St,Tt,le,Pn)}Be.onDestroy=()=>be.delete(le.id),be.set(le.id,Be)}return Be}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ie.\u0275fac=function(q){return new(q||ie)(W.LFG(Xe),W.LFG(Nt),W.LFG(W.AFp),W.LFG(Ue))},ie.\u0275prov=W.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class ge{constructor(J){this.eventManager=J,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(J,q){return q?document.createElementNS(an[q]||q,J):document.createElement(J)}createComment(J){return document.createComment(J)}createText(J){return document.createTextNode(J)}appendChild(J,q){(Le(J)?J.content:J).appendChild(q)}insertBefore(J,q,le){J&&(Le(J)?J.content:J).insertBefore(q,le)}removeChild(J,q){J&&J.removeChild(q)}selectRootElement(J,q){let le="string"==typeof J?document.querySelector(J):J;if(!le)throw new Error(`The selector "${J}" did not match any elements`);return q||(le.textContent=""),le}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,q,le,be){if(be){q=be+":"+q;const Be=an[be];Be?J.setAttributeNS(Be,q,le):J.setAttribute(q,le)}else J.setAttribute(q,le)}removeAttribute(J,q,le){if(le){const be=an[le];be?J.removeAttributeNS(be,q):J.removeAttribute(`${le}:${q}`)}else J.removeAttribute(q)}addClass(J,q){J.classList.add(q)}removeClass(J,q){J.classList.remove(q)}setStyle(J,q,le,be){be&(W.JOm.DashCase|W.JOm.Important)?J.style.setProperty(q,le,be&W.JOm.Important?"important":""):J.style[q]=le}removeStyle(J,q,le){le&W.JOm.DashCase?J.style.removeProperty(q):J.style[q]=""}setProperty(J,q,le){J[q]=le}setValue(J,q){J.nodeValue=q}listen(J,q,le){return"string"==typeof J?this.eventManager.addGlobalEventListener(J,q,Te(le)):this.eventManager.addEventListener(J,q,Te(le))}}function Le(ie){return"TEMPLATE"===ie.tagName&&void 0!==ie.content}class et extends ge{constructor(J,q,le,be){super(J),this.sharedStylesHost=q,this.hostEl=le,this.shadowRoot=le.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Be=lt(be.id,be.styles);for(const St of Be){const Tt=document.createElement("style");Tt.textContent=St,this.shadowRoot.appendChild(Tt)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}appendChild(J,q){return super.appendChild(this.nodeOrShadowRoot(J),q)}insertBefore(J,q,le){return super.insertBefore(this.nodeOrShadowRoot(J),q,le)}removeChild(J,q){return super.removeChild(this.nodeOrShadowRoot(J),q)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class je extends ge{constructor(J,q,le,be,Be=le.id){super(J),this.sharedStylesHost=q,this.removeStylesOnCompDestory=be,this.rendererUsageCount=0,this.styles=lt(Be,le.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class mt extends je{constructor(J,q,le,be,Be){const St=be+"-"+le.id;super(J,q,le,Be,St),this.contentAttr=function ye(ie){return"_ngcontent-%COMP%".replace(rt,ie)}(St),this.hostAttr=function Ke(ie){return"_nghost-%COMP%".replace(rt,ie)}(St)}applyToHost(J){this.applyStyles(),this.setAttribute(J,this.hostAttr,"")}createElement(J,q){const le=super.createElement(J,q);return super.setAttribute(le,this.contentAttr,""),le}}let en=(()=>{class ie extends _t{constructor(q){super(q)}supports(q){return!0}addEventListener(q,le,be){return q.addEventListener(le,be,!1),()=>this.removeEventListener(q,le,be)}removeEventListener(q,le,be){return q.removeEventListener(le,be)}}return ie.\u0275fac=function(q){return new(q||ie)(W.LFG(_.K0))},ie.\u0275prov=W.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const _n=["alt","control","meta","shift"],Ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zt={alt:ie=>ie.altKey,control:ie=>ie.ctrlKey,meta:ie=>ie.metaKey,shift:ie=>ie.shiftKey};let Dt=(()=>{class ie extends _t{constructor(q){super(q)}supports(q){return null!=ie.parseEventName(q)}addEventListener(q,le,be){const Be=ie.parseEventName(le),St=ie.eventCallback(Be.fullKey,be,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(q,Be.domEventName,St))}static parseEventName(q){const le=q.toLowerCase().split("."),be=le.shift();if(0===le.length||"keydown"!==be&&"keyup"!==be)return null;const Be=ie._normalizeKey(le.pop());let St="",Tt=le.indexOf("code");if(Tt>-1&&(le.splice(Tt,1),St="code."),_n.forEach(yr=>{const De=le.indexOf(yr);De>-1&&(le.splice(De,1),St+=yr+".")}),St+=Be,0!=le.length||0===Be.length)return null;const Pn={};return Pn.domEventName=be,Pn.fullKey=St,Pn}static matchEventFullKeyCode(q,le){let be=Ot[q.key]||q.key,Be="";return le.indexOf("code.")>-1&&(be=q.code,Be="code."),!(null==be||!be)&&(be=be.toLowerCase()," "===be?be="space":"."===be&&(be="dot"),_n.forEach(St=>{St!==be&&(0,zt[St])(q)&&(Be+=St+".")}),Be+=be,Be===le)}static eventCallback(q,le,be){return Be=>{ie.matchEventFullKeyCode(Be,q)&&be.runGuarded(()=>le(Be))}}static _normalizeKey(q){return"esc"===q?"escape":q}}return ie.\u0275fac=function(q){return new(q||ie)(W.LFG(_.K0))},ie.\u0275prov=W.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const $i=(0,W.eFA)(W._c5,"browser",[{provide:W.Lbi,useValue:_.bD},{provide:W.g9A,useValue:function Ar(){L.makeCurrent()},multi:!0},{provide:_.K0,useFactory:function On(){return(0,W.RDi)(document),document},deps:[]}]),wt=new W.OlP(""),pr=[{provide:W.rWj,useClass:class Se{addToWindow(J){W.dqk.getAngularTestability=(le,be=!0)=>{const Be=J.findTestabilityInTree(le,be);if(null==Be)throw new Error("Could not find testability for element.");return Be},W.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),W.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),W.dqk.frameworkStabilizers||(W.dqk.frameworkStabilizers=[]),W.dqk.frameworkStabilizers.push(le=>{const be=W.dqk.getAllAngularTestabilities();let Be=be.length,St=!1;const Tt=function(Pn){St=St||Pn,Be--,0==Be&&le(St)};be.forEach(function(Pn){Pn.whenStable(Tt)})})}findTestabilityInTree(J,q,le){return null==q?null:J.getTestability(q)??(le?(0,_.q)().isShadowRoot(q)?this.findTestabilityInTree(J,q.host,!0):this.findTestabilityInTree(J,q.parentElement,!0):null)}},deps:[]},{provide:W.lri,useClass:W.dDg,deps:[W.R0b,W.eoX,W.rWj]},{provide:W.dDg,useClass:W.dDg,deps:[W.R0b,W.eoX,W.rWj]}],bn=[{provide:W.zSh,useValue:"root"},{provide:W.qLn,useFactory:function Si(){return new W.qLn},deps:[]},{provide:Ee,useClass:en,multi:!0,deps:[_.K0,W.R0b,W.Lbi]},{provide:Ee,useClass:Dt,multi:!0,deps:[_.K0]},{provide:at,useClass:at,deps:[Xe,Nt,W.AFp,Ue]},{provide:W.FYo,useExisting:at},{provide:Ut,useExisting:Nt},{provide:Nt,useClass:Nt,deps:[_.K0]},{provide:Xe,useClass:Xe,deps:[Ee,W.R0b]},{provide:_.JF,useClass:tt,deps:[]},[]];let gr=(()=>{class ie{constructor(q){}static withServerTransition(q){return{ngModule:ie,providers:[{provide:W.AFp,useValue:q.appId},{provide:ke,useExisting:W.AFp},ee]}}}return ie.\u0275fac=function(q){return new(q||ie)(W.LFG(wt,12))},ie.\u0275mod=W.oAB({type:ie}),ie.\u0275inj=W.cJS({providers:[...bn,...pr],imports:[_.ez,W.hGG]}),ie})(),rn=(()=>{class ie{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}}return ie.\u0275fac=function(q){return new(q||ie)(W.LFG(_.K0))},ie.\u0275prov=W.Yz7({token:ie,factory:function(q){let le=null;return le=q?new q:function Lr(){return new rn((0,W.LFG)(_.K0))}(),le},providedIn:"root"}),ie})();typeof window<"u"&&window},6557:(Ht,qe,G)=>{G.d(qe,{rH:()=>Na,Bz:()=>vo,lC:()=>vi});var _=G(8256),W=G(8996),ue=G(7669);function L(...g){const y=(0,ue.yG)(g);return(0,W.D)(g,y)}var K=G(7579);class ve extends K.x{constructor(y){super(),this._value=y}get value(){return this.getValue()}_subscribe(y){const f=super._subscribe(y);return!f.closed&&y.next(this._value),f}getValue(){const{hasError:y,thrownError:f,_value:E}=this;if(y)throw f;return this._throwIfClosed(),E}next(y){super.next(this._value=y)}}const ot=(0,G(3888).d)(g=>function(){g(this),this.name="EmptyError",this.message="no elements in sequence"});var ke=G(9751),te=G(4742),ee=G(4671),Se=G(3268),tt=G(1810),Ee=G(5403),Xe=G(9672);function _t(...g){const y=(0,ue.yG)(g),f=(0,ue.jO)(g),{args:E,keys:M}=(0,te.D)(g);if(0===E.length)return(0,W.D)([],y);const F=new ke.y(function Ut(g,y,f=ee.y){return E=>{Nt(y,()=>{const{length:M}=g,F=new Array(M);let B=M,oe=M;for(let xe=0;xe<M;xe++)Nt(y,()=>{const ct=(0,W.D)(g[xe],y);let ut=!1;ct.subscribe((0,Ee.x)(E,gn=>{F[xe]=gn,ut||(ut=!0,oe--),oe||E.next(f(F.slice()))},()=>{--B||E.complete()}))},E)},E)}}(E,y,M?B=>(0,tt.n)(M,B):ee.y));return f?F.pipe((0,Se.Z)(f)):F}function Nt(g,y,f){g?(0,Xe.f)(f,g,y):y()}var an=G(8189);function ze(...g){return function rt(){return(0,an.J)(1)}()((0,W.D)(g,(0,ue.yG)(g)))}var He=G(8421);function We(g){return new ke.y(y=>{(0,He.Xf)(g()).subscribe(y)})}var ft=G(9635),re=G(576);function Ue(g,y){const f=(0,re.m)(g)?g:()=>g,E=M=>M.error(f());return new ke.y(y?M=>y.schedule(E,0,M):E)}var ye=G(515),Ke=G(727),lt=G(4482);function Te(){return(0,lt.e)((g,y)=>{let f=null;g._refCount++;const E=(0,Ee.x)(y,void 0,void 0,void 0,()=>{if(!g||g._refCount<=0||0<--g._refCount)return void(f=null);const M=g._connection,F=f;f=null,M&&(!F||M===F)&&M.unsubscribe(),y.unsubscribe()});g.subscribe(E),E.closed||(f=g.connect())})}class at extends ke.y{constructor(y,f){super(),this.source=y,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,(0,lt.A)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new Ke.w0;const f=this.getSubject();y.add(this.source.subscribe((0,Ee.x)(f,void 0,()=>{this._teardown(),f.complete()},E=>{this._teardown(),f.error(E)},()=>this._teardown()))),y.closed&&(this._connection=null,y=Ke.w0.EMPTY)}return y}refCount(){return Te()(this)}}var ge=G(6895),ce=G(4004);function Re(g,y){return(0,lt.e)((f,E)=>{let M=null,F=0,B=!1;const oe=()=>B&&!M&&E.complete();f.subscribe((0,Ee.x)(E,xe=>{M?.unsubscribe();let ct=0;const ut=F++;(0,He.Xf)(g(xe,ut)).subscribe(M=(0,Ee.x)(E,gn=>E.next(y?y(xe,gn,ut,ct++):gn),()=>{M=null,oe()}))},()=>{B=!0,oe()}))})}function Le(g){return g<=0?()=>ye.E:(0,lt.e)((y,f)=>{let E=0;y.subscribe((0,Ee.x)(f,M=>{++E<=g&&(f.next(M),g<=E&&f.complete())}))})}function je(g,y){return(0,lt.e)((f,E)=>{let M=0;f.subscribe((0,Ee.x)(E,F=>g.call(y,F,M++)&&E.next(F)))})}var mt=G(5577);function en(g){return(0,lt.e)((y,f)=>{let E=!1;y.subscribe((0,Ee.x)(f,M=>{E=!0,f.next(M)},()=>{E||f.next(g),f.complete()}))})}function _n(g=Ot){return(0,lt.e)((y,f)=>{let E=!1;y.subscribe((0,Ee.x)(f,M=>{E=!0,f.next(M)},()=>E?f.complete():f.error(g())))})}function Ot(){return new ot}function zt(g,y){const f=arguments.length>=2;return E=>E.pipe(g?je((M,F)=>g(M,F,E)):ee.y,Le(1),f?en(y):_n(()=>new ot))}function Dt(g,y){return(0,re.m)(y)?(0,mt.z)(g,y,1):(0,mt.z)(g,1)}var gt=G(8505);function xn(g){return(0,lt.e)((y,f)=>{let F,E=null,M=!1;E=y.subscribe((0,Ee.x)(f,void 0,void 0,B=>{F=(0,He.Xf)(g(B,xn(g)(y))),E?(E.unsubscribe(),E=null,F.subscribe(f)):M=!0})),M&&(E.unsubscribe(),E=null,F.subscribe(f))})}function Bt(g,y){return(0,lt.e)(function vn(g,y,f,E,M){return(F,B)=>{let oe=f,xe=y,ct=0;F.subscribe((0,Ee.x)(B,ut=>{const gn=ct++;xe=oe?g(xe,ut,gn):(oe=!0,ut),E&&B.next(xe)},M&&(()=>{oe&&B.next(xe),B.complete()})))}}(g,y,arguments.length>=2,!0))}function $n(g){return g<=0?()=>ye.E:(0,lt.e)((y,f)=>{let E=[];y.subscribe((0,Ee.x)(f,M=>{E.push(M),g<E.length&&E.shift()},()=>{for(const M of E)f.next(M);f.complete()},void 0,()=>{E=null}))})}function Ar(g,y){const f=arguments.length>=2;return E=>E.pipe(g?je((M,F)=>g(M,F,E)):ee.y,$n(1),f?en(y):_n(()=>new ot))}function Fr(g){return(0,lt.e)((y,f)=>{try{y.subscribe(f)}finally{f.add(g)}})}var $i=G(1481);const wt="primary",pr=Symbol("RouteTitle");class bn{constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const f=this.params[y];return Array.isArray(f)?f[0]:f}return null}getAll(y){if(this.has(y)){const f=this.params[y];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function gr(g){return new bn(g)}function Ai(g,y,f){const E=f.path.split("/");if(E.length>g.length||"full"===f.pathMatch&&(y.hasChildren()||E.length<g.length))return null;const M={};for(let F=0;F<E.length;F++){const B=E[F],oe=g[F];if(B.startsWith(":"))M[B.substring(1)]=oe;else if(B!==oe.path)return null}return{consumed:g.slice(0,E.length),posParams:M}}function mr(g,y){const f=g?Object.keys(g):void 0,E=y?Object.keys(y):void 0;if(!f||!E||f.length!=E.length)return!1;let M;for(let F=0;F<f.length;F++)if(M=f[F],!Lr(g[M],y[M]))return!1;return!0}function Lr(g,y){if(Array.isArray(g)&&Array.isArray(y)){if(g.length!==y.length)return!1;const f=[...g].sort(),E=[...y].sort();return f.every((M,F)=>E[F]===M)}return g===y}function rn(g){return Array.prototype.concat.apply([],g)}function Fe(g){return g.length>0?g[g.length-1]:null}function Rn(g,y){for(const f in g)g.hasOwnProperty(f)&&y(g[f],f)}function Xt(g){return(0,_.CqO)(g)?g:(0,_.QGY)(g)?(0,W.D)(Promise.resolve(g)):L(g)}const qn=!1,Mi={exact:function ps(g,y,f){if(!fn(g.segments,y.segments)||!gi(g.segments,y.segments,f)||g.numberOfChildren!==y.numberOfChildren)return!1;for(const E in y.children)if(!g.children[E]||!ps(g.children[E],y.children[E],f))return!1;return!0},subset:Vr},nn={exact:function Tn(g,y){return mr(g,y)},subset:function hn(g,y){return Object.keys(y).length<=Object.keys(g).length&&Object.keys(y).every(f=>Lr(g[f],y[f]))},ignored:()=>!0};function qr(g,y,f){return Mi[f.paths](g.root,y.root,f.matrixParams)&&nn[f.queryParams](g.queryParams,y.queryParams)&&!("exact"===f.fragment&&g.fragment!==y.fragment)}function Vr(g,y,f){return Ur(g,y,y.segments,f)}function Ur(g,y,f,E){if(g.segments.length>f.length){const M=g.segments.slice(0,f.length);return!(!fn(M,f)||y.hasChildren()||!gi(M,f,E))}if(g.segments.length===f.length){if(!fn(g.segments,f)||!gi(g.segments,f,E))return!1;for(const M in y.children)if(!g.children[M]||!Vr(g.children[M],y.children[M],E))return!1;return!0}{const M=f.slice(0,g.segments.length),F=f.slice(g.segments.length);return!!(fn(g.segments,M)&&gi(g.segments,M,E)&&g.children[wt])&&Ur(g.children[wt],y,F,E)}}function gi(g,y,f){return y.every((E,M)=>nn[f](g[M].parameters,E.parameters))}class Yn{constructor(y=new Lt([],{}),f={},E=null){this.root=y,this.queryParams=f,this.fragment=E}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gr(this.queryParams)),this._queryParamMap}toString(){return se.serialize(this)}}class Lt{constructor(y,f){this.segments=y,this.children=f,this.parent=null,Rn(f,(E,M)=>E.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Me(this)}}class Er{constructor(y,f){this.path=y,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=gr(this.parameters)),this._parameterMap}toString(){return Be(this)}}function fn(g,y){return g.length===y.length&&g.every((f,E)=>f.path===y[E].path)}let Y=(()=>{class g{}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=_.Yz7({token:g,factory:function(){return new Q},providedIn:"root"}),g})();class Q{parse(y){const f=new $t(y);return new Yn(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(y){const f=`/${he(y.root,!0)}`,E=function Tt(g){const y=Object.keys(g).map(f=>{const E=g[f];return Array.isArray(E)?E.map(M=>`${ie(f)}=${ie(M)}`).join("&"):`${ie(f)}=${ie(E)}`}).filter(f=>!!f);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${f}${E}${"string"==typeof y.fragment?`#${function J(g){return encodeURI(g)}(y.fragment)}`:""}`}}const se=new Q;function Me(g){return g.segments.map(y=>Be(y)).join("/")}function he(g,y){if(!g.hasChildren())return Me(g);if(y){const f=g.children[wt]?he(g.children[wt],!1):"",E=[];return Rn(g.children,(M,F)=>{F!==wt&&E.push(`${F}:${he(M,!1)}`)}),E.length>0?`${f}(${E.join("//")})`:f}{const f=function Kr(g,y){let f=[];return Rn(g.children,(E,M)=>{M===wt&&(f=f.concat(y(E,M)))}),Rn(g.children,(E,M)=>{M!==wt&&(f=f.concat(y(E,M)))}),f}(g,(E,M)=>M===wt?[he(g.children[wt],!1)]:[`${M}:${he(E,!1)}`]);return 1===Object.keys(g.children).length&&null!=g.children[wt]?`${Me(g)}/${f[0]}`:`${Me(g)}/(${f.join("//")})`}}function pt(g){return encodeURIComponent(g).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ie(g){return pt(g).replace(/%3B/gi,";")}function q(g){return pt(g).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function le(g){return decodeURIComponent(g)}function be(g){return le(g.replace(/\+/g,"%20"))}function Be(g){return`${q(g.path)}${function St(g){return Object.keys(g).map(y=>`;${q(y)}=${q(g[y])}`).join("")}(g.parameters)}`}const Pn=/^[^\/()?;=#]+/;function yr(g){const y=g.match(Pn);return y?y[0]:""}const De=/^[^=?&#]+/,$e=/^[^&#]+/;class $t{constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let E={};return this.peekStartsWith("(")&&(E=this.parseParens(!1)),(y.length>0||Object.keys(f).length>0)&&(E[wt]=new Lt(y,f)),E}parseSegment(){const y=yr(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new _.vHH(4009,qn);return this.capture(y),new Er(le(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const f=yr(this.remaining);if(!f)return;this.capture(f);let E="";if(this.consumeOptional("=")){const M=yr(this.remaining);M&&(E=M,this.capture(E))}y[le(f)]=le(E)}parseQueryParam(y){const f=function pe(g){const y=g.match(De);return y?y[0]:""}(this.remaining);if(!f)return;this.capture(f);let E="";if(this.consumeOptional("=")){const B=function Et(g){const y=g.match($e);return y?y[0]:""}(this.remaining);B&&(E=B,this.capture(E))}const M=be(f),F=be(E);if(y.hasOwnProperty(M)){let B=y[M];Array.isArray(B)||(B=[B],y[M]=B),B.push(F)}else y[M]=F}parseParens(y){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const E=yr(this.remaining),M=this.remaining[E.length];if("/"!==M&&")"!==M&&";"!==M)throw new _.vHH(4010,qn);let F;E.indexOf(":")>-1?(F=E.slice(0,E.indexOf(":")),this.capture(F),this.capture(":")):y&&(F=wt);const B=this.parseChildren();f[F]=1===Object.keys(B).length?B[wt]:new Lt([],B),this.consumeOptional("//")}return f}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new _.vHH(4011,qn)}}function Kt(g){return g.segments.length>0?new Lt([],{[wt]:g}):g}function pn(g){const y={};for(const E of Object.keys(g.children)){const F=pn(g.children[E]);(F.segments.length>0||F.hasChildren())&&(y[E]=F)}return function Qn(g){if(1===g.numberOfChildren&&g.children[wt]){const y=g.children[wt];return new Lt(g.segments.concat(y.segments),y.children)}return g}(new Lt(g.segments,y))}function In(g){return g instanceof Yn}const Br=!1;function eo(g,y,f,E,M){if(0===f.length)return Jn(y.root,y.root,y.root,E,M);const F=function ms(g){if("string"==typeof g[0]&&1===g.length&&"/"===g[0])return new Xn(!0,0,g);let y=0,f=!1;const E=g.reduce((M,F,B)=>{if("object"==typeof F&&null!=F){if(F.outlets){const oe={};return Rn(F.outlets,(xe,ct)=>{oe[ct]="string"==typeof xe?xe.split("/"):xe}),[...M,{outlets:oe}]}if(F.segmentPath)return[...M,F.segmentPath]}return"string"!=typeof F?[...M,F]:0===B?(F.split("/").forEach((oe,xe)=>{0==xe&&"."===oe||(0==xe&&""===oe?f=!0:".."===oe?y++:""!=oe&&M.push(oe))}),M):[...M,F]},[]);return new Xn(f,y,E)}(f);return F.toRoot()?Jn(y.root,y.root,new Lt([],{}),E,M):function B(xe){const ct=function Dn(g,y,f,E){if(g.isAbsolute)return new Gi(y.root,!0,0);if(-1===E)return new Gi(f,f===y.root,0);return function yt(g,y,f){let E=g,M=y,F=f;for(;F>M;){if(F-=M,E=E.parent,!E)throw new _.vHH(4005,Br&&"Invalid number of '../'");M=E.segments.length}return new Gi(E,!1,M-F)}(f,E+(dn(g.commands[0])?0:1),g.numberOfDoubleDots)}(F,y,g.snapshot?._urlSegment,xe),ut=ct.processChildren?er(ct.segmentGroup,ct.index,F.commands):kn(ct.segmentGroup,ct.index,F.commands);return Jn(y.root,ct.segmentGroup,ut,E,M)}(g.snapshot?._lastPathIndex)}function dn(g){return"object"==typeof g&&null!=g&&!g.outlets&&!g.segmentPath}function Hn(g){return"object"==typeof g&&null!=g&&g.outlets}function Jn(g,y,f,E,M){let B,F={};E&&Rn(E,(xe,ct)=>{F[ct]=Array.isArray(xe)?xe.map(ut=>`${ut}`):`${xe}`}),B=g===y?f:ji(g,y,f);const oe=Kt(pn(B));return new Yn(oe,F,M)}function ji(g,y,f){const E={};return Rn(g.children,(M,F)=>{E[F]=M===y?f:ji(M,y,f)}),new Lt(g.segments,E)}class Xn{constructor(y,f,E){if(this.isAbsolute=y,this.numberOfDoubleDots=f,this.commands=E,y&&E.length>0&&dn(E[0]))throw new _.vHH(4003,Br&&"Root segment cannot have matrix parameters");const M=E.find(Hn);if(M&&M!==Fe(E))throw new _.vHH(4004,Br&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gi{constructor(y,f,E){this.segmentGroup=y,this.processChildren=f,this.index=E}}function kn(g,y,f){if(g||(g=new Lt([],{})),0===g.segments.length&&g.hasChildren())return er(g,y,f);const E=function ei(g,y,f){let E=0,M=y;const F={match:!1,pathIndex:0,commandIndex:0};for(;M<g.segments.length;){if(E>=f.length)return F;const B=g.segments[M],oe=f[E];if(Hn(oe))break;const xe=`${oe}`,ct=E<f.length-1?f[E+1]:null;if(M>0&&void 0===xe)break;if(xe&&ct&&"object"==typeof ct&&void 0===ct.outlets){if(!ta(xe,ct,B))return F;E+=2}else{if(!ta(xe,{},B))return F;E++}M++}return{match:!0,pathIndex:M,commandIndex:E}}(g,y,f),M=f.slice(E.commandIndex);if(E.match&&E.pathIndex<g.segments.length){const F=new Lt(g.segments.slice(0,E.pathIndex),{});return F.children[wt]=new Lt(g.segments.slice(E.pathIndex),g.children),er(F,0,M)}return E.match&&0===M.length?new Lt(g.segments,{}):E.match&&!g.hasChildren()?tr(g,y,f):E.match?er(g,0,M):tr(g,y,f)}function er(g,y,f){if(0===f.length)return new Lt(g.segments,{});{const E=function Yt(g){return Hn(g[0])?g[0].outlets:{[wt]:g}}(f),M={};if(!E[wt]&&g.children[wt]&&1===g.numberOfChildren&&0===g.children[wt].segments.length){const F=er(g.children[wt],y,f);return new Lt(g.segments,F.children)}return Rn(E,(F,B)=>{"string"==typeof F&&(F=[F]),null!==F&&(M[B]=kn(g.children[B],y,F))}),Rn(g.children,(F,B)=>{void 0===E[B]&&(M[B]=F)}),new Lt(g.segments,M)}}function tr(g,y,f){const E=g.segments.slice(0,y);let M=0;for(;M<f.length;){const F=f[M];if(Hn(F)){const xe=is(F.outlets);return new Lt(E,xe)}if(0===M&&dn(f[0])){E.push(new Er(g.segments[y].path,Fn(f[0]))),M++;continue}const B=Hn(F)?F.outlets[wt]:`${F}`,oe=M<f.length-1?f[M+1]:null;B&&oe&&dn(oe)?(E.push(new Er(B,Fn(oe))),M+=2):(E.push(new Er(B,{})),M++)}return new Lt(E,{})}function is(g){const y={};return Rn(g,(f,E)=>{"string"==typeof f&&(f=[f]),null!==f&&(y[E]=tr(new Lt([],{}),0,f))}),y}function Fn(g){const y={};return Rn(g,(f,E)=>y[E]=`${f}`),y}function ta(g,y,f){return g==f.path&&mr(y,f.parameters)}const xi="imperative";class Vt{constructor(y,f){this.id=y,this.url=f}}class Co extends Vt{constructor(y,f,E="imperative",M=null){super(y,f),this.type=0,this.navigationTrigger=E,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jn extends Vt{constructor(y,f,E){super(y,f),this.urlAfterRedirects=E,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class na extends Vt{constructor(y,f,E,M){super(y,f),this.reason=E,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sr extends Vt{constructor(y,f,E,M){super(y,f),this.reason=E,this.code=M,this.type=16}}class or extends Vt{constructor(y,f,E,M){super(y,f),this.error=E,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hi extends Vt{constructor(y,f,E,M){super(y,f),this.urlAfterRedirects=E,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zi extends Vt{constructor(y,f,E,M){super(y,f),this.urlAfterRedirects=E,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $r extends Vt{constructor(y,f,E,M,F){super(y,f),this.urlAfterRedirects=E,this.state=M,this.shouldActivate=F,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Os extends Vt{constructor(y,f,E,M){super(y,f),this.urlAfterRedirects=E,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no extends Vt{constructor(y,f,E,M){super(y,f),this.urlAfterRedirects=E,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn{constructor(y){this.route=y,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bo{constructor(y){this.route=y,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ro{constructor(y){this.snapshot=y,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class io{constructor(y){this.snapshot=y,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(y){this.snapshot=y,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class so{constructor(y){this.snapshot=y,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ys{constructor(y,f,E){this.routerEvent=y,this.position=f,this.anchor=E,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let jr=(()=>{class g{createUrlTree(f,E,M,F,B,oe){return eo(f||E.root,M,F,B,oe)}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac}),g})(),oi=(()=>{class g{}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=_.Yz7({token:g,factory:function(y){return jr.\u0275fac(y)},providedIn:"root"}),g})();class ss{constructor(y){this._root=y}get root(){return this._root.value}parent(y){const f=this.pathFromRoot(y);return f.length>1?f[f.length-2]:null}children(y){const f=Wi(y,this._root);return f?f.children.map(E=>E.value):[]}firstChild(y){const f=Wi(y,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(y){const f=Ir(y,this._root);return f.length<2?[]:f[f.length-2].children.map(M=>M.value).filter(M=>M!==y)}pathFromRoot(y){return Ir(y,this._root).map(f=>f.value)}}function Wi(g,y){if(g===y.value)return y;for(const f of y.children){const E=Wi(g,f);if(E)return E}return null}function Ir(g,y){if(g===y.value)return[y];for(const f of y.children){const E=Ir(g,f);if(E.length)return E.unshift(y),E}return[]}class mi{constructor(y,f){this.value=y,this.children=f}toString(){return`TreeNode(${this.value})`}}function vs(g){const y={};return g&&g.children.forEach(f=>y[f.value.outlet]=f),y}class ks extends ss{constructor(y,f){super(y),this.snapshot=f,ra(this,y)}toString(){return this.snapshot.toString()}}function _s(g,y){const f=function gc(g,y){const B=new oo([],{},{},"",{},wt,y,null,g.root,-1,{});return new os("",new mi(B,[]))}(g,y),E=new ve([new Er("",{})]),M=new ve({}),F=new ve({}),B=new ve({}),oe=new ve(""),xe=new Ri(E,M,B,oe,F,wt,y,f.root);return xe.snapshot=f.root,new ks(new mi(xe,[]),f)}class Ri{constructor(y,f,E,M,F,B,oe,xe){this.url=y,this.params=f,this.queryParams=E,this.fragment=M,this.data=F,this.outlet=B,this.component=oe,this.title=this.data?.pipe((0,ce.U)(ct=>ct[pr]))??L(void 0),this._futureSnapshot=xe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ce.U)(y=>gr(y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ce.U)(y=>gr(y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ws(g,y="emptyOnly"){const f=g.pathFromRoot;let E=0;if("always"!==y)for(E=f.length-1;E>=1;){const M=f[E],F=f[E-1];if(M.routeConfig&&""===M.routeConfig.path)E--;else{if(F.component)break;E--}}return function Da(g){return g.reduce((y,f)=>({params:{...y.params,...f.params},data:{...y.data,...f.data},resolve:{...f.data,...y.resolve,...f.routeConfig?.data,...f._resolvedData}}),{params:{},data:{},resolve:{}})}(f.slice(E))}class oo{get title(){return this.data?.[pr]}constructor(y,f,E,M,F,B,oe,xe,ct,ut,gn){this.url=y,this.params=f,this.queryParams=E,this.fragment=M,this.data=F,this.outlet=B,this.component=oe,this.routeConfig=xe,this._urlSegment=ct,this._lastPathIndex=ut,this._resolve=gn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(E=>E.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class os extends ss{constructor(y,f){super(f),this.url=y,ra(this,f)}toString(){return Cu(this._root)}}function ra(g,y){y.value._routerState=g,y.children.forEach(f=>ra(g,f))}function Cu(g){const y=g.children.length>0?` { ${g.children.map(Cu).join(", ")} } `:"";return`${g.value}${y}`}function ao(g){if(g.snapshot){const y=g.snapshot,f=g._futureSnapshot;g.snapshot=f,mr(y.queryParams,f.queryParams)||g.queryParams.next(f.queryParams),y.fragment!==f.fragment&&g.fragment.next(f.fragment),mr(y.params,f.params)||g.params.next(f.params),function wr(g,y){if(g.length!==y.length)return!1;for(let f=0;f<g.length;++f)if(!mr(g[f],y[f]))return!1;return!0}(y.url,f.url)||g.url.next(f.url),mr(y.data,f.data)||g.data.next(f.data)}else g.snapshot=g._futureSnapshot,g.data.next(g._futureSnapshot.data)}function mc(g,y){const f=mr(g.params,y.params)&&function Zn(g,y){return fn(g,y)&&g.every((f,E)=>mr(f.parameters,y[E].parameters))}(g.url,y.url);return f&&!(!g.parent!=!y.parent)&&(!g.parent||mc(g.parent,y.parent))}function yi(g,y,f){if(f&&g.shouldReuseRoute(y.value,f.value.snapshot)){const E=f.value;E._futureSnapshot=y.value;const M=function uo(g,y,f){return y.children.map(E=>{for(const M of f.children)if(g.shouldReuseRoute(E.value,M.value.snapshot))return yi(g,E,M);return yi(g,E)})}(g,y,f);return new mi(E,M)}{if(g.shouldAttach(y.value)){const F=g.retrieve(y.value);if(null!==F){const B=F.route;return B.value._futureSnapshot=y.value,B.children=y.children.map(oe=>yi(g,oe)),B}}const E=function Fs(g){return new Ri(new ve(g.url),new ve(g.params),new ve(g.queryParams),new ve(g.fragment),new ve(g.data),g.outlet,g.component,g)}(y.value),M=y.children.map(F=>yi(g,F));return new mi(E,M)}}const Ao="ngNavigationCancelingError";function Es(g,y){const{redirectTo:f,navigationBehaviorOptions:E}=In(y)?{redirectTo:y,navigationBehaviorOptions:void 0}:y,M=yc(!1,0,y);return M.url=f,M.navigationBehaviorOptions=E,M}function yc(g,y,f){const E=new Error("NavigationCancelingError: "+(g||""));return E[Ao]=!0,E.cancellationCode=y,f&&(E.url=f),E}function qi(g){return Ls(g)&&In(g.url)}function Ls(g){return g&&g[Ao]}class as{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new us,this.attachRef=null}}let us=(()=>{class g{constructor(){this.contexts=new Map}onChildOutletCreated(f,E){const M=this.getOrCreateContext(f);M.outlet=E,this.contexts.set(f,M)}onChildOutletDestroyed(f){const E=this.getContext(f);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const f=this.contexts;return this.contexts=new Map,f}onOutletReAttached(f){this.contexts=f}getOrCreateContext(f){let E=this.getContext(f);return E||(E=new as,this.contexts.set(f,E)),E}getContext(f){return this.contexts.get(f)||null}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const co=!1;let vi=(()=>{class g{constructor(){this.activated=null,this._activatedRoute=null,this.name=wt,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(us),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb)}ngOnChanges(f){if(f.name){const{firstChange:E,previousValue:M}=f.name;if(E)return;this.isTrackedInParentContexts(M)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(M)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(f){return this.parentContexts.getContext(f)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const f=this.parentContexts.getContext(this.name);f?.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,co);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,co);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,co);this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,E){this.activated=f,this._activatedRoute=E,this.location.insert(f.hostView),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,E){if(this.isActivated)throw new _.vHH(4013,co);this._activatedRoute=f;const M=this.location,B=f.snapshot.component,oe=this.parentContexts.getOrCreateContext(this.name).children,xe=new lo(f,oe,M.injector);if(E&&function xr(g){return!!g.resolveComponentFactory}(E)){const ct=E.resolveComponentFactory(B);this.activated=M.createComponent(ct,M.length,xe)}else this.activated=M.createComponent(B,{index:M.length,injector:xe,environmentInjector:E??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275dir=_.lG2({type:g,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]}),g})();class lo{constructor(y,f,E){this.route=y,this.childContexts=f,this.parent=E}get(y,f){return y===Ri?this.route:y===us?this.childContexts:this.parent.get(y,f)}}let Is=(()=>{class g{}return g.\u0275fac=function(f){return new(f||g)},g.\u0275cmp=_.Xpm({type:g,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(f,E){1&f&&_._UZ(0,"router-outlet")},dependencies:[vi],encapsulation:2}),g})();function Vs(g,y){return g.providers&&!g._injector&&(g._injector=(0,_.MMx)(g.providers,y,`Route: ${g.path}`)),g._injector??y}function cs(g){const y=g.children&&g.children.map(cs),f=y?{...g,children:y}:{...g};return!f.component&&!f.loadComponent&&(y||f.loadChildren)&&f.outlet&&f.outlet!==wt&&(f.component=Is),f}function Rr(g){return g.outlet||wt}function Ds(g,y){const f=g.filter(E=>Rr(E)===y);return f.push(...g.filter(E=>Rr(E)!==y)),f}function cr(g){if(!g)return null;if(g.routeConfig?._injector)return g.routeConfig._injector;for(let y=g.parent;y;y=y.parent){const f=y.routeConfig;if(f?._loadedInjector)return f._loadedInjector;if(f?._injector)return f._injector}return null}class fo{constructor(y,f,E,M){this.routeReuseStrategy=y,this.futureState=f,this.currState=E,this.forwardEvent=M}activate(y){const f=this.futureState._root,E=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,E,y),ao(this.futureState.root),this.activateChildRoutes(f,E,y)}deactivateChildRoutes(y,f,E){const M=vs(f);y.children.forEach(F=>{const B=F.value.outlet;this.deactivateRoutes(F,M[B],E),delete M[B]}),Rn(M,(F,B)=>{this.deactivateRouteAndItsChildren(F,E)})}deactivateRoutes(y,f,E){const M=y.value,F=f?f.value:null;if(M===F)if(M.component){const B=E.getContext(M.outlet);B&&this.deactivateChildRoutes(y,f,B.children)}else this.deactivateChildRoutes(y,f,E);else F&&this.deactivateRouteAndItsChildren(f,E)}deactivateRouteAndItsChildren(y,f){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,f):this.deactivateRouteAndOutlet(y,f)}detachAndStoreRouteSubtree(y,f){const E=f.getContext(y.value.outlet),M=E&&y.value.component?E.children:f,F=vs(y);for(const B of Object.keys(F))this.deactivateRouteAndItsChildren(F[B],M);if(E&&E.outlet){const B=E.outlet.detach(),oe=E.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:B,route:y,contexts:oe})}}deactivateRouteAndOutlet(y,f){const E=f.getContext(y.value.outlet),M=E&&y.value.component?E.children:f,F=vs(y);for(const B of Object.keys(F))this.deactivateRouteAndItsChildren(F[B],M);E&&(E.outlet&&(E.outlet.deactivate(),E.children.onOutletDeactivated()),E.attachRef=null,E.resolver=null,E.route=null)}activateChildRoutes(y,f,E){const M=vs(f);y.children.forEach(F=>{this.activateRoutes(F,M[F.value.outlet],E),this.forwardEvent(new so(F.value.snapshot))}),y.children.length&&this.forwardEvent(new io(y.value.snapshot))}activateRoutes(y,f,E){const M=y.value,F=f?f.value:null;if(ao(M),M===F)if(M.component){const B=E.getOrCreateContext(M.outlet);this.activateChildRoutes(y,f,B.children)}else this.activateChildRoutes(y,f,E);else if(M.component){const B=E.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const oe=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),B.children.onOutletReAttached(oe.contexts),B.attachRef=oe.componentRef,B.route=oe.route.value,B.outlet&&B.outlet.attach(oe.componentRef,oe.route.value),ao(oe.route.value),this.activateChildRoutes(y,null,B.children)}else{const oe=cr(M.snapshot),xe=oe?.get(_._Vd)??null;B.attachRef=null,B.route=M,B.resolver=xe,B.injector=oe,B.outlet&&B.outlet.activateWith(M,B.injector),this.activateChildRoutes(y,null,B.children)}}else this.activateChildRoutes(y,null,E)}}class Ro{constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class ai{constructor(y,f){this.component=y,this.route=f}}function Ja(g,y,f){const E=g._root;return x(E,y?y._root:null,f,[E.value])}function Wt(g,y){const f=Symbol(),E=y.get(g,f);return E===f?"function"!=typeof g||(0,_.Z0I)(g)?y.get(g):g:E}function x(g,y,f,E,M={canDeactivateChecks:[],canActivateChecks:[]}){const F=vs(y);return g.children.forEach(B=>{(function A(g,y,f,E,M={canDeactivateChecks:[],canActivateChecks:[]}){const F=g.value,B=y?y.value:null,oe=f?f.getContext(g.value.outlet):null;if(B&&F.routeConfig===B.routeConfig){const xe=function S(g,y,f){if("function"==typeof f)return f(g,y);switch(f){case"pathParamsChange":return!fn(g.url,y.url);case"pathParamsOrQueryParamsChange":return!fn(g.url,y.url)||!mr(g.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mc(g,y)||!mr(g.queryParams,y.queryParams);default:return!mc(g,y)}}(B,F,F.routeConfig.runGuardsAndResolvers);xe?M.canActivateChecks.push(new Ro(E)):(F.data=B.data,F._resolvedData=B._resolvedData),x(g,y,F.component?oe?oe.children:null:f,E,M),xe&&oe&&oe.outlet&&oe.outlet.isActivated&&M.canDeactivateChecks.push(new ai(oe.outlet.component,B))}else B&&$(y,oe,M),M.canActivateChecks.push(new Ro(E)),x(g,null,F.component?oe?oe.children:null:f,E,M)})(B,F[B.value.outlet],f,E.concat([B.value]),M),delete F[B.value.outlet]}),Rn(F,(B,oe)=>$(B,f.getContext(oe),M)),M}function $(g,y,f){const E=vs(g),M=g.value;Rn(E,(F,B)=>{$(F,M.component?y?y.children.getContext(B):null:y,f)}),f.canDeactivateChecks.push(new ai(M.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,M))}function Ie(g){return"function"==typeof g}function sa(g){return g instanceof ot||"EmptyError"===g?.name}const _i=Symbol("INITIAL_VALUE");function lr(){return Re(g=>_t(g.map(y=>y.pipe(Le(1),function et(...g){const y=(0,ue.yG)(g);return(0,lt.e)((f,E)=>{(y?ze(g,f,y):ze(g,f)).subscribe(E)})}(_i)))).pipe((0,ce.U)(y=>{for(const f of y)if(!0!==f){if(f===_i)return _i;if(!1===f||f instanceof Yn)return f}return!0}),je(y=>y!==_i),Le(1)))}function Bs(g){return(0,ft.z)((0,gt.b)(y=>{if(In(y))throw Es(0,y)}),(0,ce.U)(y=>!0===y))}const Ta={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ua(g,y,f,E,M){const F=eu(g,y,f);return F.matched?function ba(g,y,f,E){const M=y.canMatch;return M&&0!==M.length?L(M.map(B=>{const oe=Wt(B,g);return Xt(function Us(g){return g&&Ie(g.canMatch)}(oe)?oe.canMatch(y,f):g.runInContext(()=>oe(y,f)))})).pipe(lr(),Bs()):L(!0)}(E=Vs(y,E),y,f).pipe((0,ce.U)(B=>!0===B?F:{...Ta})):L(F)}function eu(g,y,f){if(""===y.path)return"full"===y.pathMatch&&(g.hasChildren()||f.length>0)?{...Ta}:{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const M=(y.matcher||Ai)(f,g,y);if(!M)return{...Ta};const F={};Rn(M.posParams,(oe,xe)=>{F[xe]=oe.path});const B=M.consumed.length>0?{...F,...M.consumed[M.consumed.length-1].parameters}:F;return{matched:!0,consumedSegments:M.consumed,remainingSegments:f.slice(M.consumed.length),parameters:B,positionalParamSegments:M.posParams??{}}}function Cs(g,y,f,E){if(f.length>0&&function vc(g,y,f){return f.some(E=>ko(g,y,E)&&Rr(E)!==wt)}(g,f,E)){const F=new Lt(y,function Sa(g,y,f,E){const M={};M[wt]=E,E._sourceSegment=g,E._segmentIndexShift=y.length;for(const F of f)if(""===F.path&&Rr(F)!==wt){const B=new Lt([],{});B._sourceSegment=g,B._segmentIndexShift=y.length,M[Rr(F)]=B}return M}(g,y,E,new Lt(f,g.children)));return F._sourceSegment=g,F._segmentIndexShift=y.length,{segmentGroup:F,slicedSegments:[]}}if(0===f.length&&function nu(g,y,f){return f.some(E=>ko(g,y,E))}(g,f,E)){const F=new Lt(g.segments,function tu(g,y,f,E,M){const F={};for(const B of E)if(ko(g,f,B)&&!M[Rr(B)]){const oe=new Lt([],{});oe._sourceSegment=g,oe._segmentIndexShift=y.length,F[Rr(B)]=oe}return{...M,...F}}(g,y,f,E,g.children));return F._sourceSegment=g,F._segmentIndexShift=y.length,{segmentGroup:F,slicedSegments:f}}const M=new Lt(g.segments,g.children);return M._sourceSegment=g,M._segmentIndexShift=y.length,{segmentGroup:M,slicedSegments:f}}function ko(g,y,f){return(!(g.hasChildren()||y.length>0)||"full"!==f.pathMatch)&&""===f.path}function po(g,y,f,E){return!!(Rr(g)===E||E!==wt&&ko(y,f,g))&&("**"===g.path||eu(y,g,f).matched)}function Aa(g,y,f){return 0===y.length&&!g.children[f]}const Fo=!1;class ca{constructor(y){this.segmentGroup=y||null}}class Tu{constructor(y){this.urlTree=y}}function bs(g){return Ue(new ca(g))}function ru(g){return Ue(new Tu(g))}class ur{constructor(y,f,E,M,F){this.injector=y,this.configLoader=f,this.urlSerializer=E,this.urlTree=M,this.config=F,this.allowRedirects=!0}apply(){const y=Cs(this.urlTree.root,[],[],this.config).segmentGroup,f=new Lt(y.segments,y.children);return this.expandSegmentGroup(this.injector,this.config,f,wt).pipe((0,ce.U)(F=>this.createUrlTree(pn(F),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xn(F=>{if(F instanceof Tu)return this.allowRedirects=!1,this.match(F.urlTree);throw F instanceof ca?this.noMatchError(F):F}))}match(y){return this.expandSegmentGroup(this.injector,this.config,y.root,wt).pipe((0,ce.U)(M=>this.createUrlTree(pn(M),y.queryParams,y.fragment))).pipe(xn(M=>{throw M instanceof ca?this.noMatchError(M):M}))}noMatchError(y){return new _.vHH(4002,Fo)}createUrlTree(y,f,E){const M=Kt(y);return new Yn(M,f,E)}expandSegmentGroup(y,f,E,M){return 0===E.segments.length&&E.hasChildren()?this.expandChildren(y,f,E).pipe((0,ce.U)(F=>new Lt([],F))):this.expandSegment(y,E,f,E.segments,M,!0)}expandChildren(y,f,E){const M=[];for(const F of Object.keys(E.children))"primary"===F?M.unshift(F):M.push(F);return(0,W.D)(M).pipe(Dt(F=>{const B=E.children[F],oe=Ds(f,F);return this.expandSegmentGroup(y,oe,B,F).pipe((0,ce.U)(xe=>({segment:xe,outlet:F})))}),Bt((F,B)=>(F[B.outlet]=B.segment,F),{}),Ar())}expandSegment(y,f,E,M,F,B){return(0,W.D)(E).pipe(Dt(oe=>this.expandSegmentAgainstRoute(y,f,E,oe,M,F,B).pipe(xn(ct=>{if(ct instanceof ca)return L(null);throw ct}))),zt(oe=>!!oe),xn((oe,xe)=>{if(sa(oe))return Aa(f,M,F)?L(new Lt([],{})):bs(f);throw oe}))}expandSegmentAgainstRoute(y,f,E,M,F,B,oe){return po(M,f,F,B)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(y,f,M,F,B):oe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(y,f,E,M,F,B):bs(f):bs(f)}expandSegmentAgainstRouteUsingRedirect(y,f,E,M,F,B){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(y,E,M,B):this.expandRegularSegmentAgainstRouteUsingRedirect(y,f,E,M,F,B)}expandWildCardWithParamsAgainstRouteUsingRedirect(y,f,E,M){const F=this.applyRedirectCommands([],E.redirectTo,{});return E.redirectTo.startsWith("/")?ru(F):this.lineralizeSegments(E,F).pipe((0,mt.z)(B=>{const oe=new Lt(B,{});return this.expandSegment(y,oe,f,B,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(y,f,E,M,F,B){const{matched:oe,consumedSegments:xe,remainingSegments:ct,positionalParamSegments:ut}=eu(f,M,F);if(!oe)return bs(f);const gn=this.applyRedirectCommands(xe,M.redirectTo,ut);return M.redirectTo.startsWith("/")?ru(gn):this.lineralizeSegments(M,gn).pipe((0,mt.z)(Nr=>this.expandSegment(y,f,E,Nr.concat(ct),B,!1)))}matchSegmentAgainstRoute(y,f,E,M,F){return"**"===E.path?(y=Vs(E,y),E.loadChildren?(E._loadedRoutes?L({routes:E._loadedRoutes,injector:E._loadedInjector}):this.configLoader.loadChildren(y,E)).pipe((0,ce.U)(oe=>(E._loadedRoutes=oe.routes,E._loadedInjector=oe.injector,new Lt(M,{})))):L(new Lt(M,{}))):ua(f,E,M,y).pipe(Re(({matched:B,consumedSegments:oe,remainingSegments:xe})=>B?this.getChildConfig(y=E._injector??y,E,M).pipe((0,mt.z)(ut=>{const gn=ut.injector??y,Nr=ut.routes,{segmentGroup:Ss,slicedSegments:Ji}=Cs(f,oe,xe,Nr),zs=new Lt(Ss.segments,Ss.children);if(0===Ji.length&&zs.hasChildren())return this.expandChildren(gn,Nr,zs).pipe((0,ce.U)(Af=>new Lt(oe,Af)));if(0===Nr.length&&0===Ji.length)return L(new Lt(oe,{}));const ri=Rr(E)===F;return this.expandSegment(gn,zs,Nr,Ji,ri?wt:F,!0).pipe((0,ce.U)(Va=>new Lt(oe.concat(Va.segments),Va.children)))})):bs(f)))}getChildConfig(y,f,E){return f.children?L({routes:f.children,injector:y}):f.loadChildren?void 0!==f._loadedRoutes?L({routes:f._loadedRoutes,injector:f._loadedInjector}):function Oo(g,y,f,E){const M=y.canLoad;return void 0===M||0===M.length?L(!0):L(M.map(B=>{const oe=Wt(B,g);return Xt(function Ln(g){return g&&Ie(g.canLoad)}(oe)?oe.canLoad(y,f):g.runInContext(()=>oe(y,f)))})).pipe(lr(),Bs())}(y,f,E).pipe((0,mt.z)(M=>M?this.configLoader.loadChildren(y,f).pipe((0,gt.b)(F=>{f._loadedRoutes=F.routes,f._loadedInjector=F.injector})):function Zr(g){return Ue(yc(Fo,3))}())):L({routes:[],injector:y})}lineralizeSegments(y,f){let E=[],M=f.root;for(;;){if(E=E.concat(M.segments),0===M.numberOfChildren)return L(E);if(M.numberOfChildren>1||!M.children[wt])return y.redirectTo,Ue(new _.vHH(4e3,Fo));M=M.children[wt]}}applyRedirectCommands(y,f,E){return this.applyRedirectCreateUrlTree(f,this.urlSerializer.parse(f),y,E)}applyRedirectCreateUrlTree(y,f,E,M){const F=this.createSegmentGroup(y,f.root,E,M);return new Yn(F,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(y,f){const E={};return Rn(y,(M,F)=>{if("string"==typeof M&&M.startsWith(":")){const oe=M.substring(1);E[F]=f[oe]}else E[F]=M}),E}createSegmentGroup(y,f,E,M){const F=this.createSegments(y,f.segments,E,M);let B={};return Rn(f.children,(oe,xe)=>{B[xe]=this.createSegmentGroup(y,oe,E,M)}),new Lt(F,B)}createSegments(y,f,E,M){return f.map(F=>F.path.startsWith(":")?this.findPosParam(y,F,M):this.findOrReturn(F,E))}findPosParam(y,f,E){const M=E[f.path.substring(1)];if(!M)throw new _.vHH(4001,Fo);return M}findOrReturn(y,f){let E=0;for(const M of f){if(M.path===y.path)return f.splice(E),M;E++}return y}}class O{}class Z{constructor(y,f,E,M,F,B,oe){this.injector=y,this.rootComponentType=f,this.config=E,this.urlTree=M,this.url=F,this.paramsInheritanceStrategy=B,this.urlSerializer=oe}recognize(){const y=Cs(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,y,wt).pipe((0,ce.U)(f=>{if(null===f)return null;const E=new oo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},wt,this.rootComponentType,null,this.urlTree.root,-1,{}),M=new mi(E,f),F=new os(this.url,M);return this.inheritParamsAndData(F._root),F}))}inheritParamsAndData(y){const f=y.value,E=ws(f,this.paramsInheritanceStrategy);f.params=Object.freeze(E.params),f.data=Object.freeze(E.data),y.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(y,f,E,M){return 0===E.segments.length&&E.hasChildren()?this.processChildren(y,f,E):this.processSegment(y,f,E,E.segments,M)}processChildren(y,f,E){return(0,W.D)(Object.keys(E.children)).pipe(Dt(M=>{const F=E.children[M],B=Ds(f,M);return this.processSegmentGroup(y,B,F,M)}),Bt((M,F)=>M&&F?(M.push(...F),M):null),function Si(g,y=!1){return(0,lt.e)((f,E)=>{let M=0;f.subscribe((0,Ee.x)(E,F=>{const B=g(F,M++);(B||y)&&E.next(F),!B&&E.complete()}))})}(M=>null!==M),en(null),Ar(),(0,ce.U)(M=>{if(null===M)return null;const F=Sn(M);return function _e(g){g.sort((y,f)=>y.value.outlet===wt?-1:f.value.outlet===wt?1:y.value.outlet.localeCompare(f.value.outlet))}(F),F}))}processSegment(y,f,E,M,F){return(0,W.D)(f).pipe(Dt(B=>this.processSegmentAgainstRoute(B._injector??y,B,E,M,F)),zt(B=>!!B),xn(B=>{if(sa(B))return Aa(E,M,F)?L([]):L(null);throw B}))}processSegmentAgainstRoute(y,f,E,M,F){if(f.redirectTo||!po(f,E,M,F))return L(null);let B;if("**"===f.path){const oe=M.length>0?Fe(M).parameters:{},xe=Zt(E)+M.length;B=L({snapshot:new oo(M,oe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yn(f),Rr(f),f.component??f._loadedComponent??null,f,Cn(E),xe,vr(f)),consumedSegments:[],remainingSegments:[]})}else B=ua(E,f,M,y).pipe((0,ce.U)(({matched:oe,consumedSegments:xe,remainingSegments:ct,parameters:ut})=>{if(!oe)return null;const gn=Zt(E)+xe.length;return{snapshot:new oo(xe,ut,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yn(f),Rr(f),f.component??f._loadedComponent??null,f,Cn(E),gn,vr(f)),consumedSegments:xe,remainingSegments:ct}}));return B.pipe(Re(oe=>{if(null===oe)return L(null);const{snapshot:xe,consumedSegments:ct,remainingSegments:ut}=oe;y=f._injector??y;const gn=f._loadedInjector??y,Nr=function Pe(g){return g.children?g.children:g.loadChildren?g._loadedRoutes:[]}(f),{segmentGroup:Ss,slicedSegments:Ji}=Cs(E,ct,ut,Nr.filter(ri=>void 0===ri.redirectTo));if(0===Ji.length&&Ss.hasChildren())return this.processChildren(gn,Nr,Ss).pipe((0,ce.U)(ri=>null===ri?null:[new mi(xe,ri)]));if(0===Nr.length&&0===Ji.length)return L([new mi(xe,[])]);const zs=Rr(f)===F;return this.processSegment(gn,Nr,Ss,Ji,zs?wt:F).pipe((0,ce.U)(ri=>null===ri?null:[new mi(xe,ri)]))}))}}function bt(g){const y=g.value.routeConfig;return y&&""===y.path&&void 0===y.redirectTo}function Sn(g){const y=[],f=new Set;for(const E of g){if(!bt(E)){y.push(E);continue}const M=y.find(F=>E.value.routeConfig===F.value.routeConfig);void 0!==M?(M.children.push(...E.children),f.add(M)):y.push(E)}for(const E of f){const M=Sn(E.children);y.push(new mi(E.value,M))}return y.filter(E=>!f.has(E))}function Cn(g){let y=g;for(;y._sourceSegment;)y=y._sourceSegment;return y}function Zt(g){let y=g,f=y._segmentIndexShift??0;for(;y._sourceSegment;)y=y._sourceSegment,f+=y._segmentIndexShift??0;return f-1}function yn(g){return g.data||{}}function vr(g){return g.resolve||{}}function Zi(g){return"string"==typeof g.title||null===g.title}function Ma(g){return Re(y=>{const f=g(y);return f?(0,W.D)(f).pipe((0,ce.U)(()=>y)):L(y)})}const ls=new _.OlP("ROUTES");let iu=(()=>{class g{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.f3M)(_.Sil)}loadComponent(f){if(this.componentLoaders.get(f))return this.componentLoaders.get(f);if(f._loadedComponent)return L(f._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(f);const E=Xt(f.loadComponent()).pipe((0,ce.U)(xa),(0,gt.b)(F=>{this.onLoadEndListener&&this.onLoadEndListener(f),f._loadedComponent=F}),Fr(()=>{this.componentLoaders.delete(f)})),M=new at(E,()=>new K.x).pipe(Te());return this.componentLoaders.set(f,M),M}loadChildren(f,E){if(this.childrenLoaders.get(E))return this.childrenLoaders.get(E);if(E._loadedRoutes)return L({routes:E._loadedRoutes,injector:E._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(E);const F=this.loadModuleFactoryOrRoutes(E.loadChildren).pipe((0,ce.U)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(E);let xe,ct,ut=!1;Array.isArray(oe)?ct=oe:(xe=oe.create(f).injector,ct=rn(xe.get(ls,[],_.XFs.Self|_.XFs.Optional)));return{routes:ct.map(cs),injector:xe}}),Fr(()=>{this.childrenLoaders.delete(E)})),B=new at(F,()=>new K.x).pipe(Te());return this.childrenLoaders.set(E,B),B}loadModuleFactoryOrRoutes(f){return Xt(f()).pipe((0,ce.U)(xa),(0,mt.z)(E=>E instanceof _.YKP||Array.isArray(E)?L(E):(0,W.D)(this.compiler.compileModuleAsync(E))))}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function xa(g){return function yd(g){return g&&"object"==typeof g&&"default"in g}(g)?g.default:g}let su=(()=>{class g{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new K.x,this.configLoader=(0,_.f3M)(iu),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(Y),this.rootContexts=(0,_.f3M)(us),this.navigationId=0,this.afterPreactivation=()=>L(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=M=>this.events.next(new bo(M)),this.configLoader.onLoadStartListener=M=>this.events.next(new wn(M))}complete(){this.transitions?.complete()}handleNavigationRequest(f){const E=++this.navigationId;this.transitions?.next({...this.transitions.value,...f,id:E})}setupNavigations(f){return this.transitions=new ve({id:0,targetPageId:0,currentUrlTree:f.currentUrlTree,currentRawUrl:f.currentUrlTree,extractedUrl:f.urlHandlingStrategy.extract(f.currentUrlTree),urlAfterRedirects:f.urlHandlingStrategy.extract(f.currentUrlTree),rawUrl:f.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xi,restoredState:null,currentSnapshot:f.routerState.snapshot,targetSnapshot:null,currentRouterState:f.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(je(E=>0!==E.id),(0,ce.U)(E=>({...E,extractedUrl:f.urlHandlingStrategy.extract(E.rawUrl)})),Re(E=>{let M=!1,F=!1;return L(E).pipe((0,gt.b)(B=>{this.currentNavigation={id:B.id,initialUrl:B.rawUrl,extractedUrl:B.extractedUrl,trigger:B.source,extras:B.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Re(B=>{const oe=f.browserUrlTree.toString(),xe=!f.navigated||B.extractedUrl.toString()!==oe||oe!==f.currentUrlTree.toString();if(!xe&&"reload"!==(B.extras.onSameUrlNavigation??f.onSameUrlNavigation)){const ut="";return this.events.next(new sr(B.id,f.serializeUrl(E.rawUrl),ut,0)),f.rawUrlTree=B.rawUrl,B.resolve(null),ye.E}if(f.urlHandlingStrategy.shouldProcessUrl(B.rawUrl))return wc(B.source)&&(f.browserUrlTree=B.extractedUrl),L(B).pipe(Re(ut=>{const gn=this.transitions?.getValue();return this.events.next(new Co(ut.id,this.urlSerializer.serialize(ut.extractedUrl),ut.source,ut.restoredState)),gn!==this.transitions?.getValue()?ye.E:Promise.resolve(ut)}),function rl(g,y,f,E){return Re(M=>function Lo(g,y,f,E,M){return new ur(g,y,f,E,M).apply()}(g,y,f,M.extractedUrl,E).pipe((0,ce.U)(F=>({...M,urlAfterRedirects:F}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,f.config),(0,gt.b)(ut=>{this.currentNavigation={...this.currentNavigation,finalUrl:ut.urlAfterRedirects},E.urlAfterRedirects=ut.urlAfterRedirects}),function Yi(g,y,f,E,M){return(0,mt.z)(F=>function U(g,y,f,E,M,F,B="emptyOnly"){return new Z(g,y,f,E,M,B,F).recognize().pipe(Re(oe=>null===oe?function T(g){return new ke.y(y=>y.error(g))}(new O):L(oe)))}(g,y,f,F.urlAfterRedirects,E.serialize(F.urlAfterRedirects),E,M).pipe((0,ce.U)(B=>({...F,targetSnapshot:B}))))}(this.environmentInjector,this.rootComponentType,f.config,this.urlSerializer,f.paramsInheritanceStrategy),(0,gt.b)(ut=>{if(E.targetSnapshot=ut.targetSnapshot,"eager"===f.urlUpdateStrategy){if(!ut.extras.skipLocationChange){const Nr=f.urlHandlingStrategy.merge(ut.urlAfterRedirects,ut.rawUrl);f.setBrowserUrl(Nr,ut)}f.browserUrlTree=ut.urlAfterRedirects}const gn=new Hi(ut.id,this.urlSerializer.serialize(ut.extractedUrl),this.urlSerializer.serialize(ut.urlAfterRedirects),ut.targetSnapshot);this.events.next(gn)}));if(xe&&f.urlHandlingStrategy.shouldProcessUrl(f.rawUrlTree)){const{id:ut,extractedUrl:gn,source:Nr,restoredState:Ss,extras:Ji}=B,zs=new Co(ut,this.urlSerializer.serialize(gn),Nr,Ss);this.events.next(zs);const ri=_s(gn,this.rootComponentType).snapshot;return L(E={...B,targetSnapshot:ri,urlAfterRedirects:gn,extras:{...Ji,skipLocationChange:!1,replaceUrl:!1}})}{const ut="";return this.events.next(new sr(B.id,f.serializeUrl(E.extractedUrl),ut,1)),f.rawUrlTree=B.rawUrl,B.resolve(null),ye.E}}),(0,gt.b)(B=>{const oe=new zi(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(oe)}),(0,ce.U)(B=>E={...B,guards:Ja(B.targetSnapshot,B.currentSnapshot,this.rootContexts)}),function No(g,y){return(0,mt.z)(f=>{const{targetSnapshot:E,currentSnapshot:M,guards:{canActivateChecks:F,canDeactivateChecks:B}}=f;return 0===B.length&&0===F.length?L({...f,guardsResult:!0}):function Xa(g,y,f,E){return(0,W.D)(g).pipe((0,mt.z)(M=>function aa(g,y,f,E,M){const F=y&&y.routeConfig?y.routeConfig.canDeactivate:null;return F&&0!==F.length?L(F.map(oe=>{const xe=cr(y)??M,ct=Wt(oe,xe);return Xt(function un(g){return g&&Ie(g.canDeactivate)}(ct)?ct.canDeactivate(g,y,f,E):xe.runInContext(()=>ct(g,y,f,E))).pipe(zt())})).pipe(lr()):L(!0)}(M.component,M.route,f,y,E)),zt(M=>!0!==M,!0))}(B,E,M,g).pipe((0,mt.z)(oe=>oe&&function At(g){return"boolean"==typeof g}(oe)?function Ca(g,y,f,E){return(0,W.D)(y).pipe(Dt(M=>ze(function oa(g,y){return null!==g&&y&&y(new ro(g)),L(!0)}(M.route.parent,E),function bu(g,y){return null!==g&&y&&y(new To(g)),L(!0)}(M.route,E),function Kn(g,y,f){const E=y[y.length-1],F=y.slice(0,y.length-1).reverse().map(B=>function Po(g){const y=g.routeConfig?g.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:g,guards:y}:null}(B)).filter(B=>null!==B).map(B=>We(()=>L(B.guards.map(xe=>{const ct=cr(B.node)??f,ut=Wt(xe,ct);return Xt(function Oe(g){return g&&Ie(g.canActivateChild)}(ut)?ut.canActivateChild(E,g):ct.runInContext(()=>ut(E,g))).pipe(zt())})).pipe(lr())));return L(F).pipe(lr())}(g,M.path,f),function wi(g,y,f){const E=y.routeConfig?y.routeConfig.canActivate:null;if(!E||0===E.length)return L(!0);const M=E.map(F=>We(()=>{const B=cr(y)??f,oe=Wt(F,B);return Xt(function Dr(g){return g&&Ie(g.canActivate)}(oe)?oe.canActivate(y,g):B.runInContext(()=>oe(y,g))).pipe(zt())}));return L(M).pipe(lr())}(g,M.route,f))),zt(M=>!0!==M,!0))}(E,F,g,y):L(oe)),(0,ce.U)(oe=>({...f,guardsResult:oe})))})}(this.environmentInjector,B=>this.events.next(B)),(0,gt.b)(B=>{if(E.guardsResult=B.guardsResult,In(B.guardsResult))throw Es(0,B.guardsResult);const oe=new $r(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot,!!B.guardsResult);this.events.next(oe)}),je(B=>!!B.guardsResult||(f.restoreHistory(B),this.cancelNavigationTransition(B,"",3),!1)),Ma(B=>{if(B.guards.canActivateChecks.length)return L(B).pipe((0,gt.b)(oe=>{const xe=new Os(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot);this.events.next(xe)}),Re(oe=>{let xe=!1;return L(oe).pipe(function $s(g,y){return(0,mt.z)(f=>{const{targetSnapshot:E,guards:{canActivateChecks:M}}=f;if(!M.length)return L(f);let F=0;return(0,W.D)(M).pipe(Dt(B=>function Vo(g,y,f,E){const M=g.routeConfig,F=g._resolve;return void 0!==M?.title&&!Zi(M)&&(F[pr]=M.title),function Ni(g,y,f,E){const M=function go(g){return[...Object.keys(g),...Object.getOwnPropertySymbols(g)]}(g);if(0===M.length)return L({});const F={};return(0,W.D)(M).pipe((0,mt.z)(B=>function mo(g,y,f,E){const M=cr(y)??E,F=Wt(g,M);return Xt(F.resolve?F.resolve(y,f):M.runInContext(()=>F(y,f)))}(g[B],y,f,E).pipe(zt(),(0,gt.b)(oe=>{F[B]=oe}))),$n(1),function On(g){return(0,ce.U)(()=>g)}(F),xn(B=>sa(B)?ye.E:Ue(B)))}(F,g,y,E).pipe((0,ce.U)(B=>(g._resolvedData=B,g.data=ws(g,f).resolve,M&&Zi(M)&&(g.data[pr]=M.title),null)))}(B.route,E,g,y)),(0,gt.b)(()=>F++),$n(1),(0,mt.z)(B=>F===M.length?L(f):ye.E))})}(f.paramsInheritanceStrategy,this.environmentInjector),(0,gt.b)({next:()=>xe=!0,complete:()=>{xe||(f.restoreHistory(oe),this.cancelNavigationTransition(oe,"",2))}}))}),(0,gt.b)(oe=>{const xe=new no(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot);this.events.next(xe)}))}),Ma(B=>{const oe=xe=>{const ct=[];xe.routeConfig?.loadComponent&&!xe.routeConfig._loadedComponent&&ct.push(this.configLoader.loadComponent(xe.routeConfig).pipe((0,gt.b)(ut=>{xe.component=ut}),(0,ce.U)(()=>{})));for(const ut of xe.children)ct.push(...oe(ut));return ct};return _t(oe(B.targetSnapshot.root)).pipe(en(),Le(1))}),Ma(()=>this.afterPreactivation()),(0,ce.U)(B=>{const oe=function Za(g,y,f){const E=yi(g,y._root,f?f._root:void 0);return new ks(E,y)}(f.routeReuseStrategy,B.targetSnapshot,B.currentRouterState);return E={...B,targetRouterState:oe}}),(0,gt.b)(B=>{f.currentUrlTree=B.urlAfterRedirects,f.rawUrlTree=f.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl),f.routerState=B.targetRouterState,"deferred"===f.urlUpdateStrategy&&(B.extras.skipLocationChange||f.setBrowserUrl(f.rawUrlTree,B),f.browserUrlTree=B.urlAfterRedirects)}),((g,y,f)=>(0,ce.U)(E=>(new fo(y,E.targetRouterState,E.currentRouterState,f).activate(g),E)))(this.rootContexts,f.routeReuseStrategy,B=>this.events.next(B)),Le(1),(0,gt.b)({next:B=>{M=!0,this.lastSuccessfulNavigation=this.currentNavigation,f.navigated=!0,this.events.next(new jn(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(f.currentUrlTree))),f.titleStrategy?.updateTitle(B.targetRouterState.snapshot),B.resolve(!0)},complete:()=>{M=!0}}),Fr(()=>{M||F||this.cancelNavigationTransition(E,"",1),this.currentNavigation?.id===E.id&&(this.currentNavigation=null)}),xn(B=>{if(F=!0,Ls(B)){qi(B)||(f.navigated=!0,f.restoreHistory(E,!0));const oe=new na(E.id,this.urlSerializer.serialize(E.extractedUrl),B.message,B.cancellationCode);if(this.events.next(oe),qi(B)){const xe=f.urlHandlingStrategy.merge(B.url,f.rawUrlTree),ct={skipLocationChange:E.extras.skipLocationChange,replaceUrl:"eager"===f.urlUpdateStrategy||wc(E.source)};f.scheduleNavigation(xe,xi,null,ct,{resolve:E.resolve,reject:E.reject,promise:E.promise})}else E.resolve(!1)}else{f.restoreHistory(E,!0);const oe=new or(E.id,this.urlSerializer.serialize(E.extractedUrl),B,E.targetSnapshot??void 0);this.events.next(oe);try{E.resolve(f.errorHandler(B))}catch(xe){E.reject(xe)}}return ye.E}))}))}cancelNavigationTransition(f,E,M){const F=new na(f.id,this.urlSerializer.serialize(f.extractedUrl),E,M);this.events.next(F),f.resolve(!1)}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function wc(g){return g!==xi}let Ra=(()=>{class g{buildTitle(f){let E,M=f.root;for(;void 0!==M;)E=this.getResolvedTitleForRoute(M)??E,M=M.children.find(F=>F.outlet===wt);return E}getResolvedTitleForRoute(f){return f.data[pr]}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=_.Yz7({token:g,factory:function(){return(0,_.f3M)(Ef)},providedIn:"root"}),g})(),Ef=(()=>{class g extends Ra{constructor(f){super(),this.title=f}updateTitle(f){const E=this.buildTitle(f);void 0!==E&&this.title.setTitle(E)}}return g.\u0275fac=function(f){return new(f||g)(_.LFG($i.Dx))},g.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),If=(()=>{class g{}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=_.Yz7({token:g,factory:function(){return(0,_.f3M)(Ec)},providedIn:"root"}),g})();class Au{shouldDetach(y){return!1}store(y,f){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,f){return y.routeConfig===f.routeConfig}}let Ec=(()=>{class g extends Au{}return g.\u0275fac=function(){let y;return function(E){return(y||(y=_.n5z(g)))(E||g)}}(),g.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const dr=new _.OlP("",{providedIn:"root",factory:()=>({})});let Mu=(()=>{class g{}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=_.Yz7({token:g,factory:function(){return(0,_.f3M)(Pa)},providedIn:"root"}),g})(),Pa=(()=>{class g{shouldProcessUrl(f){return!0}extract(f){return f}merge(f,E){return f}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function ou(g){throw g}function ui(g,y,f){return y.parse("/")}const Df={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Oi=(()=>{class g{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,_.f3M)(_.c2e),this.isNgZoneEnabled=!1,this.options=(0,_.f3M)(dr,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ou,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ui,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.f3M)(Mu),this.routeReuseStrategy=(0,_.f3M)(If),this.urlCreationStrategy=(0,_.f3M)(oi),this.titleStrategy=(0,_.f3M)(Ra),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=rn((0,_.f3M)(ls,{optional:!0})??[]),this.navigationTransitions=(0,_.f3M)(su),this.urlSerializer=(0,_.f3M)(Y),this.location=(0,_.f3M)(ge.Ye),this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_s(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(f=>{this.lastSuccessfulId=f.id,this.currentPageId=this.browserPageId??0},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)})}resetRootComponentType(f){this.routerState.root.component=f,this.navigationTransitions.rootComponentType=f}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const f=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xi,f)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const E="popstate"===f.type?"popstate":"hashchange";"popstate"===E&&setTimeout(()=>{this.navigateToSyncWithBrowser(f.url,E,f.state)},0)}))}navigateToSyncWithBrowser(f,E,M){const F={replaceUrl:!0},B=M?.navigationId?M:null;if(M){const xe={...M};delete xe.navigationId,delete xe.\u0275routerPageId,0!==Object.keys(xe).length&&(F.state=xe)}const oe=this.parseUrl(f);this.scheduleNavigation(oe,E,B,F)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(f){this.config=f.map(cs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(f,E={}){const{relativeTo:M,queryParams:F,fragment:B,queryParamsHandling:oe,preserveFragment:xe}=E,ct=xe?this.currentUrlTree.fragment:B;let ut=null;switch(oe){case"merge":ut={...this.currentUrlTree.queryParams,...F};break;case"preserve":ut=this.currentUrlTree.queryParams;break;default:ut=F||null}return null!==ut&&(ut=this.removeEmptyProps(ut)),this.urlCreationStrategy.createUrlTree(M,this.routerState,this.currentUrlTree,f,ut,ct??null)}navigateByUrl(f,E={skipLocationChange:!1}){const M=In(f)?f:this.parseUrl(f),F=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(F,xi,null,E)}navigate(f,E={skipLocationChange:!1}){return function au(g){for(let y=0;y<g.length;y++){const f=g[y];if(null==f)throw new _.vHH(4008,false)}}(f),this.navigateByUrl(this.createUrlTree(f,E),E)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let E;try{E=this.urlSerializer.parse(f)}catch(M){E=this.malformedUriErrorHandler(M,this.urlSerializer,f)}return E}isActive(f,E){let M;if(M=!0===E?{...Df}:!1===E?{...xu}:E,In(f))return qr(this.currentUrlTree,f,M);const F=this.parseUrl(f);return qr(this.currentUrlTree,F,M)}removeEmptyProps(f){return Object.keys(f).reduce((E,M)=>{const F=f[M];return null!=F&&(E[M]=F),E},{})}scheduleNavigation(f,E,M,F,B){if(this.disposed)return Promise.resolve(!1);let oe,xe,ct,ut;return B?(oe=B.resolve,xe=B.reject,ct=B.promise):ct=new Promise((gn,Nr)=>{oe=gn,xe=Nr}),ut="computed"===this.canceledNavigationResolution?M&&M.\u0275routerPageId?M.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:ut,source:E,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:f,extras:F,resolve:oe,reject:xe,promise:ct,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ct.catch(gn=>Promise.reject(gn))}setBrowserUrl(f,E){const M=this.urlSerializer.serialize(f);if(this.location.isCurrentPathEqualTo(M)||E.extras.replaceUrl){const B={...E.extras.state,...this.generateNgRouterState(E.id,this.browserPageId)};this.location.replaceState(M,"",B)}else{const F={...E.extras.state,...this.generateNgRouterState(E.id,E.targetPageId)};this.location.go(M,"",F)}}restoreHistory(f,E=!1){if("computed"===this.canceledNavigationResolution){const F=this.currentPageId-(this.browserPageId??this.currentPageId);0!==F?this.location.historyGo(F):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===F&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(E&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(f,E){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:E}:{navigationId:f}}}return g.\u0275fac=function(f){return new(f||g)},g.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Na=(()=>{class g{constructor(f,E,M,F,B,oe){this.router=f,this.route=E,this.tabIndexAttribute=M,this.renderer=F,this.el=B,this.locationStrategy=oe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new K.x;const xe=B.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===xe||"area"===xe,this.isAnchorElement?this.subscription=f.events.subscribe(ct=>{ct instanceof jn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(f){this._preserveFragment=(0,_.D6c)(f)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(f){this._skipLocationChange=(0,_.D6c)(f)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(f){this._replaceUrl=(0,_.D6c)(f)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(f){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",f)}ngOnChanges(f){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(f){null!=f?(this.commands=Array.isArray(f)?f:[f],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(f,E,M,F,B){return!!(null===this.urlTree||this.isAnchorElement&&(0!==f||E||M||F||B||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const f=null===this.href?null:(0,_.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",f)}applyAttributeValue(f,E){const M=this.renderer,F=this.el.nativeElement;null!==E?M.setAttribute(F,f,E):M.removeAttribute(F,f)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return g.\u0275fac=function(f){return new(f||g)(_.Y36(Oi),_.Y36(Ri),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(ge.S$))},g.\u0275dir=_.lG2({type:g,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(f,E){1&f&&_.NdJ("click",function(F){return E.onClick(F.button,F.ctrlKey,F.shiftKey,F.altKey,F.metaKey)}),2&f&&_.uIk("target",E.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[_.TTD]}),g})();class Bo{}let Pu=(()=>{class g{constructor(f,E,M,F,B){this.router=f,this.injector=M,this.preloadingStrategy=F,this.loader=B}setUpPreloading(){this.subscription=this.router.events.pipe(je(f=>f instanceof jn),Dt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,E){const M=[];for(const F of E){F.providers&&!F._injector&&(F._injector=(0,_.MMx)(F.providers,f,`Route: ${F.path}`));const B=F._injector??f,oe=F._loadedInjector??B;(F.loadChildren&&!F._loadedRoutes&&void 0===F.canLoad||F.loadComponent&&!F._loadedComponent)&&M.push(this.preloadConfig(B,F)),(F.children||F._loadedRoutes)&&M.push(this.processRoutes(oe,F.children??F._loadedRoutes))}return(0,W.D)(M).pipe((0,an.J)())}preloadConfig(f,E){return this.preloadingStrategy.preload(E,()=>{let M;M=E.loadChildren&&void 0===E.canLoad?this.loader.loadChildren(f,E):L(null);const F=M.pipe((0,mt.z)(B=>null===B?L(void 0):(E._loadedRoutes=B.routes,E._loadedInjector=B.injector,this.processRoutes(B.injector??f,B.routes))));if(E.loadComponent&&!E._loadedComponent){const B=this.loader.loadComponent(E);return(0,W.D)([F,B]).pipe((0,an.J)())}return F})}}return g.\u0275fac=function(f){return new(f||g)(_.LFG(Oi),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(Bo),_.LFG(iu))},g.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const la=new _.OlP("");let Nu=(()=>{class g{constructor(f,E,M,F,B={}){this.urlSerializer=f,this.transitions=E,this.viewportScroller=M,this.zone=F,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof Co?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof jn&&(this.lastId=f.id,this.scheduleScrollEvent(f,this.urlSerializer.parse(f.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof ys&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,E){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ys(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,E))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return g.\u0275fac=function(f){_.$Z()},g.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac}),g})();var Qi=(()=>((Qi=Qi||{})[Qi.COMPLETE=0]="COMPLETE",Qi[Qi.FAILED=1]="FAILED",Qi[Qi.REDIRECTING=2]="REDIRECTING",Qi))();const Oa=!1;function Ei(g,y){return{\u0275kind:g,\u0275providers:y}}const $o=new _.OlP("",{providedIn:"root",factory:()=>!1});function js(){const g=(0,_.f3M)(_.zs3);return y=>{const f=g.get(_.z2F);if(y!==f.components[0])return;const E=g.get(Oi),M=g.get(vd);1===g.get(Ic)&&E.initialNavigation(),g.get(_d,null,_.XFs.Optional)?.setUpPreloading(),g.get(la,null,_.XFs.Optional)?.init(),E.resetRootComponentType(f.componentTypes[0]),M.closed||(M.next(),M.complete(),M.unsubscribe())}}const vd=new _.OlP(Oa?"bootstrap done indicator":"",{factory:()=>new K.x}),Ic=new _.OlP(Oa?"initial navigation":"",{providedIn:"root",factory:()=>1});function cl(){let g=[];return g=Oa?[{provide:_.Xts,multi:!0,useFactory:()=>{const y=(0,_.f3M)(Oi);return()=>y.events.subscribe(f=>{console.group?.(`Router Event: ${f.constructor.name}`),console.log(function Mr(g){if(!("type"in g))return`Unknown Router Event: ${g.constructor.name}`;switch(g.type){case 14:return`ActivationEnd(path: '${g.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${g.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${g.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${g.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state}, shouldActivate: ${g.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 2:return`NavigationCancel(id: ${g.id}, url: '${g.url}')`;case 16:return`NavigationSkipped(id: ${g.id}, url: '${g.url}')`;case 1:return`NavigationEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${g.id}, url: '${g.url}', error: ${g.error})`;case 0:return`NavigationStart(id: ${g.id}, url: '${g.url}')`;case 6:return`ResolveEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 5:return`ResolveStart(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 10:return`RouteConfigLoadEnd(path: ${g.route.path})`;case 9:return`RouteConfigLoadStart(path: ${g.route.path})`;case 4:return`RoutesRecognized(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 15:return`Scroll(anchor: '${g.anchor}', position: '${g.position?`${g.position[0]}, ${g.position[1]}`:null}')`}}(f)),console.log(f),console.groupEnd?.()})}}]:[],Ei(1,g)}const _d=new _.OlP(Oa?"router preloader":"");function ll(g){return Ei(0,[{provide:_d,useExisting:Pu},{provide:Bo,useExisting:g}])}const Ts=!1,Dc=new _.OlP(Ts?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Cr=[ge.Ye,{provide:Y,useClass:Q},Oi,us,{provide:Ri,useFactory:function Ou(g){return g.routerState.root},deps:[Oi]},iu,Ts?{provide:$o,useValue:!0}:[]];function Fu(){return new _.PXZ("Router",Oi)}let vo=(()=>{class g{constructor(f){}static forRoot(f,E){return{ngModule:g,providers:[Cr,Ts&&E?.enableTracing?cl().\u0275providers:[],{provide:ls,multi:!0,useValue:f},{provide:Dc,useFactory:Fa,deps:[[Oi,new _.FiY,new _.tp0]]},{provide:dr,useValue:E||{}},E?.useHash?{provide:ge.S$,useClass:ge.Do}:{provide:ge.S$,useClass:ge.b0},{provide:la,useFactory:()=>{const g=(0,_.f3M)(ge.EM),y=(0,_.f3M)(_.R0b),f=(0,_.f3M)(dr),E=(0,_.f3M)(su),M=(0,_.f3M)(Y);return f.scrollOffset&&g.setOffset(f.scrollOffset),new Nu(M,E,g,y,f)}},E?.preloadingStrategy?ll(E.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:Fu},E?.initialNavigation?La(E):[],[{provide:Gs,useFactory:js},{provide:_.tb,multi:!0,useExisting:Gs}]]}}static forChild(f){return{ngModule:g,providers:[{provide:ls,multi:!0,useValue:f}]}}}return g.\u0275fac=function(f){return new(f||g)(_.LFG(Dc,8))},g.\u0275mod=_.oAB({type:g}),g.\u0275inj=_.cJS({imports:[Is]}),g})();function Fa(g){if(Ts&&g)throw new _.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function La(g){return["disabled"===g.initialNavigation?Ei(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const y=(0,_.f3M)(Oi);return()=>{y.setUpLocationChangeListener()}}},{provide:Ic,useValue:2}]).\u0275providers:[],"enabledBlocking"===g.initialNavigation?Ei(2,[{provide:Ic,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:y=>{const f=y.get(ge.V_,Promise.resolve());return()=>f.then(()=>new Promise(E=>{const M=y.get(Oi),F=y.get(vd);(function ol(g,y){g.events.pipe(je(f=>f instanceof jn||f instanceof na||f instanceof or||f instanceof sr),(0,ce.U)(f=>f instanceof jn||f instanceof sr?Qi.COMPLETE:f instanceof na&&(0===f.code||1===f.code)?Qi.REDIRECTING:Qi.FAILED),je(f=>f!==Qi.REDIRECTING),Le(1)).subscribe(()=>{y()})})(M,()=>{E(!0)}),y.get(su).afterPreactivation=()=>(E(!0),F.closed?L(void 0):F),M.initialNavigation()}))}}]).\u0275providers:[]]}const Gs=new _.OlP(Ts?"Router Initializer":"")},6881:(Ht,qe,G)=>{G.d(qe,{Jn:()=>ps,qX:()=>Xt,Xd:()=>Rn,Mq:()=>Vr,C6:()=>Ur,ZF:()=>hn,KN:()=>Lt});var _=G(5861),W=G(4859),ue=G(1877),L=G(2090);const K=(De,pe)=>pe.some($e=>De instanceof $e);let ve,Ve;const te=new WeakMap,ee=new WeakMap,Se=new WeakMap,tt=new WeakMap,Ee=new WeakMap;let Ut={get(De,pe,$e){if(De instanceof IDBTransaction){if("done"===pe)return ee.get(De);if("objectStoreNames"===pe)return De.objectStoreNames||Se.get(De);if("store"===pe)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return ze(De[pe])},set:(De,pe,$e)=>(De[pe]=$e,!0),has:(De,pe)=>De instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in De};function rt(De){return"function"==typeof De?function an(De){return De!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(De)?function(...pe){return De.apply(He(this),pe),ze(te.get(this))}:function(...pe){return ze(De.apply(He(this),pe))}:function(pe,...$e){const Et=De.call(He(this),pe,...$e);return Se.set(Et,pe.sort?pe.sort():[pe]),ze(Et)}}(De):(De instanceof IDBTransaction&&function _t(De){if(ee.has(De))return;const pe=new Promise(($e,Et)=>{const $t=()=>{De.removeEventListener("complete",Kt),De.removeEventListener("error",pn),De.removeEventListener("abort",pn)},Kt=()=>{$e(),$t()},pn=()=>{Et(De.error||new DOMException("AbortError","AbortError")),$t()};De.addEventListener("complete",Kt),De.addEventListener("error",pn),De.addEventListener("abort",pn)});ee.set(De,pe)}(De),K(De,function ot(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(De,Ut):De)}function ze(De){if(De instanceof IDBRequest)return function Xe(De){const pe=new Promise(($e,Et)=>{const $t=()=>{De.removeEventListener("success",Kt),De.removeEventListener("error",pn)},Kt=()=>{$e(ze(De.result)),$t()},pn=()=>{Et(De.error),$t()};De.addEventListener("success",Kt),De.addEventListener("error",pn)});return pe.then($e=>{$e instanceof IDBCursor&&te.set($e,De)}).catch(()=>{}),Ee.set(pe,De),pe}(De);if(tt.has(De))return tt.get(De);const pe=rt(De);return pe!==De&&(tt.set(De,pe),Ee.set(pe,De)),pe}const He=De=>Ee.get(De),re=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],ye=new Map;function Ke(De,pe){if(!(De instanceof IDBDatabase)||pe in De||"string"!=typeof pe)return;if(ye.get(pe))return ye.get(pe);const $e=pe.replace(/FromIndex$/,""),Et=pe!==$e,$t=Ue.includes($e);if(!($e in(Et?IDBIndex:IDBObjectStore).prototype)||!$t&&!re.includes($e))return;const Kt=function(){var pn=(0,_.Z)(function*(Qn,...In){const Br=this.transaction(Qn,$t?"readwrite":"readonly");let gs=Br.store;return Et&&(gs=gs.index(In.shift())),(yield Promise.all([gs[$e](...In),$t&&Br.done]))[0]});return function(In){return pn.apply(this,arguments)}}();return ye.set(pe,Kt),Kt}!function Nt(De){Ut=De(Ut)}(De=>({...De,get:(pe,$e,Et)=>Ke(pe,$e)||De.get(pe,$e,Et),has:(pe,$e)=>!!Ke(pe,$e)||De.has(pe,$e)}));class lt{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map($e=>{if(function Te(De){return"VERSION"===De.getComponent()?.type}($e)){const Et=$e.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter($e=>$e).join(" ")}}const at="@firebase/app",ce=new ue.Yd("@firebase/app"),wr="[DEFAULT]",mr={[at]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lr=new Map,rn=new Map;function Fe(De,pe){try{De.container.addComponent(pe)}catch($e){ce.debug(`Component ${pe.name} failed to register with FirebaseApp ${De.name}`,$e)}}function Rn(De){const pe=De.name;if(rn.has(pe))return ce.debug(`There were multiple attempts to register component ${pe}.`),!1;rn.set(pe,De);for(const $e of Lr.values())Fe($e,De);return!0}function Xt(De,pe){const $e=De.container.getProvider("heartbeat").getImmediate({optional:!0});return $e&&$e.triggerHeartbeat(),De.container.getProvider(pe)}const qr=new L.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Tn{constructor(pe,$e,Et){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},$e),this._name=$e.name,this._automaticDataCollectionEnabled=$e.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const ps="9.21.0";function hn(De,pe={}){let $e=De;"object"!=typeof pe&&(pe={name:pe});const Et=Object.assign({name:wr,automaticDataCollectionEnabled:!1},pe),$t=Et.name;if("string"!=typeof $t||!$t)throw qr.create("bad-app-name",{appName:String($t)});if($e||($e=(0,L.aH)()),!$e)throw qr.create("no-options");const Kt=Lr.get($t);if(Kt){if((0,L.vZ)($e,Kt.options)&&(0,L.vZ)(Et,Kt.config))return Kt;throw qr.create("duplicate-app",{appName:$t})}const pn=new W.H0($t);for(const In of rn.values())pn.addComponent(In);const Qn=new Tn($e,Et,pn);return Lr.set($t,Qn),Qn}function Vr(De=wr){const pe=Lr.get(De);if(!pe&&De===wr)return hn();if(!pe)throw qr.create("no-app",{appName:De});return pe}function Ur(){return Array.from(Lr.values())}function Lt(De,pe,$e){var Et;let $t=null!==(Et=mr[De])&&void 0!==Et?Et:De;$e&&($t+=`-${$e}`);const Kt=$t.match(/\s|\//),pn=pe.match(/\s|\//);if(Kt||pn){const Qn=[`Unable to register library "${$t}" with version "${pe}":`];return Kt&&Qn.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),Kt&&pn&&Qn.push("and"),pn&&Qn.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void ce.warn(Qn.join(" "))}Rn(new W.wA(`${$t}-version`,()=>({library:$t,version:pe}),"VERSION"))}const fn="firebase-heartbeat-database",Kr=1,Y="firebase-heartbeat-store";let Q=null;function se(){return Q||(Q=function We(De,pe,{blocked:$e,upgrade:Et,blocking:$t,terminated:Kt}={}){const pn=indexedDB.open(De,pe),Qn=ze(pn);return Et&&pn.addEventListener("upgradeneeded",In=>{Et(ze(pn.result),In.oldVersion,In.newVersion,ze(pn.transaction),In)}),$e&&pn.addEventListener("blocked",In=>$e(In.oldVersion,In.newVersion,In)),Qn.then(In=>{Kt&&In.addEventListener("close",()=>Kt()),$t&&In.addEventListener("versionchange",Br=>$t(Br.oldVersion,Br.newVersion,Br))}).catch(()=>{}),Qn}(fn,Kr,{upgrade:(De,pe)=>{0===pe&&De.createObjectStore(Y)}}).catch(De=>{throw qr.create("idb-open",{originalErrorMessage:De.message})})),Q}function he(){return(he=(0,_.Z)(function*(De){try{return(yield se()).transaction(Y).objectStore(Y).get(J(De))}catch(pe){if(pe instanceof L.ZR)ce.warn(pe.message);else{const $e=qr.create("idb-get",{originalErrorMessage:pe?.message});ce.warn($e.message)}}})).apply(this,arguments)}function pt(De,pe){return ie.apply(this,arguments)}function ie(){return(ie=(0,_.Z)(function*(De,pe){try{const Et=(yield se()).transaction(Y,"readwrite");return yield Et.objectStore(Y).put(pe,J(De)),Et.done}catch($e){if($e instanceof L.ZR)ce.warn($e.message);else{const Et=qr.create("idb-set",{originalErrorMessage:$e?.message});ce.warn(Et.message)}}})).apply(this,arguments)}function J(De){return`${De.name}!${De.options.appId}`}class be{constructor(pe){this.container=pe,this._heartbeatsCache=null;const $e=this.container.getProvider("app").getImmediate();this._storage=new Tt($e),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var pe=this;return(0,_.Z)(function*(){const Et=pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$t=Be();if(null===pe._heartbeatsCache&&(pe._heartbeatsCache=yield pe._heartbeatsCachePromise),pe._heartbeatsCache.lastSentHeartbeatDate!==$t&&!pe._heartbeatsCache.heartbeats.some(Kt=>Kt.date===$t))return pe._heartbeatsCache.heartbeats.push({date:$t,agent:Et}),pe._heartbeatsCache.heartbeats=pe._heartbeatsCache.heartbeats.filter(Kt=>{const pn=new Date(Kt.date).valueOf();return Date.now()-pn<=2592e6}),pe._storage.overwrite(pe._heartbeatsCache)})()}getHeartbeatsHeader(){var pe=this;return(0,_.Z)(function*(){if(null===pe._heartbeatsCache&&(yield pe._heartbeatsCachePromise),null===pe._heartbeatsCache||0===pe._heartbeatsCache.heartbeats.length)return"";const $e=Be(),{heartbeatsToSend:Et,unsentEntries:$t}=function St(De,pe=1024){const $e=[];let Et=De.slice();for(const $t of De){const Kt=$e.find(pn=>pn.agent===$t.agent);if(Kt){if(Kt.dates.push($t.date),Pn($e)>pe){Kt.dates.pop();break}}else if($e.push({agent:$t.agent,dates:[$t.date]}),Pn($e)>pe){$e.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:$e,unsentEntries:Et}}(pe._heartbeatsCache.heartbeats),Kt=(0,L.L)(JSON.stringify({version:2,heartbeats:Et}));return pe._heartbeatsCache.lastSentHeartbeatDate=$e,$t.length>0?(pe._heartbeatsCache.heartbeats=$t,yield pe._storage.overwrite(pe._heartbeatsCache)):(pe._heartbeatsCache.heartbeats=[],pe._storage.overwrite(pe._heartbeatsCache)),Kt})()}}function Be(){return(new Date).toISOString().substring(0,10)}class Tt{constructor(pe){this.app=pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,L.hl)()&&(0,L.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pe=this;return(0,_.Z)(function*(){return(yield pe._canUseIndexedDBPromise)&&(yield function Me(De){return he.apply(this,arguments)}(pe.app))||{heartbeats:[]}})()}overwrite(pe){var $e=this;return(0,_.Z)(function*(){var Et;if(yield $e._canUseIndexedDBPromise){const Kt=yield $e.read();return pt($e.app,{lastSentHeartbeatDate:null!==(Et=pe.lastSentHeartbeatDate)&&void 0!==Et?Et:Kt.lastSentHeartbeatDate,heartbeats:pe.heartbeats})}})()}add(pe){var $e=this;return(0,_.Z)(function*(){var Et;if(yield $e._canUseIndexedDBPromise){const Kt=yield $e.read();return pt($e.app,{lastSentHeartbeatDate:null!==(Et=pe.lastSentHeartbeatDate)&&void 0!==Et?Et:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...pe.heartbeats]})}})()}}function Pn(De){return(0,L.L)(JSON.stringify({version:2,heartbeats:De})).length}!function yr(De){Rn(new W.wA("platform-logger",pe=>new lt(pe),"PRIVATE")),Rn(new W.wA("heartbeat",pe=>new be(pe),"PRIVATE")),Lt(at,"0.9.9",De),Lt(at,"0.9.9","esm2017"),Lt("fire-js","")}("")},4859:(Ht,qe,G)=>{G.d(qe,{H0:()=>ot,wA:()=>ue});var _=G(5861),W=G(2090);class ue{constructor(te,ee,Se){this.name=te,this.instanceFactory=ee,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const L="[DEFAULT]";class K{constructor(te,ee){this.name=te,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ee=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ee)){const Se=new W.BH;if(this.instancesDeferred.set(ee,Se),this.isInitialized(ee)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:ee});tt&&Se.resolve(tt)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(te){var ee;const Se=this.normalizeInstanceIdentifier(te?.identifier),tt=null!==(ee=te?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Ee){if(tt)return null;throw Ee}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Ve(ke){return"EAGER"===ke.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:L})}catch{}for(const[ee,Se]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(ee);try{const Ee=this.getOrInitializeService({instanceIdentifier:tt});Se.resolve(Ee)}catch{}}}}clearInstance(te=L){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,_.Z)(function*(){const ee=Array.from(te.instances.values());yield Promise.all([...ee.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...ee.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=L){return this.instances.has(te)}getOptions(te=L){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ee={}}=te,Se=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:Se,options:ee});for(const[Ee,Xe]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Ee)&&Xe.resolve(tt);return tt}onInit(te,ee){var Se;const tt=this.normalizeInstanceIdentifier(ee),Ee=null!==(Se=this.onInitCallbacks.get(tt))&&void 0!==Se?Se:new Set;Ee.add(te),this.onInitCallbacks.set(tt,Ee);const Xe=this.instances.get(tt);return Xe&&te(Xe,tt),()=>{Ee.delete(te)}}invokeOnInitCallbacks(te,ee){const Se=this.onInitCallbacks.get(ee);if(Se)for(const tt of Se)try{tt(te,ee)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ee={}}){let Se=this.instances.get(te);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=te,ke===L?void 0:ke),options:ee}),this.instances.set(te,Se),this.instancesOptions.set(te,ee),this.invokeOnInitCallbacks(Se,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Se)}catch{}var ke;return Se||null}normalizeInstanceIdentifier(te=L){return this.component?this.component.multipleInstances?te:L:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ot{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ee=this.getProvider(te.name);if(ee.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ee.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ee=new K(te,this);return this.providers.set(te,ee),ee}getProviders(){return Array.from(this.providers.values())}}},1877:(Ht,qe,G)=>{G.d(qe,{Yd:()=>Ve,in:()=>W});const _=[];var W=(()=>{return(te=W||(W={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",W;var te})();const ue={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},L=W.INFO,K={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},ve=(te,ee,...Se)=>{if(ee<te.logLevel)return;const tt=(new Date).toISOString(),Ee=K[ee];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Ee](`[${tt}]  ${te.name}:`,...Se)};class Ve{constructor(ee){this.name=ee,this._logLevel=L,this._logHandler=ve,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in W))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?ue[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...ee),this._logHandler(this,W.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...ee),this._logHandler(this,W.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,W.INFO,...ee),this._logHandler(this,W.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,W.WARN,...ee),this._logHandler(this,W.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...ee),this._logHandler(this,W.ERROR,...ee)}}},259:(Ht,qe,G)=>{G.d(qe,{C6:()=>_.C6,KN:()=>_.KN,Mq:()=>_.Mq,ZF:()=>_.ZF});var _=G(6881);(0,_.KN)("firebase","9.21.0","app")},5861:(Ht,qe,G)=>{function _(ue,L,K,ve,Ve,ot,ke){try{var te=ue[ot](ke),ee=te.value}catch(Se){return void K(Se)}te.done?L(ee):Promise.resolve(ee).then(ve,Ve)}function W(ue){return function(){var L=this,K=arguments;return new Promise(function(ve,Ve){var ot=ue.apply(L,K);function ke(ee){_(ot,ve,Ve,ke,te,"next",ee)}function te(ee){_(ot,ve,Ve,ke,te,"throw",ee)}ke(void 0)})}}G.d(qe,{Z:()=>W})}},Ht=>{Ht(Ht.s=9454)}]);